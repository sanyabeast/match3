(()=>{"use strict";var __webpack_modules__={56:()=>{eval("\n;// ./ts/constants.ts\n/**\n * Game Constants\n */\n// Element IDs\nvar ELEMENT_IDS = {\n    FIELD: 'field',\n    SCOREBOARD: 'scoreboard',\n    LEVELINFO: 'levelinfo',\n    WRAPPER: 'wrapper',\n    RESTART: 'restart'\n};\n// CSS Classes\nvar CSS_CLASSES = {\n    GEM: 'gem',\n    CHOSEN: 'chosen',\n    DEAD: 'dead',\n    DRAGGING: 'dragging',\n    DRAG_TARGET: 'drag-target'\n};\n// Game States\nvar GemState;\n(function (GemState) {\n    GemState[\"ALIVE\"] = \"alive\";\n    GemState[\"DEAD\"] = \"dead\";\n})(GemState || (GemState = {}));\n// Data Attributes\nvar DATA_ATTRIBUTES = {\n    J: 'data-j',\n    K: 'data-k',\n    COLOR: 'data-color'\n};\n// Game Settings\nvar DEFAULT_SETTINGS = {\n    INITIAL_SIZE: 12, // Fixed grid size to 10x10 for better gameplay\n    MIN_LINE: 3,\n    INITIAL_COLORS: 4,\n    INITIAL_TIME: 180,\n    FIELD_SIZE: 500, // pixels\n    ANIMATION_DELAY: 150, // milliseconds - reduced from 200ms\n    SWAP_DELAY: 150, // milliseconds - reduced from 200ms\n    KILL_DELAY: 300, // milliseconds - reduced from 450ms\n    LEVEL_START_DELAY: 500, // milliseconds\n    COUNTDOWN_INTERVAL: 1000, // milliseconds\n    SCORE_MULTIPLIER: 36,\n    // Animation settings\n    FALL_DELAY_PER_ROW: 15, // milliseconds delay per row - reduced from 30ms\n    FALL_ANIMATION_DURATION: 250, // milliseconds - reduced from 400ms\n    BOUNCE_DELAY: 100, // milliseconds - reduced from 150ms (though no longer used)\n    // Target score calculation constants\n    TARGET_SCORE_BASE: 10000,\n    TARGET_SCORE_FACTOR: Math.sqrt, // Function to apply to level number\n    // Time settings\n    TIME_INCREASE_PER_LEVEL: 2.5 // Additional seconds per level (level * 5 / 2)\n};\n// Gem Symbols\nvar GEM_SYMBOLS = ['⚜', '☄', '♗', '♆', '♙', '❦', '☣', '♞', '♨', '♟'];\n// Match Chain Actions\nvar MatchAction;\n(function (MatchAction) {\n    MatchAction[\"CHECK\"] = \"check\";\n})(MatchAction || (MatchAction = {}));\n\n;// ./ts/Gem.ts\n\n/**\n * Represents a gem in the Match3 game\n */\nvar Gem = /** @class */ (function () {\n    function Gem(element, boardSize) {\n        this._elem = element;\n        this._state = GemState.DEAD;\n        this._color = 0;\n        this._boardSize = boardSize;\n        // Add CSS transition for smoother animations\n        this._elem.style.transition = 'top 0.3s cubic-bezier(0.215, 0.610, 0.355, 1.000), left 0.15s ease-in, transform 0.2s ease-out, opacity 0.15s ease-out';\n    }\n    Object.defineProperty(Gem.prototype, \"elem\", {\n        /**\n         * Gets the HTML element representing the gem\n         */\n        get: function () {\n            return this._elem;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Gem.prototype, \"state\", {\n        /**\n         * Gets the current state of the gem\n         */\n        get: function () {\n            return this._state;\n        },\n        /**\n         * Sets the current state of the gem\n         */\n        set: function (value) {\n            this._state = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Gem.prototype, \"color\", {\n        /**\n         * Gets the color of the gem\n         */\n        get: function () {\n            return this._color;\n        },\n        /**\n         * Sets the color of the gem\n         */\n        set: function (value) {\n            this._color = value;\n            this._elem.innerHTML = value >= 0 ? \"\".concat(value) : '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Updates the board size reference\n     */\n    Gem.prototype.updateBoardSize = function (size) {\n        this._boardSize = size;\n    };\n    /**\n     * Kills the gem (marks it as dead and animates it off the board)\n     */\n    Gem.prototype.kill = function () {\n        // Mark the gem as dead\n        this._state = GemState.DEAD;\n        // Add the dead class to apply CSS styles\n        this._elem.classList.add(CSS_CLASSES.DEAD);\n        // Make sure transitions are reset\n        this._elem.style.transition = 'none';\n        this._elem.style.transform = 'none';\n        this._elem.style.opacity = '1';\n        // Force a reflow to ensure the reset is applied\n        void this._elem.offsetWidth;\n        // Set up the animation - make it faster (0.4s instead of 0.6s)\n        this._elem.style.transition = 'transform 0.4s ease-in, opacity 0.4s ease-in';\n        // Direct falling down animation\n        this._elem.style.transform = 'translateY(100%) scale(0.8)';\n        this._elem.style.opacity = '0';\n    };\n    /**\n     * Places the gem at its correct position on the board\n     */\n    Gem.prototype.place = function () {\n        var j = parseInt(this._elem.getAttribute(DATA_ATTRIBUTES.J) || '0', 10);\n        var k = parseInt(this._elem.getAttribute(DATA_ATTRIBUTES.K) || '0', 10);\n        // Use linear transition for smoother falling\n        this._elem.style.transition = \"top \".concat(DEFAULT_SETTINGS.FALL_ANIMATION_DURATION / 1000, \"s linear, left 0.15s linear, transform 0.15s ease-out, opacity 0.15s ease-out\");\n        // Simplify the transform - no bounce effect for smoother animation\n        this._elem.style.transform = 'scale(1)';\n        this._elem.style.opacity = '1';\n        // Position the gem\n        this._elem.style.top = \"\".concat(j * (100 / this._boardSize), \"%\");\n        this._elem.style.left = \"\".concat(k * (100 / this._boardSize), \"%\");\n    };\n    return Gem;\n}());\n\n\n;// ./ts/SoundManager.ts\n/**\n * Sound manager for the Match3 game\n * Handles loading and playing sound effects\n */\nvar SoundManager = /** @class */ (function () {\n    /**\n     * Private constructor to enforce singleton pattern\n     */\n    function SoundManager() {\n        this.sounds = new Map();\n        this.enabled = true;\n        this.backgroundMusic = null;\n        this.audioContext = null;\n        this.hasUserInteraction = false;\n        this.loadSounds();\n        this.initBackgroundMusic();\n    }\n    /**\n     * Get the singleton instance\n     */\n    SoundManager.getInstance = function () {\n        if (!SoundManager.instance) {\n            SoundManager.instance = new SoundManager();\n        }\n        return SoundManager.instance;\n    };\n    /**\n     * Load all sound effects\n     */\n    SoundManager.prototype.loadSounds = function () {\n        this.loadSound(SoundManager.SOUND_EFFECTS.EXPLOSION, 'explosion.mp3');\n        this.loadSound(SoundManager.SOUND_EFFECTS.FAIL, 'fail.mp3');\n        this.loadSound(SoundManager.SOUND_EFFECTS.FILL, 'fill.mp3');\n        this.loadSound(SoundManager.SOUND_EFFECTS.SWAP, 'swap.mp3');\n        this.loadSound(SoundManager.SOUND_EFFECTS.TURN, 'turn.mp3');\n    };\n    /**\n     * Initialize background music\n     */\n    SoundManager.prototype.initBackgroundMusic = function () {\n        this.backgroundMusic = new Audio('audio/bg_theme.mp3');\n        this.backgroundMusic.loop = true;\n        this.backgroundMusic.volume = 0.3; // Lower volume for background music\n        // Create audio context for better control\n        try {\n            this.audioContext = new (window.AudioContext || window.webkitAudioContext)();\n        }\n        catch (e) {\n            console.warn('Web Audio API not supported in this browser');\n        }\n    };\n    /**\n     * Load a single sound effect\n     */\n    SoundManager.prototype.loadSound = function (name, filename) {\n        var audio = new Audio(\"audio/\".concat(filename));\n        audio.preload = 'auto';\n        this.sounds.set(name, audio);\n    };\n    /**\n     * Play a sound effect\n     */\n    SoundManager.prototype.play = function (name) {\n        if (!this.enabled)\n            return;\n        var sound = this.sounds.get(name);\n        if (sound) {\n            // Clone the audio element to allow overlapping sounds\n            var soundClone = sound.cloneNode();\n            soundClone.volume = 0.5; // Set volume to 50%\n            soundClone.play().catch(function (error) {\n                console.warn(\"Error playing sound \".concat(name, \":\"), error);\n            });\n        }\n    };\n    /**\n     * Start playing background music\n     */\n    SoundManager.prototype.playBackgroundMusic = function () {\n        if (!this.enabled || !this.backgroundMusic)\n            return;\n        // Only play if not already playing\n        if (this.backgroundMusic.paused) {\n            // Resume audio context if it exists and is suspended\n            if (this.audioContext && this.audioContext.state === 'suspended') {\n                this.audioContext.resume().catch(function (error) {\n                    console.warn('Error resuming AudioContext:', error);\n                });\n            }\n            // Play the background music\n            this.backgroundMusic.play().catch(function (error) {\n                // If autoplay was prevented, we'll wait for user interaction\n                console.warn('Error playing background music (likely autoplay restriction):', error);\n            });\n        }\n    };\n    /**\n     * Pause background music\n     */\n    SoundManager.prototype.pauseBackgroundMusic = function () {\n        if (this.backgroundMusic && !this.backgroundMusic.paused) {\n            this.backgroundMusic.pause();\n        }\n    };\n    /**\n     * Enable or disable all sounds\n     */\n    SoundManager.prototype.setEnabled = function (enabled) {\n        this.enabled = enabled;\n        // Handle background music based on enabled state\n        if (!enabled) {\n            this.pauseBackgroundMusic();\n        }\n        else if (this.backgroundMusic) {\n            this.playBackgroundMusic();\n        }\n    };\n    /**\n     * Toggle sound on/off\n     */\n    SoundManager.prototype.toggleSound = function () {\n        this.enabled = !this.enabled;\n        // Handle background music based on new enabled state\n        if (!this.enabled) {\n            this.pauseBackgroundMusic();\n        }\n        else {\n            this.playBackgroundMusic();\n        }\n        return this.enabled;\n    };\n    /**\n     * Check if sound is enabled\n     */\n    SoundManager.prototype.isEnabled = function () {\n        return this.enabled;\n    };\n    /**\n     * Mark that user interaction has occurred\n     */\n    SoundManager.prototype.userInteractionOccurred = function () {\n        this.hasUserInteraction = true;\n        // Resume audio context if it was suspended\n        if (this.audioContext && this.audioContext.state === 'suspended') {\n            this.audioContext.resume().catch(function (error) {\n                console.warn('Error resuming AudioContext:', error);\n            });\n        }\n        // Try to play background music now that we have user interaction\n        if (this.enabled) {\n            this.playBackgroundMusic();\n        }\n    };\n    // Sound effect names\n    SoundManager.SOUND_EFFECTS = {\n        EXPLOSION: 'explosion',\n        EXPLOSION_BIG: 'explosion_big',\n        FAIL: 'fail',\n        FILL: 'fill',\n        SWAP: 'swap',\n        TURN: 'turn',\n        YES: 'yes',\n        BG_THEME: 'bg_theme'\n    };\n    return SoundManager;\n}());\n\n\n;// ./ts/Board.ts\n\n\n\n/**\n * Represents the game board in the Match3 game\n */\nvar Board = /** @class */ (function () {\n    function Board(element, size, minLine, colors) {\n        this._gems = [];\n        this._element = element;\n        this._size = size;\n        this._minLine = minLine;\n        this._colors = colors;\n        this._soundManager = SoundManager.getInstance();\n        this.createMap(size, minLine, colors);\n    }\n    Object.defineProperty(Board.prototype, \"size\", {\n        /**\n         * Gets the size of the board\n         */\n        get: function () {\n            return this._size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Board.prototype, \"minLine\", {\n        /**\n         * Gets the minimum line length for matches\n         */\n        get: function () {\n            return this._minLine;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Board.prototype, \"colors\", {\n        /**\n         * Gets the number of colors used in the board\n         */\n        get: function () {\n            return this._colors;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Gets a gem at the specified position\n     */\n    Board.prototype.getGem = function (j, k) {\n        return this._gems[j][k];\n    };\n    /**\n     * Creates the game board with the specified parameters\n     */\n    Board.prototype.createMap = function (size, minLine, colors) {\n        // Validate game configuration\n        if (!this.isValidGameConfiguration(size, colors)) {\n            this.displayInvalidConfigurationMessage(size, colors);\n            return false;\n        }\n        // Clear the field\n        this.clearField();\n        // Initialize gems array\n        this.initializeGemsArray(size);\n        // Create gem elements\n        this.createGemElements();\n        // Set gem sizes\n        this.setGemElementSizes();\n        // Fill the board with gems\n        this.fillMap();\n        return true;\n    };\n    /**\n     * Checks if the game configuration is valid\n     */\n    Board.prototype.isValidGameConfiguration = function (size, colors) {\n        return size > 1 && colors > 1 && this._minLine > 1;\n    };\n    /**\n     * Displays an error message when configuration is invalid\n     */\n    Board.prototype.displayInvalidConfigurationMessage = function (size, colors) {\n        this._element.innerHTML = \"A field with the following parameters: size: \".concat(size, \", colors: \").concat(colors, \", min. line length: \").concat(this._minLine, \", cannot be generated.\");\n    };\n    /**\n     * Clears the field element\n     */\n    Board.prototype.clearField = function () {\n        this._element.innerHTML = '';\n    };\n    /**\n     * Initializes the gems array with the given size\n     */\n    Board.prototype.initializeGemsArray = function (size) {\n        this._gems = [];\n        for (var i = 0; i < size; i++) {\n            this._gems[i] = [];\n        }\n    };\n    /**\n     * Creates gem elements and adds them to the board\n     */\n    Board.prototype.createGemElements = function () {\n        for (var j = 0; j < this._size; j++) {\n            for (var k = 0; k < this._size; k++) {\n                var gemElement = document.createElement('div');\n                gemElement.className = CSS_CLASSES.GEM;\n                gemElement.setAttribute(DATA_ATTRIBUTES.J, j.toString());\n                gemElement.setAttribute(DATA_ATTRIBUTES.K, k.toString());\n                gemElement.setAttribute(DATA_ATTRIBUTES.COLOR, '');\n                this._element.appendChild(gemElement);\n                this._gems[j][k] = new Gem(gemElement, this._size);\n            }\n        }\n    };\n    /**\n     * Sets the size of gem elements\n     */\n    Board.prototype.setGemElementSizes = function () {\n        var gemElements = document.querySelectorAll(\".\".concat(CSS_CLASSES.GEM));\n        gemElements.forEach(function (gemElem) {\n            var gem = gemElem;\n            gem.style.width = \"\".concat(100 / DEFAULT_SETTINGS.INITIAL_SIZE, \"%\");\n            gem.style.height = \"\".concat(100 / DEFAULT_SETTINGS.INITIAL_SIZE, \"%\");\n            // gem.style.fontSize = DEFAULT_SETTINGS.FIELD_SIZE / (this._size * 2) + 'px';\n        });\n    };\n    /**\n     * Fills the board with gems\n     */\n    Board.prototype.fillMap = function () {\n        // Create new gems for each empty position\n        for (var j = 0; j < this._size; j++) {\n            var _loop_1 = function (k) {\n                if (this_1._gems[j][k].state === GemState.DEAD) {\n                    // Remove the old dead gem element after animation completes\n                    var deadGem_1 = this_1._gems[j][k].elem;\n                    setTimeout(function () {\n                        if (deadGem_1.parentNode) {\n                            deadGem_1.remove();\n                        }\n                    }, DEFAULT_SETTINGS.KILL_DELAY);\n                    // Create a completely new gem element\n                    this_1.createBrandNewGem(j, k);\n                }\n            };\n            var this_1 = this;\n            for (var k = 0; k < this._size; k++) {\n                _loop_1(k);\n            }\n        }\n        // Play fill sound\n        this._soundManager.play(SoundManager.SOUND_EFFECTS.FILL);\n        // Animate all gems into place\n        this.placeAll();\n    };\n    /**\n     * Creates a completely new gem element at the specified position\n     */\n    Board.prototype.createBrandNewGem = function (j, k) {\n        // Create a new DOM element for the gem\n        var gemElement = document.createElement('div');\n        gemElement.className = CSS_CLASSES.GEM;\n        gemElement.setAttribute(DATA_ATTRIBUTES.J, String(j - 2));\n        gemElement.setAttribute(DATA_ATTRIBUTES.K, String(k));\n        // Set the gem size\n        gemElement.style.width = \"\".concat(100 / DEFAULT_SETTINGS.INITIAL_SIZE, \"%\");\n        gemElement.style.height = \"\".concat(100 / DEFAULT_SETTINGS.INITIAL_SIZE, \"%\");\n        // Calculate how far above the board this gem should start\n        var startingYPosition = -(2 * DEFAULT_SETTINGS.FIELD_SIZE / this._size);\n        // Position the gem initially above the board for animation\n        gemElement.style.top = \"\".concat(startingYPosition, \"px\");\n        gemElement.style.left = \"\".concat(k * (100 / DEFAULT_SETTINGS.INITIAL_SIZE), \"%\");\n        // Add some initial transform for a more dynamic entrance\n        gemElement.style.transform = \"scale(0.8) rotate(\".concat(Math.random() * 20 - 10, \"deg)\");\n        gemElement.style.opacity = '0.9';\n        // Add the gem element to the board\n        this._element.appendChild(gemElement);\n        // Create a new Gem object\n        this._gems[j][k] = new Gem(gemElement, this._size);\n        // Set the gem to alive state\n        this._gems[j][k].state = GemState.ALIVE;\n        // Find a valid color that doesn't create matches\n        var color;\n        do {\n            color = Math.floor(Math.random() * this._colors);\n        } while (this.willCreateMatch(j, k, color));\n        // Set the gem color\n        this._gems[j][k].color = color;\n        gemElement.setAttribute(DATA_ATTRIBUTES.COLOR, String(color));\n        gemElement.innerHTML = GEM_SYMBOLS[color];\n        // Update the gem's position attributes to its final position\n        gemElement.setAttribute(DATA_ATTRIBUTES.J, String(j));\n    };\n    /**\n     * Creates a new gem at the specified position (deprecated, kept for reference)\n     */\n    Board.prototype.createNewGem = function (j, k) {\n        // This method is now deprecated in favor of createBrandNewGem\n        // which creates completely new DOM elements instead of reusing old ones\n        this.createBrandNewGem(j, k);\n    };\n    /**\n     * Checks if placing a gem with the given color at the specified position will create a match\n     */\n    Board.prototype.willCreateMatch = function (j, k, color) {\n        // Check horizontal matches\n        var count = 1;\n        var l = k - 1;\n        while (l >= 0 && this._gems[j][l].state === GemState.ALIVE && this._gems[j][l].color === color) {\n            count++;\n            l--;\n        }\n        l = k + 1;\n        while (l < this._size && this._gems[j][l].state === GemState.ALIVE && this._gems[j][l].color === color) {\n            count++;\n            l++;\n        }\n        if (count >= this._minLine)\n            return true;\n        // Check vertical matches\n        count = 1;\n        l = j - 1;\n        while (l >= 0 && this._gems[l][k].state === GemState.ALIVE && this._gems[l][k].color === color) {\n            count++;\n            l--;\n        }\n        l = j + 1;\n        while (l < this._size && this._gems[l][k].state === GemState.ALIVE && this._gems[l][k].color === color) {\n            count++;\n            l++;\n        }\n        if (count >= this._minLine)\n            return true;\n        return false;\n    };\n    /**\n     * Places all gems on the board\n     */\n    Board.prototype.placeAll = function () {\n        var _this = this;\n        var _loop_2 = function (j) {\n            var _loop_3 = function (k) {\n                // Delay the animation based on the row position\n                // Gems at the top of the board (smaller j) will fall later\n                var delay = (this_2._size - j) * DEFAULT_SETTINGS.FALL_DELAY_PER_ROW;\n                setTimeout(function () {\n                    _this._gems[j][k].place();\n                }, delay);\n            };\n            for (var k = 0; k < this_2._size; k++) {\n                _loop_3(k);\n            }\n        };\n        var this_2 = this;\n        // Stagger the animation for a cascading effect\n        for (var j = this._size - 1; j >= 0; j--) {\n            _loop_2(j);\n        }\n    };\n    /**\n     * Swaps two gems on the board\n     */\n    Board.prototype.swap = function (j1, k1, j2, k2) {\n        // Update gem positions in the DOM\n        this._gems[j1][k1].elem.setAttribute(DATA_ATTRIBUTES.J, j2.toString());\n        this._gems[j1][k1].elem.setAttribute(DATA_ATTRIBUTES.K, k2.toString());\n        this._gems[j2][k2].elem.setAttribute(DATA_ATTRIBUTES.J, j1.toString());\n        this._gems[j2][k2].elem.setAttribute(DATA_ATTRIBUTES.K, k1.toString());\n        // Swap gems in the array\n        var temp = this._gems[j1][k1];\n        this._gems[j1][k1] = this._gems[j2][k2];\n        this._gems[j2][k2] = temp;\n    };\n    /**\n     * Checks if a move between two positions is valid\n     */\n    Board.prototype.isCorrectTurn = function (j1, k1, j2, k2) {\n        // Check if both gems are alive\n        if (this._gems[j1][k1].state !== GemState.ALIVE || this._gems[j2][k2].state !== GemState.ALIVE) {\n            return false;\n        }\n        // Check if positions are adjacent\n        var rowDiff = Math.abs(j1 - j2);\n        var colDiff = Math.abs(k1 - k2);\n        // Orthogonal move (horizontal or vertical)\n        if ((rowDiff === 1 && colDiff === 0) || (rowDiff === 0 && colDiff === 1)) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Finds matches starting from the specified position\n     */\n    Board.prototype.matchChain = function (j, k) {\n        // Return empty array if the gem is dead\n        if (this._gems[j][k].state !== GemState.ALIVE) {\n            return [];\n        }\n        var color = this._gems[j][k].color;\n        var chain = [];\n        // Define directions to check (horizontal and vertical)\n        var directions = [\n            { dj: 0, dk: 1 }, // right\n            { dj: 1, dk: 0 }, // down\n        ];\n        // Check each direction for matches\n        for (var _i = 0, directions_1 = directions; _i < directions_1.length; _i++) {\n            var dir = directions_1[_i];\n            var currentChain = [{ j: j, k: k }];\n            // Check in positive direction\n            this.checkDirection(j, k, dir.dj, dir.dk, color, currentChain);\n            // Check in negative direction\n            this.checkDirection(j, k, -dir.dj, -dir.dk, color, currentChain);\n            // If we found a valid chain, add it to our results\n            if (currentChain.length >= this._minLine) {\n                chain = chain.concat(currentChain);\n            }\n        }\n        // Remove duplicates from the chain\n        return this.removeDuplicates(chain);\n    };\n    /**\n     * Checks for matches in a specific direction\n     */\n    Board.prototype.checkDirection = function (j, k, dj, dk, color, chain) {\n        var currentJ = j + dj;\n        var currentK = k + dk;\n        while (currentJ >= 0 && currentJ < this._size &&\n            currentK >= 0 && currentK < this._size &&\n            this._gems[currentJ][currentK].state === GemState.ALIVE &&\n            this._gems[currentJ][currentK].color === color) {\n            chain.push({ j: currentJ, k: currentK });\n            currentJ += dj;\n            currentK += dk;\n        }\n    };\n    /**\n     * Removes duplicate positions from a chain\n     */\n    Board.prototype.removeDuplicates = function (chain) {\n        var uniquePositions = [];\n        var seen = new Set();\n        for (var _i = 0, chain_1 = chain; _i < chain_1.length; _i++) {\n            var pos = chain_1[_i];\n            var key = \"\".concat(pos.j, \",\").concat(pos.k);\n            if (!seen.has(key)) {\n                seen.add(key);\n                uniquePositions.push(pos);\n            }\n        }\n        return uniquePositions;\n    };\n    return Board;\n}());\n\n\n;// ./ts/Game.ts\n\n\n\nvar Game = /** @class */ (function () {\n    function Game() {\n        this.cluster = [];\n        this.chosen = false;\n        this.pause = true;\n        this.score = 0;\n        this.target = 0;\n        this.time = DEFAULT_SETTINGS.INITIAL_TIME;\n        this.level = 1;\n        this.chosenJ = -1;\n        this.chosenK = -1;\n        this.countdownInterval = null;\n        this.field = document.getElementById(ELEMENT_IDS.FIELD);\n        this.scoreboard = document.getElementById(ELEMENT_IDS.SCOREBOARD);\n        this.soundManager = SoundManager.getInstance();\n        // Initialize the board with default settings - always use 10x10 grid\n        this.board = new Board(this.field, DEFAULT_SETTINGS.INITIAL_SIZE, DEFAULT_SETTINGS.MIN_LINE, DEFAULT_SETTINGS.INITIAL_COLORS);\n        this.initEventListeners();\n        this.setupAudioContext();\n        this.startLevel(this.level);\n    }\n    Game.prototype.initEventListeners = function () {\n        var _this = this;\n        // Variables to track drag operations\n        var isDragging = false;\n        var startGem = null;\n        var startJ = -1;\n        var startK = -1;\n        var dragThreshold = 10; // Minimum pixels to consider a drag\n        var startX = 0;\n        var startY = 0;\n        // Handle touch start and mouse down\n        var handleStart = function (event) {\n            // Game must not be paused\n            if (_this.pause)\n                return;\n            // Get the target element\n            var target = event.target;\n            // Only process events on gem elements\n            if (!target.classList.contains(CSS_CLASSES.GEM))\n                return;\n            // Get the starting coordinates\n            if (event instanceof MouseEvent) {\n                startX = event.clientX;\n                startY = event.clientY;\n            }\n            else {\n                // Touch event\n                startX = event.touches[0].clientX;\n                startY = event.touches[0].clientY;\n            }\n            // Record the starting gem\n            startGem = target;\n            startJ = parseInt(target.getAttribute(DATA_ATTRIBUTES.J) || '0', 10);\n            startK = parseInt(target.getAttribute(DATA_ATTRIBUTES.K) || '0', 10);\n            // Add visual feedback\n            _this.board.getGem(startJ, startK).elem.classList.add(CSS_CLASSES.CHOSEN);\n            _this.soundManager.play(SoundManager.SOUND_EFFECTS.TURN);\n            // Start dragging\n            isDragging = true;\n        };\n        // Handle touch move and mouse move\n        var handleMove = function (event) {\n            // Only process if we're dragging\n            if (!isDragging || !startGem)\n                return;\n            // Prevent default behavior (scrolling, etc.)\n            event.preventDefault();\n            // Get current coordinates\n            var currentX, currentY;\n            if (event instanceof MouseEvent) {\n                currentX = event.clientX;\n                currentY = event.clientY;\n            }\n            else {\n                // Touch event\n                currentX = event.touches[0].clientX;\n                currentY = event.touches[0].clientY;\n            }\n            // Calculate the distance moved\n            var deltaX = currentX - startX;\n            var deltaY = currentY - startY;\n            var distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n            // Add dragging class for visual feedback\n            if (distance > dragThreshold / 2) {\n                startGem.classList.add(CSS_CLASSES.DRAGGING);\n            }\n            // If we've moved enough to consider it a drag\n            if (distance > dragThreshold) {\n                // Determine the predominant direction (horizontal or vertical)\n                var isHorizontal = Math.abs(deltaX) > Math.abs(deltaY);\n                // Calculate the target position based on direction\n                var targetJ_1 = startJ;\n                var targetK_1 = startK;\n                if (isHorizontal) {\n                    // Horizontal movement\n                    targetK_1 = startK + (deltaX > 0 ? 1 : -1);\n                }\n                else {\n                    // Vertical movement\n                    targetJ_1 = startJ + (deltaY > 0 ? 1 : -1);\n                }\n                // Check if the target position is valid\n                if (targetJ_1 >= 0 && targetJ_1 < _this.board.size &&\n                    targetK_1 >= 0 && targetK_1 < _this.board.size &&\n                    _this.board.isCorrectTurn(startJ, startK, targetJ_1, targetK_1)) {\n                    // End the drag operation\n                    isDragging = false;\n                    // Remove visual feedback classes\n                    startGem.classList.remove(CSS_CLASSES.DRAGGING);\n                    _this.board.getGem(startJ, startK).elem.classList.remove(CSS_CLASSES.CHOSEN);\n                    // Temporarily disable further interactions\n                    _this.pause = true;\n                    // Swap the gems\n                    _this.board.swap(startJ, startK, targetJ_1, targetK_1);\n                    // Place gems immediately for visual feedback\n                    _this.board.getGem(startJ, startK).place();\n                    _this.board.getGem(targetJ_1, targetK_1).place();\n                    _this.soundManager.play(SoundManager.SOUND_EFFECTS.SWAP);\n                    // Check for matches\n                    _this.cluster = _this.board.matchChain(startJ, startK);\n                    _this.cluster = _this.cluster.concat(_this.board.matchChain(targetJ_1, targetK_1));\n                    if (_this.cluster.length === 0) {\n                        // No matches found, swap back with shorter delay\n                        setTimeout(function () {\n                            _this.board.swap(targetJ_1, targetK_1, startJ, startK);\n                            _this.board.getGem(startJ, startK).place();\n                            _this.board.getGem(targetJ_1, targetK_1).place();\n                            // Re-enable interactions\n                            _this.pause = false;\n                        }, DEFAULT_SETTINGS.SWAP_DELAY / 2);\n                    }\n                    else {\n                        // Matches found, remove them\n                        _this.kill(_this.cluster);\n                    }\n                }\n            }\n        };\n        // Handle touch end and mouse up\n        var handleEnd = function () {\n            // Only process if we were dragging\n            if (!isDragging || !startGem)\n                return;\n            // End the drag operation\n            isDragging = false;\n            // Remove visual feedback classes\n            startGem.classList.remove(CSS_CLASSES.DRAGGING);\n            // Remove highlight if we didn't complete a swap\n            if (_this.board.getGem(startJ, startK).elem.classList.contains(CSS_CLASSES.CHOSEN)) {\n                _this.board.getGem(startJ, startK).elem.classList.remove(CSS_CLASSES.CHOSEN);\n            }\n            // Reset starting values\n            startGem = null;\n            startJ = -1;\n            startK = -1;\n        };\n        // Add event listeners for mouse interactions\n        this.field.addEventListener('mousedown', handleStart);\n        document.addEventListener('mousemove', handleMove);\n        document.addEventListener('mouseup', handleEnd);\n        // Add event listeners for touch interactions\n        this.field.addEventListener('touchstart', handleStart, { passive: false });\n        document.addEventListener('touchmove', handleMove, { passive: false });\n        document.addEventListener('touchend', handleEnd);\n        // Keep the original click handler for backward compatibility\n        // but with modified behavior to work with the new drag system\n        this.field.addEventListener('click', function (event) {\n            var target = event.target;\n            // Only process clicks on gem elements\n            if (!target.classList.contains(CSS_CLASSES.GEM))\n                return;\n            // Game must not be paused\n            if (_this.pause)\n                return;\n            // Get gem coordinates\n            var j = parseInt(target.getAttribute(DATA_ATTRIBUTES.J) || '0', 10);\n            var k = parseInt(target.getAttribute(DATA_ATTRIBUTES.K) || '0', 10);\n            if (!_this.chosen) {\n                // First gem selection\n                _this.chosen = true;\n                _this.chosenJ = j;\n                _this.chosenK = k;\n                _this.board.getGem(j, k).elem.classList.add(CSS_CLASSES.CHOSEN);\n                _this.soundManager.play(SoundManager.SOUND_EFFECTS.TURN);\n            }\n            else {\n                // Second gem selection (attempting to swap)\n                _this.chosen = false;\n                // Remove highlight from first gem\n                _this.board.getGem(_this.chosenJ, _this.chosenK).elem.classList.remove(CSS_CLASSES.CHOSEN);\n                // Try to swap gems if it's a valid move\n                if (_this.board.isCorrectTurn(_this.chosenJ, _this.chosenK, j, k)) {\n                    // Temporarily disable further clicks to prevent multiple swaps\n                    _this.pause = true;\n                    // Swap the gems\n                    _this.board.swap(_this.chosenJ, _this.chosenK, j, k);\n                    // Place gems immediately for visual feedback\n                    _this.board.getGem(_this.chosenJ, _this.chosenK).place();\n                    _this.board.getGem(j, k).place();\n                    _this.soundManager.play(SoundManager.SOUND_EFFECTS.SWAP);\n                    // Check for matches immediately\n                    _this.cluster = _this.board.matchChain(_this.chosenJ, _this.chosenK);\n                    _this.cluster = _this.cluster.concat(_this.board.matchChain(j, k));\n                    if (_this.cluster.length === 0) {\n                        // No matches found, swap back with shorter delay\n                        setTimeout(function () {\n                            _this.board.swap(j, k, _this.chosenJ, _this.chosenK);\n                            _this.board.getGem(_this.chosenJ, _this.chosenK).place();\n                            _this.board.getGem(j, k).place();\n                            // Re-enable clicks\n                            _this.pause = false;\n                        }, DEFAULT_SETTINGS.SWAP_DELAY / 2);\n                    }\n                    else {\n                        // Matches found, remove them\n                        _this.kill(_this.cluster);\n                    }\n                }\n            }\n        });\n    };\n    /**\n     * Sets up audio context after user interaction\n     */\n    Game.prototype.setupAudioContext = function () {\n        var _this = this;\n        // Add a one-time event listener to enable audio after first user interaction\n        var enableAudio = function () {\n            // Notify sound manager that user interaction has occurred\n            _this.soundManager.userInteractionOccurred();\n            // Remove event listeners after first interaction\n            document.removeEventListener('click', enableAudio);\n            document.removeEventListener('touchstart', enableAudio);\n            document.removeEventListener('keydown', enableAudio);\n        };\n        // Add event listeners for common user interactions\n        document.addEventListener('click', enableAudio);\n        document.addEventListener('touchstart', enableAudio);\n        document.addEventListener('keydown', enableAudio);\n    };\n    Game.prototype.startLevel = function (level) {\n        var _this = this;\n        // Skip if board is not initialized\n        if (!this.board)\n            return;\n        // Calculate target score based on level using constants\n        this.target = Math.floor(DEFAULT_SETTINGS.TARGET_SCORE_FACTOR(level) * DEFAULT_SETTINGS.TARGET_SCORE_BASE);\n        // Always use 10x10 grid\n        var size = DEFAULT_SETTINGS.INITIAL_SIZE;\n        // Increase color variety as levels progress (max 10)\n        var colors = Math.min(DEFAULT_SETTINGS.INITIAL_COLORS + level - 1, 10);\n        // Determine game mode features based on level\n        this.determineGameModeForLevel(level);\n        // Display level information\n        this.displayLevelInfo(level);\n        // Set time limit based on level using constants\n        this.time = DEFAULT_SETTINGS.INITIAL_TIME + Math.floor(level * DEFAULT_SETTINGS.TIME_INCREASE_PER_LEVEL);\n        // Try to play background music (will only work after user interaction)\n        this.soundManager.playBackgroundMusic();\n        // Initialize the game board after a delay\n        setTimeout(function () {\n            // Create a new board with the fixed 10x10 size and settings\n            _this.board = new Board(_this.field, size, DEFAULT_SETTINGS.MIN_LINE, colors);\n            // Reset game state\n            _this.pause = false;\n            _this.score = 0;\n            _this.updateScoreboard();\n        }, DEFAULT_SETTINGS.LEVEL_START_DELAY);\n        // Start the countdown timer\n        this.startCountdownTimer();\n    };\n    /**\n     * Determines game mode features based on level\n     */\n    Game.prototype.determineGameModeForLevel = function (level) {\n        // No special game modes - only horizontal and vertical matches\n    };\n    /**\n     * Displays level information in the field element\n     */\n    Game.prototype.displayLevelInfo = function (level) {\n        this.field.innerHTML = \"Level \".concat(level);\n    };\n    /**\n     * Starts or restarts the countdown timer\n     */\n    Game.prototype.startCountdownTimer = function () {\n        var _this = this;\n        // Clear any existing timer\n        if (this.countdownInterval) {\n            clearInterval(this.countdownInterval);\n        }\n        // Set up the new timer\n        this.countdownInterval = window.setInterval(function () {\n            if (_this.time === 0) {\n                if (_this.score < _this.target) {\n                    // Game over - player didn't reach target score\n                    _this.handleGameOver();\n                }\n                else {\n                    // Level completed - advance to next level\n                    _this.handleLevelComplete();\n                }\n            }\n            else {\n                // Update time and display\n                _this.time -= 1;\n                _this.updateScoreboard();\n            }\n        }, DEFAULT_SETTINGS.COUNTDOWN_INTERVAL);\n    };\n    /**\n     * Updates the scoreboard with current score and time\n     */\n    Game.prototype.updateScoreboard = function () {\n        this.scoreboard.innerHTML = \"\".concat(this.score, \"/\").concat(this.target, \" | \").concat(this.time);\n    };\n    /**\n     * Handles game over state\n     */\n    Game.prototype.handleGameOver = function () {\n        var _this = this;\n        if (this.countdownInterval) {\n            clearInterval(this.countdownInterval);\n        }\n        this.pause = true;\n        this.field.innerHTML = 'GAME OVER';\n        this.soundManager.play(SoundManager.SOUND_EFFECTS.FAIL);\n        this.soundManager.pauseBackgroundMusic();\n        // Add restart button\n        var restartButton = document.createElement('div');\n        restartButton.id = ELEMENT_IDS.RESTART;\n        restartButton.innerHTML = 'RESTART';\n        restartButton.addEventListener('click', function () {\n            _this.level = 1;\n            _this.startLevel(_this.level);\n        });\n        this.field.appendChild(restartButton);\n    };\n    /**\n     * Handles level complete state\n     */\n    Game.prototype.handleLevelComplete = function () {\n        var _this = this;\n        if (this.countdownInterval) {\n            clearInterval(this.countdownInterval);\n        }\n        this.pause = true;\n        this.level++;\n        this.field.innerHTML = 'LEVEL COMPLETE';\n        this.soundManager.play(SoundManager.SOUND_EFFECTS.YES);\n        // Add next level button\n        var nextLevelButton = document.createElement('div');\n        nextLevelButton.id = ELEMENT_IDS.RESTART;\n        nextLevelButton.innerHTML = 'NEXT LEVEL';\n        nextLevelButton.addEventListener('click', function () {\n            _this.startLevel(_this.level);\n        });\n        this.field.appendChild(nextLevelButton);\n    };\n    /**\n     * Removes matched gems and updates score\n     */\n    Game.prototype.kill = function (cluster) {\n        this.pause = true;\n        // Update score based on matches\n        this.updateScoreForMatches(cluster);\n        // Process matched gems in batches for better performance\n        this.processMatchedGems(cluster);\n    };\n    /**\n     * Updates score based on matched gems\n     */\n    Game.prototype.updateScoreForMatches = function (cluster) {\n        // Apply bonus multiplier for larger matches\n        var sizeMultiplier = cluster.length > 4 ? 1.5 : 1;\n        this.score += Math.floor(cluster.length * DEFAULT_SETTINGS.SCORE_MULTIPLIER * sizeMultiplier);\n        this.updateScoreboard();\n        // Play explosion sound based on cluster size\n        if (cluster.length >= 5) {\n            this.soundManager.play(SoundManager.SOUND_EFFECTS.EXPLOSION_BIG);\n        }\n        else {\n            this.soundManager.play(SoundManager.SOUND_EFFECTS.EXPLOSION);\n        }\n    };\n    /**\n     * Processes matched gems (killing them and checking for new matches)\n     */\n    Game.prototype.processMatchedGems = function (cluster) {\n        var _this = this;\n        // Kill all gems in the cluster simultaneously\n        var batchSize = 5;\n        var processBatch = function (startIndex) {\n            var endIndex = Math.min(startIndex + batchSize, cluster.length);\n            // Process current batch\n            for (var i = startIndex; i < endIndex; i++) {\n                var pos = cluster[i];\n                // Kill the gem (this triggers the exit animation)\n                _this.board.getGem(pos.j, pos.k).kill();\n            }\n            // Process next batch or move to next step\n            if (endIndex < cluster.length) {\n                // Process next batch after a very short delay\n                setTimeout(function () { return processBatch(endIndex); }, 10);\n            }\n            else {\n                // All gems processed, wait for kill animation to complete\n                // then shift gems down\n                setTimeout(function () { return _this.shiftDown(); }, DEFAULT_SETTINGS.KILL_DELAY);\n            }\n        };\n        // Start processing the first batch\n        processBatch(0);\n    };\n    /**\n     * Shifts gems down to fill empty spaces\n     */\n    Game.prototype.shiftDown = function () {\n        var _this = this;\n        var shifted = false;\n        var _loop_1 = function (j) {\n            var _loop_2 = function (k) {\n                // If current gem is alive and the one below is dead, shift down\n                if (this_1.board.getGem(j, k).state === GemState.ALIVE &&\n                    this_1.board.getGem(j + 1, k).state === GemState.DEAD) {\n                    // Swap the gems\n                    this_1.board.swap(j, k, j + 1, k);\n                    // Add a very small delay based on row position for a subtle cascading effect\n                    var delay = (this_1.board.size - j) * 5; // Reduced from 10ms to 5ms for smoother animation\n                    setTimeout(function () {\n                        _this.board.getGem(j + 1, k).place(); // Place only the moved gem for efficiency\n                    }, delay);\n                    shifted = true;\n                }\n            };\n            for (var k = 0; k < this_1.board.size; k++) {\n                _loop_2(k);\n            }\n        };\n        var this_1 = this;\n        // Process all columns in parallel for better performance\n        for (var j = this.board.size - 2; j >= 0; j--) {\n            _loop_1(j);\n        }\n        // If any gems were shifted, continue checking with a delay\n        if (shifted) {\n            setTimeout(function () { return _this.shiftDown(); }, DEFAULT_SETTINGS.ANIMATION_DELAY / 2); // Reduced delay for faster animation\n        }\n        else {\n            // No more shifts needed, fill empty spaces and check for new matches\n            this.board.fillMap();\n            // Wait for fill animation to complete before checking for new matches\n            setTimeout(function () { return _this.findAndProcessNewMatches(); }, DEFAULT_SETTINGS.ANIMATION_DELAY / 2); // Reduced delay\n        }\n    };\n    /**\n     * Finds and processes new matches after shifting\n     */\n    Game.prototype.findAndProcessNewMatches = function () {\n        var _this = this;\n        // Add a delay to allow the falling animation to complete\n        setTimeout(function () {\n            var newCluster = [];\n            // Check the entire board for matches\n            for (var j = 0; j < _this.board.size; j++) {\n                for (var k = 0; k < _this.board.size; k++) {\n                    var gem = _this.board.getGem(j, k);\n                    if (gem.state === GemState.ALIVE) {\n                        var matches = _this.board.matchChain(j, k);\n                        if (matches.length > 0) {\n                            var _loop_3 = function (match) {\n                                // Check if this position is already in the cluster\n                                var isDuplicate = newCluster.some(function (pos) { return pos.j === match.j && pos.k === match.k; });\n                                if (!isDuplicate) {\n                                    newCluster.push(match);\n                                }\n                            };\n                            // Add unique matches to the cluster\n                            for (var _i = 0, matches_1 = matches; _i < matches_1.length; _i++) {\n                                var match = matches_1[_i];\n                                _loop_3(match);\n                            }\n                        }\n                    }\n                }\n            }\n            // If new matches found, kill them and continue the cascade\n            if (newCluster.length > 0) {\n                console.log(\"Found \".concat(newCluster.length, \" new matches in cascade\"));\n                // Process these matches, which will trigger another round of\n                // shiftDown and findAndProcessNewMatches when complete\n                _this.kill(newCluster);\n            }\n            else {\n                // No new matches, resume gameplay\n                _this.pause = false;\n            }\n        }, DEFAULT_SETTINGS.FALL_ANIMATION_DURATION + 50); // Reduced from 100ms to 50ms for faster animation\n    };\n    return Game;\n}());\n\n\n;// ./ts/main.ts\n\n/**\n * Main entry point for the Match3 game\n * Initializes the game when the DOM is fully loaded\n */\ndocument.addEventListener('DOMContentLoaded', function () {\n    // Initialize the game\n    var game = new Game();\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dHMvY29uc3RhbnRzLnRzP2Y3ZDgiLCJ3ZWJwYWNrOi8vbWF0Y2gzLy4vdHMvR2VtLnRzP2E3NWQiLCJ3ZWJwYWNrOi8vbWF0Y2gzLy4vdHMvU291bmRNYW5hZ2VyLnRzPzQzZmUiLCJ3ZWJwYWNrOi8vbWF0Y2gzLy4vdHMvQm9hcmQudHM/MGFlMSIsIndlYnBhY2s6Ly9tYXRjaDMvLi90cy9HYW1lLnRzPzRjNjMiLCJ3ZWJwYWNrOi8vbWF0Y2gzLy4vdHMvbWFpbi50cz9mNzY4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBHYW1lIENvbnN0YW50c1xyXG4gKi9cclxuXHJcbi8vIEVsZW1lbnQgSURzXHJcbmV4cG9ydCBjb25zdCBFTEVNRU5UX0lEUyA9IHtcclxuICBGSUVMRDogJ2ZpZWxkJyxcclxuICBTQ09SRUJPQVJEOiAnc2NvcmVib2FyZCcsXHJcbiAgTEVWRUxJTkZPOiAnbGV2ZWxpbmZvJyxcclxuICBXUkFQUEVSOiAnd3JhcHBlcicsXHJcbiAgUkVTVEFSVDogJ3Jlc3RhcnQnXHJcbn07XHJcblxyXG4vLyBDU1MgQ2xhc3Nlc1xyXG5leHBvcnQgY29uc3QgQ1NTX0NMQVNTRVMgPSB7XHJcbiAgR0VNOiAnZ2VtJyxcclxuICBDSE9TRU46ICdjaG9zZW4nLFxyXG4gIERFQUQ6ICdkZWFkJyxcclxuICBEUkFHR0lORzogJ2RyYWdnaW5nJyxcclxuICBEUkFHX1RBUkdFVDogJ2RyYWctdGFyZ2V0J1xyXG59O1xyXG5cclxuLy8gR2FtZSBTdGF0ZXNcclxuZXhwb3J0IGVudW0gR2VtU3RhdGUge1xyXG4gIEFMSVZFID0gJ2FsaXZlJyxcclxuICBERUFEID0gJ2RlYWQnXHJcbn1cclxuXHJcbi8vIERhdGEgQXR0cmlidXRlc1xyXG5leHBvcnQgY29uc3QgREFUQV9BVFRSSUJVVEVTID0ge1xyXG4gIEo6ICdkYXRhLWonLFxyXG4gIEs6ICdkYXRhLWsnLFxyXG4gIENPTE9SOiAnZGF0YS1jb2xvcidcclxufTtcclxuXHJcbi8vIEdhbWUgU2V0dGluZ3NcclxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1MgPSB7XHJcbiAgSU5JVElBTF9TSVpFOiAxMiwgLy8gRml4ZWQgZ3JpZCBzaXplIHRvIDEweDEwIGZvciBiZXR0ZXIgZ2FtZXBsYXlcclxuICBNSU5fTElORTogMyxcclxuICBJTklUSUFMX0NPTE9SUzogNCxcclxuICBJTklUSUFMX1RJTUU6IDE4MCxcclxuICBGSUVMRF9TSVpFOiA1MDAsIC8vIHBpeGVsc1xyXG4gIEFOSU1BVElPTl9ERUxBWTogMTUwLCAvLyBtaWxsaXNlY29uZHMgLSByZWR1Y2VkIGZyb20gMjAwbXNcclxuICBTV0FQX0RFTEFZOiAxNTAsIC8vIG1pbGxpc2Vjb25kcyAtIHJlZHVjZWQgZnJvbSAyMDBtc1xyXG4gIEtJTExfREVMQVk6IDMwMCwgLy8gbWlsbGlzZWNvbmRzIC0gcmVkdWNlZCBmcm9tIDQ1MG1zXHJcbiAgTEVWRUxfU1RBUlRfREVMQVk6IDUwMCwgLy8gbWlsbGlzZWNvbmRzXHJcbiAgQ09VTlRET1dOX0lOVEVSVkFMOiAxMDAwLCAvLyBtaWxsaXNlY29uZHNcclxuICBTQ09SRV9NVUxUSVBMSUVSOiAzNixcclxuICAvLyBBbmltYXRpb24gc2V0dGluZ3NcclxuICBGQUxMX0RFTEFZX1BFUl9ST1c6IDE1LCAvLyBtaWxsaXNlY29uZHMgZGVsYXkgcGVyIHJvdyAtIHJlZHVjZWQgZnJvbSAzMG1zXHJcbiAgRkFMTF9BTklNQVRJT05fRFVSQVRJT046IDI1MCwgLy8gbWlsbGlzZWNvbmRzIC0gcmVkdWNlZCBmcm9tIDQwMG1zXHJcbiAgQk9VTkNFX0RFTEFZOiAxMDAsIC8vIG1pbGxpc2Vjb25kcyAtIHJlZHVjZWQgZnJvbSAxNTBtcyAodGhvdWdoIG5vIGxvbmdlciB1c2VkKVxyXG4gIC8vIFRhcmdldCBzY29yZSBjYWxjdWxhdGlvbiBjb25zdGFudHNcclxuICBUQVJHRVRfU0NPUkVfQkFTRTogMTAwMDAsXHJcbiAgVEFSR0VUX1NDT1JFX0ZBQ1RPUjogTWF0aC5zcXJ0LCAvLyBGdW5jdGlvbiB0byBhcHBseSB0byBsZXZlbCBudW1iZXJcclxuICAvLyBUaW1lIHNldHRpbmdzXHJcbiAgVElNRV9JTkNSRUFTRV9QRVJfTEVWRUw6IDIuNSAvLyBBZGRpdGlvbmFsIHNlY29uZHMgcGVyIGxldmVsIChsZXZlbCAqIDUgLyAyKVxyXG59O1xyXG5cclxuLy8gR2VtIFN5bWJvbHNcclxuZXhwb3J0IGNvbnN0IEdFTV9TWU1CT0xTID0gWyfimpwnLCAn4piEJywgJ+KZlycsICfimYYnLCAn4pmZJywgJ+KdpicsICfimKMnLCAn4pmeJywgJ+KZqCcsICfimZ8nXTtcclxuXHJcbi8vIE1hdGNoIENoYWluIEFjdGlvbnNcclxuZXhwb3J0IGVudW0gTWF0Y2hBY3Rpb24ge1xyXG4gIENIRUNLID0gJ2NoZWNrJ1xyXG59XHJcbiIsImltcG9ydCB7IENTU19DTEFTU0VTLCBEQVRBX0FUVFJJQlVURVMsIERFRkFVTFRfU0VUVElOR1MsIEdlbVN0YXRlIH0gZnJvbSAnLi9jb25zdGFudHMnO1xyXG5cclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgYSBnZW0gaW4gdGhlIE1hdGNoMyBnYW1lXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgR2VtIHtcclxuICBwcml2YXRlIF9lbGVtOiBIVE1MRWxlbWVudDtcclxuICBwcml2YXRlIF9zdGF0ZTogR2VtU3RhdGU7XHJcbiAgcHJpdmF0ZSBfY29sb3I6IG51bWJlcjtcclxuICBwcml2YXRlIF9ib2FyZFNpemU6IG51bWJlcjtcclxuXHJcbiAgY29uc3RydWN0b3IoZWxlbWVudDogSFRNTEVsZW1lbnQsIGJvYXJkU2l6ZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLl9lbGVtID0gZWxlbWVudDtcclxuICAgIHRoaXMuX3N0YXRlID0gR2VtU3RhdGUuREVBRDtcclxuICAgIHRoaXMuX2NvbG9yID0gMDtcclxuICAgIHRoaXMuX2JvYXJkU2l6ZSA9IGJvYXJkU2l6ZTtcclxuICAgIFxyXG4gICAgLy8gQWRkIENTUyB0cmFuc2l0aW9uIGZvciBzbW9vdGhlciBhbmltYXRpb25zXHJcbiAgICB0aGlzLl9lbGVtLnN0eWxlLnRyYW5zaXRpb24gPSAndG9wIDAuM3MgY3ViaWMtYmV6aWVyKDAuMjE1LCAwLjYxMCwgMC4zNTUsIDEuMDAwKSwgbGVmdCAwLjE1cyBlYXNlLWluLCB0cmFuc2Zvcm0gMC4ycyBlYXNlLW91dCwgb3BhY2l0eSAwLjE1cyBlYXNlLW91dCc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXRzIHRoZSBIVE1MIGVsZW1lbnQgcmVwcmVzZW50aW5nIHRoZSBnZW1cclxuICAgKi9cclxuICBnZXQgZWxlbSgpOiBIVE1MRWxlbWVudCB7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGdlbVxyXG4gICAqL1xyXG4gIGdldCBzdGF0ZSgpOiBHZW1TdGF0ZSB7XHJcbiAgICByZXR1cm4gdGhpcy5fc3RhdGU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBnZW1cclxuICAgKi9cclxuICBzZXQgc3RhdGUodmFsdWU6IEdlbVN0YXRlKSB7XHJcbiAgICB0aGlzLl9zdGF0ZSA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0cyB0aGUgY29sb3Igb2YgdGhlIGdlbVxyXG4gICAqL1xyXG4gIGdldCBjb2xvcigpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NvbG9yO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyB0aGUgY29sb3Igb2YgdGhlIGdlbVxyXG4gICAqL1xyXG4gIHNldCBjb2xvcih2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLl9jb2xvciA9IHZhbHVlO1xyXG4gICAgdGhpcy5fZWxlbS5pbm5lckhUTUwgPSB2YWx1ZSA+PSAwID8gYCR7dmFsdWV9YCA6ICcnO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyB0aGUgYm9hcmQgc2l6ZSByZWZlcmVuY2VcclxuICAgKi9cclxuICB1cGRhdGVCb2FyZFNpemUoc2l6ZTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICB0aGlzLl9ib2FyZFNpemUgPSBzaXplO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogS2lsbHMgdGhlIGdlbSAobWFya3MgaXQgYXMgZGVhZCBhbmQgYW5pbWF0ZXMgaXQgb2ZmIHRoZSBib2FyZClcclxuICAgKi9cclxuICBraWxsKCk6IHZvaWQge1xyXG4gICAgLy8gTWFyayB0aGUgZ2VtIGFzIGRlYWRcclxuICAgIHRoaXMuX3N0YXRlID0gR2VtU3RhdGUuREVBRDtcclxuICAgIFxyXG4gICAgLy8gQWRkIHRoZSBkZWFkIGNsYXNzIHRvIGFwcGx5IENTUyBzdHlsZXNcclxuICAgIHRoaXMuX2VsZW0uY2xhc3NMaXN0LmFkZChDU1NfQ0xBU1NFUy5ERUFEKTtcclxuICAgIFxyXG4gICAgLy8gTWFrZSBzdXJlIHRyYW5zaXRpb25zIGFyZSByZXNldFxyXG4gICAgdGhpcy5fZWxlbS5zdHlsZS50cmFuc2l0aW9uID0gJ25vbmUnO1xyXG4gICAgdGhpcy5fZWxlbS5zdHlsZS50cmFuc2Zvcm0gPSAnbm9uZSc7XHJcbiAgICB0aGlzLl9lbGVtLnN0eWxlLm9wYWNpdHkgPSAnMSc7XHJcbiAgICBcclxuICAgIC8vIEZvcmNlIGEgcmVmbG93IHRvIGVuc3VyZSB0aGUgcmVzZXQgaXMgYXBwbGllZFxyXG4gICAgdm9pZCB0aGlzLl9lbGVtLm9mZnNldFdpZHRoO1xyXG4gICAgXHJcbiAgICAvLyBTZXQgdXAgdGhlIGFuaW1hdGlvbiAtIG1ha2UgaXQgZmFzdGVyICgwLjRzIGluc3RlYWQgb2YgMC42cylcclxuICAgIHRoaXMuX2VsZW0uc3R5bGUudHJhbnNpdGlvbiA9ICd0cmFuc2Zvcm0gMC40cyBlYXNlLWluLCBvcGFjaXR5IDAuNHMgZWFzZS1pbic7XHJcbiAgICBcclxuICAgIC8vIERpcmVjdCBmYWxsaW5nIGRvd24gYW5pbWF0aW9uXHJcbiAgICB0aGlzLl9lbGVtLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDEwMCUpIHNjYWxlKDAuOCknO1xyXG4gICAgdGhpcy5fZWxlbS5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUGxhY2VzIHRoZSBnZW0gYXQgaXRzIGNvcnJlY3QgcG9zaXRpb24gb24gdGhlIGJvYXJkXHJcbiAgICovXHJcbiAgcGxhY2UoKTogdm9pZCB7XHJcbiAgICBjb25zdCBqID0gcGFyc2VJbnQodGhpcy5fZWxlbS5nZXRBdHRyaWJ1dGUoREFUQV9BVFRSSUJVVEVTLkopIHx8ICcwJywgMTApO1xyXG4gICAgY29uc3QgayA9IHBhcnNlSW50KHRoaXMuX2VsZW0uZ2V0QXR0cmlidXRlKERBVEFfQVRUUklCVVRFUy5LKSB8fCAnMCcsIDEwKTtcclxuICAgIFxyXG4gICAgLy8gVXNlIGxpbmVhciB0cmFuc2l0aW9uIGZvciBzbW9vdGhlciBmYWxsaW5nXHJcbiAgICB0aGlzLl9lbGVtLnN0eWxlLnRyYW5zaXRpb24gPSBgdG9wICR7REVGQVVMVF9TRVRUSU5HUy5GQUxMX0FOSU1BVElPTl9EVVJBVElPTi8xMDAwfXMgbGluZWFyLCBsZWZ0IDAuMTVzIGxpbmVhciwgdHJhbnNmb3JtIDAuMTVzIGVhc2Utb3V0LCBvcGFjaXR5IDAuMTVzIGVhc2Utb3V0YDtcclxuICAgIFxyXG4gICAgLy8gU2ltcGxpZnkgdGhlIHRyYW5zZm9ybSAtIG5vIGJvdW5jZSBlZmZlY3QgZm9yIHNtb290aGVyIGFuaW1hdGlvblxyXG4gICAgdGhpcy5fZWxlbS5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoMSknO1xyXG4gICAgdGhpcy5fZWxlbS5zdHlsZS5vcGFjaXR5ID0gJzEnO1xyXG4gICAgXHJcbiAgICAvLyBQb3NpdGlvbiB0aGUgZ2VtXHJcbiAgICB0aGlzLl9lbGVtLnN0eWxlLnRvcCA9IGAke2ogKiAoMTAwL3RoaXMuX2JvYXJkU2l6ZSl9JWA7XHJcbiAgICB0aGlzLl9lbGVtLnN0eWxlLmxlZnQgPSBgJHtrICogKDEwMC90aGlzLl9ib2FyZFNpemUpfSVgO1xyXG4gIH1cclxufVxyXG4iLCIvKipcclxuICogU291bmQgbWFuYWdlciBmb3IgdGhlIE1hdGNoMyBnYW1lXHJcbiAqIEhhbmRsZXMgbG9hZGluZyBhbmQgcGxheWluZyBzb3VuZCBlZmZlY3RzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU291bmRNYW5hZ2VyIHtcclxuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogU291bmRNYW5hZ2VyO1xyXG4gIHByaXZhdGUgc291bmRzOiBNYXA8c3RyaW5nLCBIVE1MQXVkaW9FbGVtZW50PiA9IG5ldyBNYXAoKTtcclxuICBwcml2YXRlIGVuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlO1xyXG4gIHByaXZhdGUgYmFja2dyb3VuZE11c2ljOiBIVE1MQXVkaW9FbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcbiAgcHJpdmF0ZSBhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCB8IG51bGwgPSBudWxsO1xyXG4gIHByaXZhdGUgaGFzVXNlckludGVyYWN0aW9uOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIC8vIFNvdW5kIGVmZmVjdCBuYW1lc1xyXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgU09VTkRfRUZGRUNUUyA9IHtcclxuICAgIEVYUExPU0lPTjogJ2V4cGxvc2lvbicsXHJcbiAgICBFWFBMT1NJT05fQklHOiAnZXhwbG9zaW9uX2JpZycsXHJcbiAgICBGQUlMOiAnZmFpbCcsXHJcbiAgICBGSUxMOiAnZmlsbCcsXHJcbiAgICBTV0FQOiAnc3dhcCcsXHJcbiAgICBUVVJOOiAndHVybicsXHJcbiAgICBZRVM6ICd5ZXMnLFxyXG4gICAgQkdfVEhFTUU6ICdiZ190aGVtZSdcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBQcml2YXRlIGNvbnN0cnVjdG9yIHRvIGVuZm9yY2Ugc2luZ2xldG9uIHBhdHRlcm5cclxuICAgKi9cclxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5sb2FkU291bmRzKCk7XHJcbiAgICB0aGlzLmluaXRCYWNrZ3JvdW5kTXVzaWMoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgc2luZ2xldG9uIGluc3RhbmNlXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBTb3VuZE1hbmFnZXIge1xyXG4gICAgaWYgKCFTb3VuZE1hbmFnZXIuaW5zdGFuY2UpIHtcclxuICAgICAgU291bmRNYW5hZ2VyLmluc3RhbmNlID0gbmV3IFNvdW5kTWFuYWdlcigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFNvdW5kTWFuYWdlci5pbnN0YW5jZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIExvYWQgYWxsIHNvdW5kIGVmZmVjdHNcclxuICAgKi9cclxuICBwcml2YXRlIGxvYWRTb3VuZHMoKTogdm9pZCB7XHJcbiAgICB0aGlzLmxvYWRTb3VuZChTb3VuZE1hbmFnZXIuU09VTkRfRUZGRUNUUy5FWFBMT1NJT04sICdleHBsb3Npb24ubXAzJyk7XHJcbiAgICB0aGlzLmxvYWRTb3VuZChTb3VuZE1hbmFnZXIuU09VTkRfRUZGRUNUUy5GQUlMLCAnZmFpbC5tcDMnKTtcclxuICAgIHRoaXMubG9hZFNvdW5kKFNvdW5kTWFuYWdlci5TT1VORF9FRkZFQ1RTLkZJTEwsICdmaWxsLm1wMycpO1xyXG4gICAgdGhpcy5sb2FkU291bmQoU291bmRNYW5hZ2VyLlNPVU5EX0VGRkVDVFMuU1dBUCwgJ3N3YXAubXAzJyk7XHJcbiAgICB0aGlzLmxvYWRTb3VuZChTb3VuZE1hbmFnZXIuU09VTkRfRUZGRUNUUy5UVVJOLCAndHVybi5tcDMnKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemUgYmFja2dyb3VuZCBtdXNpY1xyXG4gICAqL1xyXG4gIHByaXZhdGUgaW5pdEJhY2tncm91bmRNdXNpYygpOiB2b2lkIHtcclxuICAgIHRoaXMuYmFja2dyb3VuZE11c2ljID0gbmV3IEF1ZGlvKCdhdWRpby9iZ190aGVtZS5tcDMnKTtcclxuICAgIHRoaXMuYmFja2dyb3VuZE11c2ljLmxvb3AgPSB0cnVlO1xyXG4gICAgdGhpcy5iYWNrZ3JvdW5kTXVzaWMudm9sdW1lID0gMC4zOyAvLyBMb3dlciB2b2x1bWUgZm9yIGJhY2tncm91bmQgbXVzaWNcclxuICAgIFxyXG4gICAgLy8gQ3JlYXRlIGF1ZGlvIGNvbnRleHQgZm9yIGJldHRlciBjb250cm9sXHJcbiAgICB0cnkge1xyXG4gICAgICB0aGlzLmF1ZGlvQ29udGV4dCA9IG5ldyAod2luZG93LkF1ZGlvQ29udGV4dCB8fCAod2luZG93IGFzIGFueSkud2Via2l0QXVkaW9Db250ZXh0KSgpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1dlYiBBdWRpbyBBUEkgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXInKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIExvYWQgYSBzaW5nbGUgc291bmQgZWZmZWN0XHJcbiAgICovXHJcbiAgcHJpdmF0ZSBsb2FkU291bmQobmFtZTogc3RyaW5nLCBmaWxlbmFtZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpbyhgYXVkaW8vJHtmaWxlbmFtZX1gKTtcclxuICAgIGF1ZGlvLnByZWxvYWQgPSAnYXV0byc7XHJcbiAgICB0aGlzLnNvdW5kcy5zZXQobmFtZSwgYXVkaW8pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUGxheSBhIHNvdW5kIGVmZmVjdFxyXG4gICAqL1xyXG4gIHB1YmxpYyBwbGF5KG5hbWU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLmVuYWJsZWQpIHJldHVybjtcclxuICAgIFxyXG4gICAgY29uc3Qgc291bmQgPSB0aGlzLnNvdW5kcy5nZXQobmFtZSk7XHJcbiAgICBpZiAoc291bmQpIHtcclxuICAgICAgLy8gQ2xvbmUgdGhlIGF1ZGlvIGVsZW1lbnQgdG8gYWxsb3cgb3ZlcmxhcHBpbmcgc291bmRzXHJcbiAgICAgIGNvbnN0IHNvdW5kQ2xvbmUgPSBzb3VuZC5jbG9uZU5vZGUoKSBhcyBIVE1MQXVkaW9FbGVtZW50O1xyXG4gICAgICBzb3VuZENsb25lLnZvbHVtZSA9IDAuNTsgLy8gU2V0IHZvbHVtZSB0byA1MCVcclxuICAgICAgc291bmRDbG9uZS5wbGF5KCkuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgRXJyb3IgcGxheWluZyBzb3VuZCAke25hbWV9OmAsIGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdGFydCBwbGF5aW5nIGJhY2tncm91bmQgbXVzaWNcclxuICAgKi9cclxuICBwdWJsaWMgcGxheUJhY2tncm91bmRNdXNpYygpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5lbmFibGVkIHx8ICF0aGlzLmJhY2tncm91bmRNdXNpYykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAvLyBPbmx5IHBsYXkgaWYgbm90IGFscmVhZHkgcGxheWluZ1xyXG4gICAgaWYgKHRoaXMuYmFja2dyb3VuZE11c2ljLnBhdXNlZCkge1xyXG4gICAgICAvLyBSZXN1bWUgYXVkaW8gY29udGV4dCBpZiBpdCBleGlzdHMgYW5kIGlzIHN1c3BlbmRlZFxyXG4gICAgICBpZiAodGhpcy5hdWRpb0NvbnRleHQgJiYgdGhpcy5hdWRpb0NvbnRleHQuc3RhdGUgPT09ICdzdXNwZW5kZWQnKSB7XHJcbiAgICAgICAgdGhpcy5hdWRpb0NvbnRleHQucmVzdW1lKCkuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCdFcnJvciByZXN1bWluZyBBdWRpb0NvbnRleHQ6JywgZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBQbGF5IHRoZSBiYWNrZ3JvdW5kIG11c2ljXHJcbiAgICAgIHRoaXMuYmFja2dyb3VuZE11c2ljLnBsYXkoKS5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgLy8gSWYgYXV0b3BsYXkgd2FzIHByZXZlbnRlZCwgd2UnbGwgd2FpdCBmb3IgdXNlciBpbnRlcmFjdGlvblxyXG4gICAgICAgIGNvbnNvbGUud2FybignRXJyb3IgcGxheWluZyBiYWNrZ3JvdW5kIG11c2ljIChsaWtlbHkgYXV0b3BsYXkgcmVzdHJpY3Rpb24pOicsIGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQYXVzZSBiYWNrZ3JvdW5kIG11c2ljXHJcbiAgICovXHJcbiAgcHVibGljIHBhdXNlQmFja2dyb3VuZE11c2ljKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuYmFja2dyb3VuZE11c2ljICYmICF0aGlzLmJhY2tncm91bmRNdXNpYy5wYXVzZWQpIHtcclxuICAgICAgdGhpcy5iYWNrZ3JvdW5kTXVzaWMucGF1c2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVuYWJsZSBvciBkaXNhYmxlIGFsbCBzb3VuZHNcclxuICAgKi9cclxuICBwdWJsaWMgc2V0RW5hYmxlZChlbmFibGVkOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICB0aGlzLmVuYWJsZWQgPSBlbmFibGVkO1xyXG4gICAgXHJcbiAgICAvLyBIYW5kbGUgYmFja2dyb3VuZCBtdXNpYyBiYXNlZCBvbiBlbmFibGVkIHN0YXRlXHJcbiAgICBpZiAoIWVuYWJsZWQpIHtcclxuICAgICAgdGhpcy5wYXVzZUJhY2tncm91bmRNdXNpYygpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmJhY2tncm91bmRNdXNpYykge1xyXG4gICAgICB0aGlzLnBsYXlCYWNrZ3JvdW5kTXVzaWMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRvZ2dsZSBzb3VuZCBvbi9vZmZcclxuICAgKi9cclxuICBwdWJsaWMgdG9nZ2xlU291bmQoKTogYm9vbGVhbiB7XHJcbiAgICB0aGlzLmVuYWJsZWQgPSAhdGhpcy5lbmFibGVkO1xyXG4gICAgXHJcbiAgICAvLyBIYW5kbGUgYmFja2dyb3VuZCBtdXNpYyBiYXNlZCBvbiBuZXcgZW5hYmxlZCBzdGF0ZVxyXG4gICAgaWYgKCF0aGlzLmVuYWJsZWQpIHtcclxuICAgICAgdGhpcy5wYXVzZUJhY2tncm91bmRNdXNpYygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5wbGF5QmFja2dyb3VuZE11c2ljKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiB0aGlzLmVuYWJsZWQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiBzb3VuZCBpcyBlbmFibGVkXHJcbiAgICovXHJcbiAgcHVibGljIGlzRW5hYmxlZCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmVuYWJsZWQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNYXJrIHRoYXQgdXNlciBpbnRlcmFjdGlvbiBoYXMgb2NjdXJyZWRcclxuICAgKi9cclxuICBwdWJsaWMgdXNlckludGVyYWN0aW9uT2NjdXJyZWQoKTogdm9pZCB7XHJcbiAgICB0aGlzLmhhc1VzZXJJbnRlcmFjdGlvbiA9IHRydWU7XHJcbiAgICBcclxuICAgIC8vIFJlc3VtZSBhdWRpbyBjb250ZXh0IGlmIGl0IHdhcyBzdXNwZW5kZWRcclxuICAgIGlmICh0aGlzLmF1ZGlvQ29udGV4dCAmJiB0aGlzLmF1ZGlvQ29udGV4dC5zdGF0ZSA9PT0gJ3N1c3BlbmRlZCcpIHtcclxuICAgICAgdGhpcy5hdWRpb0NvbnRleHQucmVzdW1lKCkuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignRXJyb3IgcmVzdW1pbmcgQXVkaW9Db250ZXh0OicsIGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFRyeSB0byBwbGF5IGJhY2tncm91bmQgbXVzaWMgbm93IHRoYXQgd2UgaGF2ZSB1c2VyIGludGVyYWN0aW9uXHJcbiAgICBpZiAodGhpcy5lbmFibGVkKSB7XHJcbiAgICAgIHRoaXMucGxheUJhY2tncm91bmRNdXNpYygpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDU1NfQ0xBU1NFUywgREFUQV9BVFRSSUJVVEVTLCBERUZBVUxUX1NFVFRJTkdTLCBHZW1TdGF0ZSwgR0VNX1NZTUJPTFMgfSBmcm9tICcuL2NvbnN0YW50cyc7XHJcbmltcG9ydCB7IEdlbSB9IGZyb20gJy4vR2VtJztcclxuaW1wb3J0IHsgR2VtUG9zaXRpb24gfSBmcm9tICcuL3R5cGVzJztcclxuaW1wb3J0IHsgU291bmRNYW5hZ2VyIH0gZnJvbSAnLi9Tb3VuZE1hbmFnZXInO1xyXG5cclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgdGhlIGdhbWUgYm9hcmQgaW4gdGhlIE1hdGNoMyBnYW1lXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQm9hcmQge1xyXG4gIHByaXZhdGUgX2dlbXM6IEdlbVtdW10gPSBbXTtcclxuICBwcml2YXRlIF9zaXplOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBfZWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcbiAgcHJpdmF0ZSBfbWluTGluZTogbnVtYmVyO1xyXG4gIHByaXZhdGUgX2NvbG9yczogbnVtYmVyO1xyXG4gIHByaXZhdGUgX3NvdW5kTWFuYWdlcjogU291bmRNYW5hZ2VyO1xyXG5cclxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBIVE1MRWxlbWVudCwgc2l6ZTogbnVtYmVyLCBtaW5MaW5lOiBudW1iZXIsIGNvbG9yczogbnVtYmVyKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcclxuICAgIHRoaXMuX3NpemUgPSBzaXplO1xyXG4gICAgdGhpcy5fbWluTGluZSA9IG1pbkxpbmU7XHJcbiAgICB0aGlzLl9jb2xvcnMgPSBjb2xvcnM7XHJcbiAgICB0aGlzLl9zb3VuZE1hbmFnZXIgPSBTb3VuZE1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuICAgIFxyXG4gICAgdGhpcy5jcmVhdGVNYXAoc2l6ZSwgbWluTGluZSwgY29sb3JzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgdGhlIHNpemUgb2YgdGhlIGJvYXJkXHJcbiAgICovXHJcbiAgZ2V0IHNpemUoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLl9zaXplO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0cyB0aGUgbWluaW11bSBsaW5lIGxlbmd0aCBmb3IgbWF0Y2hlc1xyXG4gICAqL1xyXG4gIGdldCBtaW5MaW5lKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5fbWluTGluZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBjb2xvcnMgdXNlZCBpbiB0aGUgYm9hcmRcclxuICAgKi9cclxuICBnZXQgY29sb3JzKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5fY29sb3JzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0cyBhIGdlbSBhdCB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uXHJcbiAgICovXHJcbiAgZ2V0R2VtKGo6IG51bWJlciwgazogbnVtYmVyKTogR2VtIHtcclxuICAgIHJldHVybiB0aGlzLl9nZW1zW2pdW2tdO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyB0aGUgZ2FtZSBib2FyZCB3aXRoIHRoZSBzcGVjaWZpZWQgcGFyYW1ldGVyc1xyXG4gICAqL1xyXG4gIGNyZWF0ZU1hcChzaXplOiBudW1iZXIsIG1pbkxpbmU6IG51bWJlciwgY29sb3JzOiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgIC8vIFZhbGlkYXRlIGdhbWUgY29uZmlndXJhdGlvblxyXG4gICAgaWYgKCF0aGlzLmlzVmFsaWRHYW1lQ29uZmlndXJhdGlvbihzaXplLCBjb2xvcnMpKSB7XHJcbiAgICAgIHRoaXMuZGlzcGxheUludmFsaWRDb25maWd1cmF0aW9uTWVzc2FnZShzaXplLCBjb2xvcnMpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIENsZWFyIHRoZSBmaWVsZFxyXG4gICAgdGhpcy5jbGVhckZpZWxkKCk7XHJcbiAgICBcclxuICAgIC8vIEluaXRpYWxpemUgZ2VtcyBhcnJheVxyXG4gICAgdGhpcy5pbml0aWFsaXplR2Vtc0FycmF5KHNpemUpO1xyXG4gICAgXHJcbiAgICAvLyBDcmVhdGUgZ2VtIGVsZW1lbnRzXHJcbiAgICB0aGlzLmNyZWF0ZUdlbUVsZW1lbnRzKCk7XHJcbiAgICBcclxuICAgIC8vIFNldCBnZW0gc2l6ZXNcclxuICAgIHRoaXMuc2V0R2VtRWxlbWVudFNpemVzKCk7XHJcbiAgICBcclxuICAgIC8vIEZpbGwgdGhlIGJvYXJkIHdpdGggZ2Vtc1xyXG4gICAgdGhpcy5maWxsTWFwKCk7XHJcbiAgICBcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2tzIGlmIHRoZSBnYW1lIGNvbmZpZ3VyYXRpb24gaXMgdmFsaWRcclxuICAgKi9cclxuICBwcml2YXRlIGlzVmFsaWRHYW1lQ29uZmlndXJhdGlvbihzaXplOiBudW1iZXIsIGNvbG9yczogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gc2l6ZSA+IDEgJiYgY29sb3JzID4gMSAmJiB0aGlzLl9taW5MaW5lID4gMTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERpc3BsYXlzIGFuIGVycm9yIG1lc3NhZ2Ugd2hlbiBjb25maWd1cmF0aW9uIGlzIGludmFsaWRcclxuICAgKi9cclxuICBwcml2YXRlIGRpc3BsYXlJbnZhbGlkQ29uZmlndXJhdGlvbk1lc3NhZ2Uoc2l6ZTogbnVtYmVyLCBjb2xvcnM6IG51bWJlcik6IHZvaWQge1xyXG4gICAgdGhpcy5fZWxlbWVudC5pbm5lckhUTUwgPSBgQSBmaWVsZCB3aXRoIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczogc2l6ZTogJHtzaXplfSwgY29sb3JzOiAke2NvbG9yc30sIG1pbi4gbGluZSBsZW5ndGg6ICR7dGhpcy5fbWluTGluZX0sIGNhbm5vdCBiZSBnZW5lcmF0ZWQuYDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENsZWFycyB0aGUgZmllbGQgZWxlbWVudFxyXG4gICAqL1xyXG4gIHByaXZhdGUgY2xlYXJGaWVsZCgpOiB2b2lkIHtcclxuICAgIHRoaXMuX2VsZW1lbnQuaW5uZXJIVE1MID0gJyc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyB0aGUgZ2VtcyBhcnJheSB3aXRoIHRoZSBnaXZlbiBzaXplXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBpbml0aWFsaXplR2Vtc0FycmF5KHNpemU6IG51bWJlcik6IHZvaWQge1xyXG4gICAgdGhpcy5fZ2VtcyA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcclxuICAgICAgdGhpcy5fZ2Vtc1tpXSA9IFtdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBnZW0gZWxlbWVudHMgYW5kIGFkZHMgdGhlbSB0byB0aGUgYm9hcmRcclxuICAgKi9cclxuICBwcml2YXRlIGNyZWF0ZUdlbUVsZW1lbnRzKCk6IHZvaWQge1xyXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9zaXplOyBqKyspIHtcclxuICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCB0aGlzLl9zaXplOyBrKyspIHtcclxuICAgICAgICBjb25zdCBnZW1FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZ2VtRWxlbWVudC5jbGFzc05hbWUgPSBDU1NfQ0xBU1NFUy5HRU07XHJcbiAgICAgICAgZ2VtRWxlbWVudC5zZXRBdHRyaWJ1dGUoREFUQV9BVFRSSUJVVEVTLkosIGoudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgZ2VtRWxlbWVudC5zZXRBdHRyaWJ1dGUoREFUQV9BVFRSSUJVVEVTLkssIGsudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgZ2VtRWxlbWVudC5zZXRBdHRyaWJ1dGUoREFUQV9BVFRSSUJVVEVTLkNPTE9SLCAnJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5hcHBlbmRDaGlsZChnZW1FbGVtZW50KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9nZW1zW2pdW2tdID0gbmV3IEdlbShnZW1FbGVtZW50LCB0aGlzLl9zaXplKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyB0aGUgc2l6ZSBvZiBnZW0gZWxlbWVudHNcclxuICAgKi9cclxuICBwcml2YXRlIHNldEdlbUVsZW1lbnRTaXplcygpOiB2b2lkIHtcclxuICAgIGNvbnN0IGdlbUVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLiR7Q1NTX0NMQVNTRVMuR0VNfWApO1xyXG4gICAgZ2VtRWxlbWVudHMuZm9yRWFjaChnZW1FbGVtID0+IHtcclxuICAgICAgY29uc3QgZ2VtID0gZ2VtRWxlbSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgZ2VtLnN0eWxlLndpZHRoID0gYCR7MTAwL0RFRkFVTFRfU0VUVElOR1MuSU5JVElBTF9TSVpFfSVgO1xyXG4gICAgICBnZW0uc3R5bGUuaGVpZ2h0ID0gYCR7MTAwL0RFRkFVTFRfU0VUVElOR1MuSU5JVElBTF9TSVpFfSVgO1xyXG4gICAgICAvLyBnZW0uc3R5bGUuZm9udFNpemUgPSBERUZBVUxUX1NFVFRJTkdTLkZJRUxEX1NJWkUgLyAodGhpcy5fc2l6ZSAqIDIpICsgJ3B4JztcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRmlsbHMgdGhlIGJvYXJkIHdpdGggZ2Vtc1xyXG4gICAqL1xyXG4gIGZpbGxNYXAoKTogdm9pZCB7XHJcbiAgICAvLyBDcmVhdGUgbmV3IGdlbXMgZm9yIGVhY2ggZW1wdHkgcG9zaXRpb25cclxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5fc2l6ZTsgaisrKSB7XHJcbiAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgdGhpcy5fc2l6ZTsgaysrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2dlbXNbal1ba10uc3RhdGUgPT09IEdlbVN0YXRlLkRFQUQpIHtcclxuICAgICAgICAgIC8vIFJlbW92ZSB0aGUgb2xkIGRlYWQgZ2VtIGVsZW1lbnQgYWZ0ZXIgYW5pbWF0aW9uIGNvbXBsZXRlc1xyXG4gICAgICAgICAgY29uc3QgZGVhZEdlbSA9IHRoaXMuX2dlbXNbal1ba10uZWxlbTtcclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZGVhZEdlbS5wYXJlbnROb2RlKSB7XHJcbiAgICAgICAgICAgICAgZGVhZEdlbS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSwgREVGQVVMVF9TRVRUSU5HUy5LSUxMX0RFTEFZKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gQ3JlYXRlIGEgY29tcGxldGVseSBuZXcgZ2VtIGVsZW1lbnRcclxuICAgICAgICAgIHRoaXMuY3JlYXRlQnJhbmROZXdHZW0oaiwgayk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFBsYXkgZmlsbCBzb3VuZFxyXG4gICAgdGhpcy5fc291bmRNYW5hZ2VyLnBsYXkoU291bmRNYW5hZ2VyLlNPVU5EX0VGRkVDVFMuRklMTCk7XHJcbiAgICBcclxuICAgIC8vIEFuaW1hdGUgYWxsIGdlbXMgaW50byBwbGFjZVxyXG4gICAgdGhpcy5wbGFjZUFsbCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhIGNvbXBsZXRlbHkgbmV3IGdlbSBlbGVtZW50IGF0IHRoZSBzcGVjaWZpZWQgcG9zaXRpb25cclxuICAgKi9cclxuICBwcml2YXRlIGNyZWF0ZUJyYW5kTmV3R2VtKGo6IG51bWJlciwgazogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAvLyBDcmVhdGUgYSBuZXcgRE9NIGVsZW1lbnQgZm9yIHRoZSBnZW1cclxuICAgIGNvbnN0IGdlbUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGdlbUVsZW1lbnQuY2xhc3NOYW1lID0gQ1NTX0NMQVNTRVMuR0VNO1xyXG4gICAgZ2VtRWxlbWVudC5zZXRBdHRyaWJ1dGUoREFUQV9BVFRSSUJVVEVTLkosIFN0cmluZyhqIC0gMikpOyBcclxuICAgIGdlbUVsZW1lbnQuc2V0QXR0cmlidXRlKERBVEFfQVRUUklCVVRFUy5LLCBTdHJpbmcoaykpO1xyXG4gICAgXHJcbiAgICAvLyBTZXQgdGhlIGdlbSBzaXplXHJcbiAgICBnZW1FbGVtZW50LnN0eWxlLndpZHRoID0gYCR7MTAwL0RFRkFVTFRfU0VUVElOR1MuSU5JVElBTF9TSVpFfSVgO1xyXG4gICAgZ2VtRWxlbWVudC5zdHlsZS5oZWlnaHQgPSBgJHsxMDAvREVGQVVMVF9TRVRUSU5HUy5JTklUSUFMX1NJWkV9JWA7XHJcbiAgICBcclxuICAgIC8vIENhbGN1bGF0ZSBob3cgZmFyIGFib3ZlIHRoZSBib2FyZCB0aGlzIGdlbSBzaG91bGQgc3RhcnRcclxuICAgIGNvbnN0IHN0YXJ0aW5nWVBvc2l0aW9uID0gLSgyICogREVGQVVMVF9TRVRUSU5HUy5GSUVMRF9TSVpFIC8gdGhpcy5fc2l6ZSk7XHJcbiAgICBcclxuICAgIC8vIFBvc2l0aW9uIHRoZSBnZW0gaW5pdGlhbGx5IGFib3ZlIHRoZSBib2FyZCBmb3IgYW5pbWF0aW9uXHJcbiAgICBnZW1FbGVtZW50LnN0eWxlLnRvcCA9IGAke3N0YXJ0aW5nWVBvc2l0aW9ufXB4YDtcclxuICAgIGdlbUVsZW1lbnQuc3R5bGUubGVmdCA9IGAke2sgKiAoMTAwL0RFRkFVTFRfU0VUVElOR1MuSU5JVElBTF9TSVpFKX0lYDtcclxuICAgIFxyXG4gICAgLy8gQWRkIHNvbWUgaW5pdGlhbCB0cmFuc2Zvcm0gZm9yIGEgbW9yZSBkeW5hbWljIGVudHJhbmNlXHJcbiAgICBnZW1FbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgwLjgpIHJvdGF0ZSgke01hdGgucmFuZG9tKCkgKiAyMCAtIDEwfWRlZylgO1xyXG4gICAgZ2VtRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gJzAuOSc7XHJcbiAgICBcclxuICAgIC8vIEFkZCB0aGUgZ2VtIGVsZW1lbnQgdG8gdGhlIGJvYXJkXHJcbiAgICB0aGlzLl9lbGVtZW50LmFwcGVuZENoaWxkKGdlbUVsZW1lbnQpO1xyXG4gICAgXHJcbiAgICAvLyBDcmVhdGUgYSBuZXcgR2VtIG9iamVjdFxyXG4gICAgdGhpcy5fZ2Vtc1tqXVtrXSA9IG5ldyBHZW0oZ2VtRWxlbWVudCwgdGhpcy5fc2l6ZSk7XHJcbiAgICBcclxuICAgIC8vIFNldCB0aGUgZ2VtIHRvIGFsaXZlIHN0YXRlXHJcbiAgICB0aGlzLl9nZW1zW2pdW2tdLnN0YXRlID0gR2VtU3RhdGUuQUxJVkU7XHJcbiAgICBcclxuICAgIC8vIEZpbmQgYSB2YWxpZCBjb2xvciB0aGF0IGRvZXNuJ3QgY3JlYXRlIG1hdGNoZXNcclxuICAgIGxldCBjb2xvcjtcclxuICAgIGRvIHtcclxuICAgICAgY29sb3IgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLl9jb2xvcnMpO1xyXG4gICAgfSB3aGlsZSAodGhpcy53aWxsQ3JlYXRlTWF0Y2goaiwgaywgY29sb3IpKTtcclxuICAgIFxyXG4gICAgLy8gU2V0IHRoZSBnZW0gY29sb3JcclxuICAgIHRoaXMuX2dlbXNbal1ba10uY29sb3IgPSBjb2xvcjtcclxuICAgIGdlbUVsZW1lbnQuc2V0QXR0cmlidXRlKERBVEFfQVRUUklCVVRFUy5DT0xPUiwgU3RyaW5nKGNvbG9yKSk7XHJcbiAgICBnZW1FbGVtZW50LmlubmVySFRNTCA9IEdFTV9TWU1CT0xTW2NvbG9yXTtcclxuICAgIFxyXG4gICAgLy8gVXBkYXRlIHRoZSBnZW0ncyBwb3NpdGlvbiBhdHRyaWJ1dGVzIHRvIGl0cyBmaW5hbCBwb3NpdGlvblxyXG4gICAgZ2VtRWxlbWVudC5zZXRBdHRyaWJ1dGUoREFUQV9BVFRSSUJVVEVTLkosIFN0cmluZyhqKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGVzIGEgbmV3IGdlbSBhdCB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uIChkZXByZWNhdGVkLCBrZXB0IGZvciByZWZlcmVuY2UpXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBjcmVhdGVOZXdHZW0oajogbnVtYmVyLCBrOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIC8vIFRoaXMgbWV0aG9kIGlzIG5vdyBkZXByZWNhdGVkIGluIGZhdm9yIG9mIGNyZWF0ZUJyYW5kTmV3R2VtXHJcbiAgICAvLyB3aGljaCBjcmVhdGVzIGNvbXBsZXRlbHkgbmV3IERPTSBlbGVtZW50cyBpbnN0ZWFkIG9mIHJldXNpbmcgb2xkIG9uZXNcclxuICAgIHRoaXMuY3JlYXRlQnJhbmROZXdHZW0oaiwgayk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVja3MgaWYgcGxhY2luZyBhIGdlbSB3aXRoIHRoZSBnaXZlbiBjb2xvciBhdCB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uIHdpbGwgY3JlYXRlIGEgbWF0Y2hcclxuICAgKi9cclxuICBwcml2YXRlIHdpbGxDcmVhdGVNYXRjaChqOiBudW1iZXIsIGs6IG51bWJlciwgY29sb3I6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgLy8gQ2hlY2sgaG9yaXpvbnRhbCBtYXRjaGVzXHJcbiAgICBsZXQgY291bnQgPSAxO1xyXG4gICAgbGV0IGwgPSBrIC0gMTtcclxuICAgIHdoaWxlIChsID49IDAgJiYgdGhpcy5fZ2Vtc1tqXVtsXS5zdGF0ZSA9PT0gR2VtU3RhdGUuQUxJVkUgJiYgdGhpcy5fZ2Vtc1tqXVtsXS5jb2xvciA9PT0gY29sb3IpIHtcclxuICAgICAgY291bnQrKztcclxuICAgICAgbC0tO1xyXG4gICAgfVxyXG4gICAgbCA9IGsgKyAxO1xyXG4gICAgd2hpbGUgKGwgPCB0aGlzLl9zaXplICYmIHRoaXMuX2dlbXNbal1bbF0uc3RhdGUgPT09IEdlbVN0YXRlLkFMSVZFICYmIHRoaXMuX2dlbXNbal1bbF0uY29sb3IgPT09IGNvbG9yKSB7XHJcbiAgICAgIGNvdW50Kys7XHJcbiAgICAgIGwrKztcclxuICAgIH1cclxuICAgIGlmIChjb3VudCA+PSB0aGlzLl9taW5MaW5lKSByZXR1cm4gdHJ1ZTtcclxuICAgIFxyXG4gICAgLy8gQ2hlY2sgdmVydGljYWwgbWF0Y2hlc1xyXG4gICAgY291bnQgPSAxO1xyXG4gICAgbCA9IGogLSAxO1xyXG4gICAgd2hpbGUgKGwgPj0gMCAmJiB0aGlzLl9nZW1zW2xdW2tdLnN0YXRlID09PSBHZW1TdGF0ZS5BTElWRSAmJiB0aGlzLl9nZW1zW2xdW2tdLmNvbG9yID09PSBjb2xvcikge1xyXG4gICAgICBjb3VudCsrO1xyXG4gICAgICBsLS07XHJcbiAgICB9XHJcbiAgICBsID0gaiArIDE7XHJcbiAgICB3aGlsZSAobCA8IHRoaXMuX3NpemUgJiYgdGhpcy5fZ2Vtc1tsXVtrXS5zdGF0ZSA9PT0gR2VtU3RhdGUuQUxJVkUgJiYgdGhpcy5fZ2Vtc1tsXVtrXS5jb2xvciA9PT0gY29sb3IpIHtcclxuICAgICAgY291bnQrKztcclxuICAgICAgbCsrO1xyXG4gICAgfVxyXG4gICAgaWYgKGNvdW50ID49IHRoaXMuX21pbkxpbmUpIHJldHVybiB0cnVlO1xyXG4gICAgXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQbGFjZXMgYWxsIGdlbXMgb24gdGhlIGJvYXJkXHJcbiAgICovXHJcbiAgcGxhY2VBbGwoKTogdm9pZCB7XHJcbiAgICAvLyBTdGFnZ2VyIHRoZSBhbmltYXRpb24gZm9yIGEgY2FzY2FkaW5nIGVmZmVjdFxyXG4gICAgZm9yIChsZXQgaiA9IHRoaXMuX3NpemUgLSAxOyBqID49IDA7IGotLSkge1xyXG4gICAgICBmb3IgKGxldCBrID0gMDsgayA8IHRoaXMuX3NpemU7IGsrKykge1xyXG4gICAgICAgIC8vIERlbGF5IHRoZSBhbmltYXRpb24gYmFzZWQgb24gdGhlIHJvdyBwb3NpdGlvblxyXG4gICAgICAgIC8vIEdlbXMgYXQgdGhlIHRvcCBvZiB0aGUgYm9hcmQgKHNtYWxsZXIgaikgd2lsbCBmYWxsIGxhdGVyXHJcbiAgICAgICAgY29uc3QgZGVsYXkgPSAodGhpcy5fc2l6ZSAtIGopICogREVGQVVMVF9TRVRUSU5HUy5GQUxMX0RFTEFZX1BFUl9ST1c7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9nZW1zW2pdW2tdLnBsYWNlKCk7XHJcbiAgICAgICAgfSwgZGVsYXkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTd2FwcyB0d28gZ2VtcyBvbiB0aGUgYm9hcmRcclxuICAgKi9cclxuICBzd2FwKGoxOiBudW1iZXIsIGsxOiBudW1iZXIsIGoyOiBudW1iZXIsIGsyOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIC8vIFVwZGF0ZSBnZW0gcG9zaXRpb25zIGluIHRoZSBET01cclxuICAgIHRoaXMuX2dlbXNbajFdW2sxXS5lbGVtLnNldEF0dHJpYnV0ZShEQVRBX0FUVFJJQlVURVMuSiwgajIudG9TdHJpbmcoKSk7XHJcbiAgICB0aGlzLl9nZW1zW2oxXVtrMV0uZWxlbS5zZXRBdHRyaWJ1dGUoREFUQV9BVFRSSUJVVEVTLkssIGsyLnRvU3RyaW5nKCkpO1xyXG4gICAgdGhpcy5fZ2Vtc1tqMl1bazJdLmVsZW0uc2V0QXR0cmlidXRlKERBVEFfQVRUUklCVVRFUy5KLCBqMS50b1N0cmluZygpKTtcclxuICAgIHRoaXMuX2dlbXNbajJdW2syXS5lbGVtLnNldEF0dHJpYnV0ZShEQVRBX0FUVFJJQlVURVMuSywgazEudG9TdHJpbmcoKSk7XHJcbiAgICBcclxuICAgIC8vIFN3YXAgZ2VtcyBpbiB0aGUgYXJyYXlcclxuICAgIGNvbnN0IHRlbXAgPSB0aGlzLl9nZW1zW2oxXVtrMV07XHJcbiAgICB0aGlzLl9nZW1zW2oxXVtrMV0gPSB0aGlzLl9nZW1zW2oyXVtrMl07XHJcbiAgICB0aGlzLl9nZW1zW2oyXVtrMl0gPSB0ZW1wO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2tzIGlmIGEgbW92ZSBiZXR3ZWVuIHR3byBwb3NpdGlvbnMgaXMgdmFsaWRcclxuICAgKi9cclxuICBpc0NvcnJlY3RUdXJuKGoxOiBudW1iZXIsIGsxOiBudW1iZXIsIGoyOiBudW1iZXIsIGsyOiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgIC8vIENoZWNrIGlmIGJvdGggZ2VtcyBhcmUgYWxpdmVcclxuICAgIGlmICh0aGlzLl9nZW1zW2oxXVtrMV0uc3RhdGUgIT09IEdlbVN0YXRlLkFMSVZFIHx8IHRoaXMuX2dlbXNbajJdW2syXS5zdGF0ZSAhPT0gR2VtU3RhdGUuQUxJVkUpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBDaGVjayBpZiBwb3NpdGlvbnMgYXJlIGFkamFjZW50XHJcbiAgICBjb25zdCByb3dEaWZmID0gTWF0aC5hYnMoajEgLSBqMik7XHJcbiAgICBjb25zdCBjb2xEaWZmID0gTWF0aC5hYnMoazEgLSBrMik7XHJcbiAgICBcclxuICAgIC8vIE9ydGhvZ29uYWwgbW92ZSAoaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbClcclxuICAgIGlmICgocm93RGlmZiA9PT0gMSAmJiBjb2xEaWZmID09PSAwKSB8fCAocm93RGlmZiA9PT0gMCAmJiBjb2xEaWZmID09PSAxKSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRmluZHMgbWF0Y2hlcyBzdGFydGluZyBmcm9tIHRoZSBzcGVjaWZpZWQgcG9zaXRpb25cclxuICAgKi9cclxuICBtYXRjaENoYWluKGo6IG51bWJlciwgazogbnVtYmVyKTogR2VtUG9zaXRpb25bXSB7XHJcbiAgICAvLyBSZXR1cm4gZW1wdHkgYXJyYXkgaWYgdGhlIGdlbSBpcyBkZWFkXHJcbiAgICBpZiAodGhpcy5fZ2Vtc1tqXVtrXS5zdGF0ZSAhPT0gR2VtU3RhdGUuQUxJVkUpIHtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBjb2xvciA9IHRoaXMuX2dlbXNbal1ba10uY29sb3I7XHJcbiAgICBsZXQgY2hhaW46IEdlbVBvc2l0aW9uW10gPSBbXTtcclxuICAgIFxyXG4gICAgLy8gRGVmaW5lIGRpcmVjdGlvbnMgdG8gY2hlY2sgKGhvcml6b250YWwgYW5kIHZlcnRpY2FsKVxyXG4gICAgY29uc3QgZGlyZWN0aW9ucyA9IFtcclxuICAgICAgeyBkajogMCwgZGs6IDEgfSwgIC8vIHJpZ2h0XHJcbiAgICAgIHsgZGo6IDEsIGRrOiAwIH0sICAvLyBkb3duXHJcbiAgICBdO1xyXG4gICAgXHJcbiAgICAvLyBDaGVjayBlYWNoIGRpcmVjdGlvbiBmb3IgbWF0Y2hlc1xyXG4gICAgZm9yIChjb25zdCBkaXIgb2YgZGlyZWN0aW9ucykge1xyXG4gICAgICBsZXQgY3VycmVudENoYWluOiBHZW1Qb3NpdGlvbltdID0gW3sgaiwgayB9XTtcclxuICAgICAgXHJcbiAgICAgIC8vIENoZWNrIGluIHBvc2l0aXZlIGRpcmVjdGlvblxyXG4gICAgICB0aGlzLmNoZWNrRGlyZWN0aW9uKGosIGssIGRpci5kaiwgZGlyLmRrLCBjb2xvciwgY3VycmVudENoYWluKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENoZWNrIGluIG5lZ2F0aXZlIGRpcmVjdGlvblxyXG4gICAgICB0aGlzLmNoZWNrRGlyZWN0aW9uKGosIGssIC1kaXIuZGosIC1kaXIuZGssIGNvbG9yLCBjdXJyZW50Q2hhaW4pO1xyXG4gICAgICBcclxuICAgICAgLy8gSWYgd2UgZm91bmQgYSB2YWxpZCBjaGFpbiwgYWRkIGl0IHRvIG91ciByZXN1bHRzXHJcbiAgICAgIGlmIChjdXJyZW50Q2hhaW4ubGVuZ3RoID49IHRoaXMuX21pbkxpbmUpIHtcclxuICAgICAgICBjaGFpbiA9IGNoYWluLmNvbmNhdChjdXJyZW50Q2hhaW4pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFJlbW92ZSBkdXBsaWNhdGVzIGZyb20gdGhlIGNoYWluXHJcbiAgICByZXR1cm4gdGhpcy5yZW1vdmVEdXBsaWNhdGVzKGNoYWluKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrcyBmb3IgbWF0Y2hlcyBpbiBhIHNwZWNpZmljIGRpcmVjdGlvblxyXG4gICAqL1xyXG4gIHByaXZhdGUgY2hlY2tEaXJlY3Rpb24oajogbnVtYmVyLCBrOiBudW1iZXIsIGRqOiBudW1iZXIsIGRrOiBudW1iZXIsIGNvbG9yOiBudW1iZXIsIGNoYWluOiBHZW1Qb3NpdGlvbltdKTogdm9pZCB7XHJcbiAgICBsZXQgY3VycmVudEogPSBqICsgZGo7XHJcbiAgICBsZXQgY3VycmVudEsgPSBrICsgZGs7XHJcbiAgICBcclxuICAgIHdoaWxlIChcclxuICAgICAgY3VycmVudEogPj0gMCAmJiBjdXJyZW50SiA8IHRoaXMuX3NpemUgJiZcclxuICAgICAgY3VycmVudEsgPj0gMCAmJiBjdXJyZW50SyA8IHRoaXMuX3NpemUgJiZcclxuICAgICAgdGhpcy5fZ2Vtc1tjdXJyZW50Sl1bY3VycmVudEtdLnN0YXRlID09PSBHZW1TdGF0ZS5BTElWRSAmJlxyXG4gICAgICB0aGlzLl9nZW1zW2N1cnJlbnRKXVtjdXJyZW50S10uY29sb3IgPT09IGNvbG9yXHJcbiAgICApIHtcclxuICAgICAgY2hhaW4ucHVzaCh7IGo6IGN1cnJlbnRKLCBrOiBjdXJyZW50SyB9KTtcclxuICAgICAgY3VycmVudEogKz0gZGo7XHJcbiAgICAgIGN1cnJlbnRLICs9IGRrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVtb3ZlcyBkdXBsaWNhdGUgcG9zaXRpb25zIGZyb20gYSBjaGFpblxyXG4gICAqL1xyXG4gIHByaXZhdGUgcmVtb3ZlRHVwbGljYXRlcyhjaGFpbjogR2VtUG9zaXRpb25bXSk6IEdlbVBvc2l0aW9uW10ge1xyXG4gICAgY29uc3QgdW5pcXVlUG9zaXRpb25zOiBHZW1Qb3NpdGlvbltdID0gW107XHJcbiAgICBjb25zdCBzZWVuID0gbmV3IFNldDxzdHJpbmc+KCk7XHJcbiAgICBcclxuICAgIGZvciAoY29uc3QgcG9zIG9mIGNoYWluKSB7XHJcbiAgICAgIGNvbnN0IGtleSA9IGAke3Bvcy5qfSwke3Bvcy5rfWA7XHJcbiAgICAgIGlmICghc2Vlbi5oYXMoa2V5KSkge1xyXG4gICAgICAgIHNlZW4uYWRkKGtleSk7XHJcbiAgICAgICAgdW5pcXVlUG9zaXRpb25zLnB1c2gocG9zKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gdW5pcXVlUG9zaXRpb25zO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBHZW1Qb3NpdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xyXG5pbXBvcnQgeyBcclxuICBFTEVNRU5UX0lEUywgXHJcbiAgQ1NTX0NMQVNTRVMsIFxyXG4gIEdlbVN0YXRlLCBcclxuICBEQVRBX0FUVFJJQlVURVMsIFxyXG4gIERFRkFVTFRfU0VUVElOR1MsXHJcbiAgR0VNX1NZTUJPTFMsXHJcbiAgTWF0Y2hBY3Rpb25cclxufSBmcm9tICcuL2NvbnN0YW50cyc7XHJcbmltcG9ydCB7IEJvYXJkIH0gZnJvbSAnLi9Cb2FyZCc7XHJcbmltcG9ydCB7IEdlbSB9IGZyb20gJy4vR2VtJztcclxuaW1wb3J0IHsgU291bmRNYW5hZ2VyIH0gZnJvbSAnLi9Tb3VuZE1hbmFnZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWUge1xyXG4gIHByaXZhdGUgYm9hcmQ6IEJvYXJkO1xyXG4gIHByaXZhdGUgY2x1c3RlcjogR2VtUG9zaXRpb25bXSA9IFtdO1xyXG4gIHByaXZhdGUgY2hvc2VuOiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSBmaWVsZDogSFRNTEVsZW1lbnQ7XHJcbiAgcHJpdmF0ZSBwYXVzZTogYm9vbGVhbiA9IHRydWU7XHJcbiAgcHJpdmF0ZSBzY29yZTogbnVtYmVyID0gMDtcclxuICBwcml2YXRlIHRhcmdldDogbnVtYmVyID0gMDtcclxuICBwcml2YXRlIHRpbWU6IG51bWJlciA9IERFRkFVTFRfU0VUVElOR1MuSU5JVElBTF9USU1FO1xyXG4gIHByaXZhdGUgc2NvcmVib2FyZDogSFRNTEVsZW1lbnQ7XHJcbiAgcHJpdmF0ZSBsZXZlbDogbnVtYmVyID0gMTtcclxuICBwcml2YXRlIGNob3Nlbko6IG51bWJlciA9IC0xO1xyXG4gIHByaXZhdGUgY2hvc2VuSzogbnVtYmVyID0gLTE7XHJcbiAgcHJpdmF0ZSBjb3VudGRvd25JbnRlcnZhbDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XHJcbiAgcHJpdmF0ZSBzb3VuZE1hbmFnZXI6IFNvdW5kTWFuYWdlcjtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoRUxFTUVOVF9JRFMuRklFTEQpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgdGhpcy5zY29yZWJvYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoRUxFTUVOVF9JRFMuU0NPUkVCT0FSRCkgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICB0aGlzLnNvdW5kTWFuYWdlciA9IFNvdW5kTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cclxuICAgIC8vIEluaXRpYWxpemUgdGhlIGJvYXJkIHdpdGggZGVmYXVsdCBzZXR0aW5ncyAtIGFsd2F5cyB1c2UgMTB4MTAgZ3JpZFxyXG4gICAgdGhpcy5ib2FyZCA9IG5ldyBCb2FyZChcclxuICAgICAgdGhpcy5maWVsZCwgXHJcbiAgICAgIERFRkFVTFRfU0VUVElOR1MuSU5JVElBTF9TSVpFLCBcclxuICAgICAgREVGQVVMVF9TRVRUSU5HUy5NSU5fTElORSwgXHJcbiAgICAgIERFRkFVTFRfU0VUVElOR1MuSU5JVElBTF9DT0xPUlNcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5pbml0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuc2V0dXBBdWRpb0NvbnRleHQoKTtcclxuICAgIHRoaXMuc3RhcnRMZXZlbCh0aGlzLmxldmVsKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5pdEV2ZW50TGlzdGVuZXJzKCk6IHZvaWQge1xyXG4gICAgLy8gVmFyaWFibGVzIHRvIHRyYWNrIGRyYWcgb3BlcmF0aW9uc1xyXG4gICAgbGV0IGlzRHJhZ2dpbmcgPSBmYWxzZTtcclxuICAgIGxldCBzdGFydEdlbTogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuICAgIGxldCBzdGFydEogPSAtMTtcclxuICAgIGxldCBzdGFydEsgPSAtMTtcclxuICAgIGxldCBkcmFnVGhyZXNob2xkID0gMTA7IC8vIE1pbmltdW0gcGl4ZWxzIHRvIGNvbnNpZGVyIGEgZHJhZ1xyXG4gICAgbGV0IHN0YXJ0WCA9IDA7XHJcbiAgICBsZXQgc3RhcnRZID0gMDtcclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIHRvdWNoIHN0YXJ0IGFuZCBtb3VzZSBkb3duXHJcbiAgICBjb25zdCBoYW5kbGVTdGFydCA9IChldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpID0+IHtcclxuICAgICAgLy8gR2FtZSBtdXN0IG5vdCBiZSBwYXVzZWRcclxuICAgICAgaWYgKHRoaXMucGF1c2UpIHJldHVybjtcclxuICAgICAgXHJcbiAgICAgIC8vIEdldCB0aGUgdGFyZ2V0IGVsZW1lbnRcclxuICAgICAgY29uc3QgdGFyZ2V0ID0gKGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBPbmx5IHByb2Nlc3MgZXZlbnRzIG9uIGdlbSBlbGVtZW50c1xyXG4gICAgICBpZiAoIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoQ1NTX0NMQVNTRVMuR0VNKSkgcmV0dXJuO1xyXG4gICAgICBcclxuICAgICAgLy8gR2V0IHRoZSBzdGFydGluZyBjb29yZGluYXRlc1xyXG4gICAgICBpZiAoZXZlbnQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgc3RhcnRYID0gZXZlbnQuY2xpZW50WDtcclxuICAgICAgICBzdGFydFkgPSBldmVudC5jbGllbnRZO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFRvdWNoIGV2ZW50XHJcbiAgICAgICAgc3RhcnRYID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYO1xyXG4gICAgICAgIHN0YXJ0WSA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gUmVjb3JkIHRoZSBzdGFydGluZyBnZW1cclxuICAgICAgc3RhcnRHZW0gPSB0YXJnZXQ7XHJcbiAgICAgIHN0YXJ0SiA9IHBhcnNlSW50KHRhcmdldC5nZXRBdHRyaWJ1dGUoREFUQV9BVFRSSUJVVEVTLkopIHx8ICcwJywgMTApO1xyXG4gICAgICBzdGFydEsgPSBwYXJzZUludCh0YXJnZXQuZ2V0QXR0cmlidXRlKERBVEFfQVRUUklCVVRFUy5LKSB8fCAnMCcsIDEwKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEFkZCB2aXN1YWwgZmVlZGJhY2tcclxuICAgICAgdGhpcy5ib2FyZC5nZXRHZW0oc3RhcnRKLCBzdGFydEspLmVsZW0uY2xhc3NMaXN0LmFkZChDU1NfQ0xBU1NFUy5DSE9TRU4pO1xyXG4gICAgICB0aGlzLnNvdW5kTWFuYWdlci5wbGF5KFNvdW5kTWFuYWdlci5TT1VORF9FRkZFQ1RTLlRVUk4pO1xyXG4gICAgICBcclxuICAgICAgLy8gU3RhcnQgZHJhZ2dpbmdcclxuICAgICAgaXNEcmFnZ2luZyA9IHRydWU7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyBIYW5kbGUgdG91Y2ggbW92ZSBhbmQgbW91c2UgbW92ZVxyXG4gICAgY29uc3QgaGFuZGxlTW92ZSA9IChldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpID0+IHtcclxuICAgICAgLy8gT25seSBwcm9jZXNzIGlmIHdlJ3JlIGRyYWdnaW5nXHJcbiAgICAgIGlmICghaXNEcmFnZ2luZyB8fCAhc3RhcnRHZW0pIHJldHVybjtcclxuICAgICAgXHJcbiAgICAgIC8vIFByZXZlbnQgZGVmYXVsdCBiZWhhdmlvciAoc2Nyb2xsaW5nLCBldGMuKVxyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBcclxuICAgICAgLy8gR2V0IGN1cnJlbnQgY29vcmRpbmF0ZXNcclxuICAgICAgbGV0IGN1cnJlbnRYOiBudW1iZXIsIGN1cnJlbnRZOiBudW1iZXI7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXZlbnQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgY3VycmVudFggPSBldmVudC5jbGllbnRYO1xyXG4gICAgICAgIGN1cnJlbnRZID0gZXZlbnQuY2xpZW50WTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBUb3VjaCBldmVudFxyXG4gICAgICAgIGN1cnJlbnRYID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYO1xyXG4gICAgICAgIGN1cnJlbnRZID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBDYWxjdWxhdGUgdGhlIGRpc3RhbmNlIG1vdmVkXHJcbiAgICAgIGNvbnN0IGRlbHRhWCA9IGN1cnJlbnRYIC0gc3RhcnRYO1xyXG4gICAgICBjb25zdCBkZWx0YVkgPSBjdXJyZW50WSAtIHN0YXJ0WTtcclxuICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZGVsdGFYICogZGVsdGFYICsgZGVsdGFZICogZGVsdGFZKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEFkZCBkcmFnZ2luZyBjbGFzcyBmb3IgdmlzdWFsIGZlZWRiYWNrXHJcbiAgICAgIGlmIChkaXN0YW5jZSA+IGRyYWdUaHJlc2hvbGQgLyAyKSB7XHJcbiAgICAgICAgc3RhcnRHZW0uY2xhc3NMaXN0LmFkZChDU1NfQ0xBU1NFUy5EUkFHR0lORyk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIElmIHdlJ3ZlIG1vdmVkIGVub3VnaCB0byBjb25zaWRlciBpdCBhIGRyYWdcclxuICAgICAgaWYgKGRpc3RhbmNlID4gZHJhZ1RocmVzaG9sZCkge1xyXG4gICAgICAgIC8vIERldGVybWluZSB0aGUgcHJlZG9taW5hbnQgZGlyZWN0aW9uIChob3Jpem9udGFsIG9yIHZlcnRpY2FsKVxyXG4gICAgICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IE1hdGguYWJzKGRlbHRhWCkgPiBNYXRoLmFicyhkZWx0YVkpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgdGFyZ2V0IHBvc2l0aW9uIGJhc2VkIG9uIGRpcmVjdGlvblxyXG4gICAgICAgIGxldCB0YXJnZXRKID0gc3RhcnRKO1xyXG4gICAgICAgIGxldCB0YXJnZXRLID0gc3RhcnRLO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChpc0hvcml6b250YWwpIHtcclxuICAgICAgICAgIC8vIEhvcml6b250YWwgbW92ZW1lbnRcclxuICAgICAgICAgIHRhcmdldEsgPSBzdGFydEsgKyAoZGVsdGFYID4gMCA/IDEgOiAtMSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIFZlcnRpY2FsIG1vdmVtZW50XHJcbiAgICAgICAgICB0YXJnZXRKID0gc3RhcnRKICsgKGRlbHRhWSA+IDAgPyAxIDogLTEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgdGFyZ2V0IHBvc2l0aW9uIGlzIHZhbGlkXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgdGFyZ2V0SiA+PSAwICYmIHRhcmdldEogPCB0aGlzLmJvYXJkLnNpemUgJiZcclxuICAgICAgICAgIHRhcmdldEsgPj0gMCAmJiB0YXJnZXRLIDwgdGhpcy5ib2FyZC5zaXplICYmXHJcbiAgICAgICAgICB0aGlzLmJvYXJkLmlzQ29ycmVjdFR1cm4oc3RhcnRKLCBzdGFydEssIHRhcmdldEosIHRhcmdldEspXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAvLyBFbmQgdGhlIGRyYWcgb3BlcmF0aW9uXHJcbiAgICAgICAgICBpc0RyYWdnaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFJlbW92ZSB2aXN1YWwgZmVlZGJhY2sgY2xhc3Nlc1xyXG4gICAgICAgICAgc3RhcnRHZW0uY2xhc3NMaXN0LnJlbW92ZShDU1NfQ0xBU1NFUy5EUkFHR0lORyk7XHJcbiAgICAgICAgICB0aGlzLmJvYXJkLmdldEdlbShzdGFydEosIHN0YXJ0SykuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKENTU19DTEFTU0VTLkNIT1NFTik7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFRlbXBvcmFyaWx5IGRpc2FibGUgZnVydGhlciBpbnRlcmFjdGlvbnNcclxuICAgICAgICAgIHRoaXMucGF1c2UgPSB0cnVlO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBTd2FwIHRoZSBnZW1zXHJcbiAgICAgICAgICB0aGlzLmJvYXJkLnN3YXAoc3RhcnRKLCBzdGFydEssIHRhcmdldEosIHRhcmdldEspO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBQbGFjZSBnZW1zIGltbWVkaWF0ZWx5IGZvciB2aXN1YWwgZmVlZGJhY2tcclxuICAgICAgICAgIHRoaXMuYm9hcmQuZ2V0R2VtKHN0YXJ0Siwgc3RhcnRLKS5wbGFjZSgpO1xyXG4gICAgICAgICAgdGhpcy5ib2FyZC5nZXRHZW0odGFyZ2V0SiwgdGFyZ2V0SykucGxhY2UoKTtcclxuICAgICAgICAgIHRoaXMuc291bmRNYW5hZ2VyLnBsYXkoU291bmRNYW5hZ2VyLlNPVU5EX0VGRkVDVFMuU1dBUCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIENoZWNrIGZvciBtYXRjaGVzXHJcbiAgICAgICAgICB0aGlzLmNsdXN0ZXIgPSB0aGlzLmJvYXJkLm1hdGNoQ2hhaW4oc3RhcnRKLCBzdGFydEspO1xyXG4gICAgICAgICAgdGhpcy5jbHVzdGVyID0gdGhpcy5jbHVzdGVyLmNvbmNhdCh0aGlzLmJvYXJkLm1hdGNoQ2hhaW4odGFyZ2V0SiwgdGFyZ2V0SykpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAodGhpcy5jbHVzdGVyLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAvLyBObyBtYXRjaGVzIGZvdW5kLCBzd2FwIGJhY2sgd2l0aCBzaG9ydGVyIGRlbGF5XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMuYm9hcmQuc3dhcCh0YXJnZXRKLCB0YXJnZXRLLCBzdGFydEosIHN0YXJ0Syk7XHJcbiAgICAgICAgICAgICAgdGhpcy5ib2FyZC5nZXRHZW0oc3RhcnRKLCBzdGFydEspLnBsYWNlKCk7XHJcbiAgICAgICAgICAgICAgdGhpcy5ib2FyZC5nZXRHZW0odGFyZ2V0SiwgdGFyZ2V0SykucGxhY2UoKTtcclxuICAgICAgICAgICAgICAvLyBSZS1lbmFibGUgaW50ZXJhY3Rpb25zXHJcbiAgICAgICAgICAgICAgdGhpcy5wYXVzZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9LCBERUZBVUxUX1NFVFRJTkdTLlNXQVBfREVMQVkgLyAyKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIE1hdGNoZXMgZm91bmQsIHJlbW92ZSB0aGVtXHJcbiAgICAgICAgICAgIHRoaXMua2lsbCh0aGlzLmNsdXN0ZXIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIHRvdWNoIGVuZCBhbmQgbW91c2UgdXBcclxuICAgIGNvbnN0IGhhbmRsZUVuZCA9ICgpID0+IHtcclxuICAgICAgLy8gT25seSBwcm9jZXNzIGlmIHdlIHdlcmUgZHJhZ2dpbmdcclxuICAgICAgaWYgKCFpc0RyYWdnaW5nIHx8ICFzdGFydEdlbSkgcmV0dXJuO1xyXG4gICAgICBcclxuICAgICAgLy8gRW5kIHRoZSBkcmFnIG9wZXJhdGlvblxyXG4gICAgICBpc0RyYWdnaW5nID0gZmFsc2U7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZW1vdmUgdmlzdWFsIGZlZWRiYWNrIGNsYXNzZXNcclxuICAgICAgc3RhcnRHZW0uY2xhc3NMaXN0LnJlbW92ZShDU1NfQ0xBU1NFUy5EUkFHR0lORyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZW1vdmUgaGlnaGxpZ2h0IGlmIHdlIGRpZG4ndCBjb21wbGV0ZSBhIHN3YXBcclxuICAgICAgaWYgKHRoaXMuYm9hcmQuZ2V0R2VtKHN0YXJ0Siwgc3RhcnRLKS5lbGVtLmNsYXNzTGlzdC5jb250YWlucyhDU1NfQ0xBU1NFUy5DSE9TRU4pKSB7XHJcbiAgICAgICAgdGhpcy5ib2FyZC5nZXRHZW0oc3RhcnRKLCBzdGFydEspLmVsZW0uY2xhc3NMaXN0LnJlbW92ZShDU1NfQ0xBU1NFUy5DSE9TRU4pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZXNldCBzdGFydGluZyB2YWx1ZXNcclxuICAgICAgc3RhcnRHZW0gPSBudWxsO1xyXG4gICAgICBzdGFydEogPSAtMTtcclxuICAgICAgc3RhcnRLID0gLTE7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzIGZvciBtb3VzZSBpbnRlcmFjdGlvbnNcclxuICAgIHRoaXMuZmllbGQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlU3RhcnQpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlTW92ZSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgaGFuZGxlRW5kKTtcclxuICAgIFxyXG4gICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVycyBmb3IgdG91Y2ggaW50ZXJhY3Rpb25zXHJcbiAgICB0aGlzLmZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBoYW5kbGVTdGFydCwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGhhbmRsZU1vdmUsIHsgcGFzc2l2ZTogZmFsc2UgfSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGhhbmRsZUVuZCk7XHJcbiAgICBcclxuICAgIC8vIEtlZXAgdGhlIG9yaWdpbmFsIGNsaWNrIGhhbmRsZXIgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcclxuICAgIC8vIGJ1dCB3aXRoIG1vZGlmaWVkIGJlaGF2aW9yIHRvIHdvcmsgd2l0aCB0aGUgbmV3IGRyYWcgc3lzdGVtXHJcbiAgICB0aGlzLmZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgXHJcbiAgICAgIC8vIE9ubHkgcHJvY2VzcyBjbGlja3Mgb24gZ2VtIGVsZW1lbnRzXHJcbiAgICAgIGlmICghdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhDU1NfQ0xBU1NFUy5HRU0pKSByZXR1cm47XHJcbiAgICAgIFxyXG4gICAgICAvLyBHYW1lIG11c3Qgbm90IGJlIHBhdXNlZFxyXG4gICAgICBpZiAodGhpcy5wYXVzZSkgcmV0dXJuO1xyXG4gICAgICBcclxuICAgICAgLy8gR2V0IGdlbSBjb29yZGluYXRlc1xyXG4gICAgICBjb25zdCBqID0gcGFyc2VJbnQodGFyZ2V0LmdldEF0dHJpYnV0ZShEQVRBX0FUVFJJQlVURVMuSikgfHwgJzAnLCAxMCk7XHJcbiAgICAgIGNvbnN0IGsgPSBwYXJzZUludCh0YXJnZXQuZ2V0QXR0cmlidXRlKERBVEFfQVRUUklCVVRFUy5LKSB8fCAnMCcsIDEwKTtcclxuICAgICAgXHJcbiAgICAgIGlmICghdGhpcy5jaG9zZW4pIHtcclxuICAgICAgICAvLyBGaXJzdCBnZW0gc2VsZWN0aW9uXHJcbiAgICAgICAgdGhpcy5jaG9zZW4gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuY2hvc2VuSiA9IGo7XHJcbiAgICAgICAgdGhpcy5jaG9zZW5LID0gaztcclxuICAgICAgICB0aGlzLmJvYXJkLmdldEdlbShqLCBrKS5lbGVtLmNsYXNzTGlzdC5hZGQoQ1NTX0NMQVNTRVMuQ0hPU0VOKTtcclxuICAgICAgICB0aGlzLnNvdW5kTWFuYWdlci5wbGF5KFNvdW5kTWFuYWdlci5TT1VORF9FRkZFQ1RTLlRVUk4pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFNlY29uZCBnZW0gc2VsZWN0aW9uIChhdHRlbXB0aW5nIHRvIHN3YXApXHJcbiAgICAgICAgdGhpcy5jaG9zZW4gPSBmYWxzZTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBSZW1vdmUgaGlnaGxpZ2h0IGZyb20gZmlyc3QgZ2VtXHJcbiAgICAgICAgdGhpcy5ib2FyZC5nZXRHZW0odGhpcy5jaG9zZW5KLCB0aGlzLmNob3NlbkspLmVsZW0uY2xhc3NMaXN0LnJlbW92ZShDU1NfQ0xBU1NFUy5DSE9TRU4pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFRyeSB0byBzd2FwIGdlbXMgaWYgaXQncyBhIHZhbGlkIG1vdmVcclxuICAgICAgICBpZiAodGhpcy5ib2FyZC5pc0NvcnJlY3RUdXJuKHRoaXMuY2hvc2VuSiwgdGhpcy5jaG9zZW5LLCBqLCBrKSkge1xyXG4gICAgICAgICAgLy8gVGVtcG9yYXJpbHkgZGlzYWJsZSBmdXJ0aGVyIGNsaWNrcyB0byBwcmV2ZW50IG11bHRpcGxlIHN3YXBzXHJcbiAgICAgICAgICB0aGlzLnBhdXNlID0gdHJ1ZTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gU3dhcCB0aGUgZ2Vtc1xyXG4gICAgICAgICAgdGhpcy5ib2FyZC5zd2FwKHRoaXMuY2hvc2VuSiwgdGhpcy5jaG9zZW5LLCBqLCBrKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gUGxhY2UgZ2VtcyBpbW1lZGlhdGVseSBmb3IgdmlzdWFsIGZlZWRiYWNrXHJcbiAgICAgICAgICB0aGlzLmJvYXJkLmdldEdlbSh0aGlzLmNob3NlbkosIHRoaXMuY2hvc2VuSykucGxhY2UoKTtcclxuICAgICAgICAgIHRoaXMuYm9hcmQuZ2V0R2VtKGosIGspLnBsYWNlKCk7XHJcbiAgICAgICAgICB0aGlzLnNvdW5kTWFuYWdlci5wbGF5KFNvdW5kTWFuYWdlci5TT1VORF9FRkZFQ1RTLlNXQVApO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBDaGVjayBmb3IgbWF0Y2hlcyBpbW1lZGlhdGVseVxyXG4gICAgICAgICAgdGhpcy5jbHVzdGVyID0gdGhpcy5ib2FyZC5tYXRjaENoYWluKHRoaXMuY2hvc2VuSiwgdGhpcy5jaG9zZW5LKTtcclxuICAgICAgICAgIHRoaXMuY2x1c3RlciA9IHRoaXMuY2x1c3Rlci5jb25jYXQodGhpcy5ib2FyZC5tYXRjaENoYWluKGosIGspKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKHRoaXMuY2x1c3Rlci5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgLy8gTm8gbWF0Y2hlcyBmb3VuZCwgc3dhcCBiYWNrIHdpdGggc2hvcnRlciBkZWxheVxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLmJvYXJkLnN3YXAoaiwgaywgdGhpcy5jaG9zZW5KLCB0aGlzLmNob3NlbkspO1xyXG4gICAgICAgICAgICAgIHRoaXMuYm9hcmQuZ2V0R2VtKHRoaXMuY2hvc2VuSiwgdGhpcy5jaG9zZW5LKS5wbGFjZSgpO1xyXG4gICAgICAgICAgICAgIHRoaXMuYm9hcmQuZ2V0R2VtKGosIGspLnBsYWNlKCk7XHJcbiAgICAgICAgICAgICAgLy8gUmUtZW5hYmxlIGNsaWNrc1xyXG4gICAgICAgICAgICAgIHRoaXMucGF1c2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSwgREVGQVVMVF9TRVRUSU5HUy5TV0FQX0RFTEFZIC8gMik7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBNYXRjaGVzIGZvdW5kLCByZW1vdmUgdGhlbVxyXG4gICAgICAgICAgICB0aGlzLmtpbGwodGhpcy5jbHVzdGVyKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyB1cCBhdWRpbyBjb250ZXh0IGFmdGVyIHVzZXIgaW50ZXJhY3Rpb25cclxuICAgKi9cclxuICBwcml2YXRlIHNldHVwQXVkaW9Db250ZXh0KCk6IHZvaWQge1xyXG4gICAgLy8gQWRkIGEgb25lLXRpbWUgZXZlbnQgbGlzdGVuZXIgdG8gZW5hYmxlIGF1ZGlvIGFmdGVyIGZpcnN0IHVzZXIgaW50ZXJhY3Rpb25cclxuICAgIGNvbnN0IGVuYWJsZUF1ZGlvID0gKCkgPT4ge1xyXG4gICAgICAvLyBOb3RpZnkgc291bmQgbWFuYWdlciB0aGF0IHVzZXIgaW50ZXJhY3Rpb24gaGFzIG9jY3VycmVkXHJcbiAgICAgIHRoaXMuc291bmRNYW5hZ2VyLnVzZXJJbnRlcmFjdGlvbk9jY3VycmVkKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZW1vdmUgZXZlbnQgbGlzdGVuZXJzIGFmdGVyIGZpcnN0IGludGVyYWN0aW9uXHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZW5hYmxlQXVkaW8pO1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZW5hYmxlQXVkaW8pO1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZW5hYmxlQXVkaW8pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVycyBmb3IgY29tbW9uIHVzZXIgaW50ZXJhY3Rpb25zXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGVuYWJsZUF1ZGlvKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBlbmFibGVBdWRpbyk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZW5hYmxlQXVkaW8pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0YXJ0TGV2ZWwobGV2ZWw6IG51bWJlcik6IHZvaWQge1xyXG4gICAgLy8gU2tpcCBpZiBib2FyZCBpcyBub3QgaW5pdGlhbGl6ZWRcclxuICAgIGlmICghdGhpcy5ib2FyZCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAvLyBDYWxjdWxhdGUgdGFyZ2V0IHNjb3JlIGJhc2VkIG9uIGxldmVsIHVzaW5nIGNvbnN0YW50c1xyXG4gICAgdGhpcy50YXJnZXQgPSBNYXRoLmZsb29yKERFRkFVTFRfU0VUVElOR1MuVEFSR0VUX1NDT1JFX0ZBQ1RPUihsZXZlbCkgKiBERUZBVUxUX1NFVFRJTkdTLlRBUkdFVF9TQ09SRV9CQVNFKTtcclxuICAgIFxyXG4gICAgLy8gQWx3YXlzIHVzZSAxMHgxMCBncmlkXHJcbiAgICBjb25zdCBzaXplID0gREVGQVVMVF9TRVRUSU5HUy5JTklUSUFMX1NJWkU7XHJcbiAgICBcclxuICAgIC8vIEluY3JlYXNlIGNvbG9yIHZhcmlldHkgYXMgbGV2ZWxzIHByb2dyZXNzIChtYXggMTApXHJcbiAgICBjb25zdCBjb2xvcnMgPSBNYXRoLm1pbihERUZBVUxUX1NFVFRJTkdTLklOSVRJQUxfQ09MT1JTICsgbGV2ZWwgLSAxLCAxMCk7XHJcbiAgICBcclxuICAgIC8vIERldGVybWluZSBnYW1lIG1vZGUgZmVhdHVyZXMgYmFzZWQgb24gbGV2ZWxcclxuICAgIHRoaXMuZGV0ZXJtaW5lR2FtZU1vZGVGb3JMZXZlbChsZXZlbCk7XHJcbiAgICBcclxuICAgIC8vIERpc3BsYXkgbGV2ZWwgaW5mb3JtYXRpb25cclxuICAgIHRoaXMuZGlzcGxheUxldmVsSW5mbyhsZXZlbCk7XHJcbiAgICBcclxuICAgIC8vIFNldCB0aW1lIGxpbWl0IGJhc2VkIG9uIGxldmVsIHVzaW5nIGNvbnN0YW50c1xyXG4gICAgdGhpcy50aW1lID0gREVGQVVMVF9TRVRUSU5HUy5JTklUSUFMX1RJTUUgKyBNYXRoLmZsb29yKGxldmVsICogREVGQVVMVF9TRVRUSU5HUy5USU1FX0lOQ1JFQVNFX1BFUl9MRVZFTCk7XHJcbiAgICBcclxuICAgIC8vIFRyeSB0byBwbGF5IGJhY2tncm91bmQgbXVzaWMgKHdpbGwgb25seSB3b3JrIGFmdGVyIHVzZXIgaW50ZXJhY3Rpb24pXHJcbiAgICB0aGlzLnNvdW5kTWFuYWdlci5wbGF5QmFja2dyb3VuZE11c2ljKCk7XHJcbiAgICBcclxuICAgIC8vIEluaXRpYWxpemUgdGhlIGdhbWUgYm9hcmQgYWZ0ZXIgYSBkZWxheVxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIC8vIENyZWF0ZSBhIG5ldyBib2FyZCB3aXRoIHRoZSBmaXhlZCAxMHgxMCBzaXplIGFuZCBzZXR0aW5nc1xyXG4gICAgICB0aGlzLmJvYXJkID0gbmV3IEJvYXJkKHRoaXMuZmllbGQsIHNpemUsIERFRkFVTFRfU0VUVElOR1MuTUlOX0xJTkUsIGNvbG9ycyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZXNldCBnYW1lIHN0YXRlXHJcbiAgICAgIHRoaXMucGF1c2UgPSBmYWxzZTtcclxuICAgICAgdGhpcy5zY29yZSA9IDA7XHJcbiAgICAgIHRoaXMudXBkYXRlU2NvcmVib2FyZCgpO1xyXG4gICAgfSwgREVGQVVMVF9TRVRUSU5HUy5MRVZFTF9TVEFSVF9ERUxBWSk7XHJcbiAgICBcclxuICAgIC8vIFN0YXJ0IHRoZSBjb3VudGRvd24gdGltZXJcclxuICAgIHRoaXMuc3RhcnRDb3VudGRvd25UaW1lcigpO1xyXG4gIH1cclxuICBcclxuICAvKipcclxuICAgKiBEZXRlcm1pbmVzIGdhbWUgbW9kZSBmZWF0dXJlcyBiYXNlZCBvbiBsZXZlbFxyXG4gICAqL1xyXG4gIHByaXZhdGUgZGV0ZXJtaW5lR2FtZU1vZGVGb3JMZXZlbChsZXZlbDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAvLyBObyBzcGVjaWFsIGdhbWUgbW9kZXMgLSBvbmx5IGhvcml6b250YWwgYW5kIHZlcnRpY2FsIG1hdGNoZXNcclxuICB9XHJcbiAgXHJcbiAgLyoqXHJcbiAgICogRGlzcGxheXMgbGV2ZWwgaW5mb3JtYXRpb24gaW4gdGhlIGZpZWxkIGVsZW1lbnRcclxuICAgKi9cclxuICBwcml2YXRlIGRpc3BsYXlMZXZlbEluZm8obGV2ZWw6IG51bWJlcik6IHZvaWQge1xyXG4gICAgdGhpcy5maWVsZC5pbm5lckhUTUwgPSBgTGV2ZWwgJHtsZXZlbH1gO1xyXG4gIH1cclxuICBcclxuICAvKipcclxuICAgKiBTdGFydHMgb3IgcmVzdGFydHMgdGhlIGNvdW50ZG93biB0aW1lclxyXG4gICAqL1xyXG4gIHByaXZhdGUgc3RhcnRDb3VudGRvd25UaW1lcigpOiB2b2lkIHtcclxuICAgIC8vIENsZWFyIGFueSBleGlzdGluZyB0aW1lclxyXG4gICAgaWYgKHRoaXMuY291bnRkb3duSW50ZXJ2YWwpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNvdW50ZG93bkludGVydmFsKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gU2V0IHVwIHRoZSBuZXcgdGltZXJcclxuICAgIHRoaXMuY291bnRkb3duSW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICBpZiAodGhpcy50aW1lID09PSAwKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NvcmUgPCB0aGlzLnRhcmdldCkge1xyXG4gICAgICAgICAgLy8gR2FtZSBvdmVyIC0gcGxheWVyIGRpZG4ndCByZWFjaCB0YXJnZXQgc2NvcmVcclxuICAgICAgICAgIHRoaXMuaGFuZGxlR2FtZU92ZXIoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gTGV2ZWwgY29tcGxldGVkIC0gYWR2YW5jZSB0byBuZXh0IGxldmVsXHJcbiAgICAgICAgICB0aGlzLmhhbmRsZUxldmVsQ29tcGxldGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gVXBkYXRlIHRpbWUgYW5kIGRpc3BsYXlcclxuICAgICAgICB0aGlzLnRpbWUgLT0gMTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlYm9hcmQoKTtcclxuICAgICAgfVxyXG4gICAgfSwgREVGQVVMVF9TRVRUSU5HUy5DT1VOVERPV05fSU5URVJWQUwpO1xyXG4gIH1cclxuICBcclxuICAvKipcclxuICAgKiBVcGRhdGVzIHRoZSBzY29yZWJvYXJkIHdpdGggY3VycmVudCBzY29yZSBhbmQgdGltZVxyXG4gICAqL1xyXG4gIHByaXZhdGUgdXBkYXRlU2NvcmVib2FyZCgpOiB2b2lkIHtcclxuICAgIHRoaXMuc2NvcmVib2FyZC5pbm5lckhUTUwgPSBgJHt0aGlzLnNjb3JlfS8ke3RoaXMudGFyZ2V0fSB8ICR7dGhpcy50aW1lfWA7XHJcbiAgfVxyXG4gIFxyXG4gIC8qKlxyXG4gICAqIEhhbmRsZXMgZ2FtZSBvdmVyIHN0YXRlXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBoYW5kbGVHYW1lT3ZlcigpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmNvdW50ZG93bkludGVydmFsKSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jb3VudGRvd25JbnRlcnZhbCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnBhdXNlID0gdHJ1ZTtcclxuICAgIHRoaXMuZmllbGQuaW5uZXJIVE1MID0gJ0dBTUUgT1ZFUic7XHJcbiAgICB0aGlzLnNvdW5kTWFuYWdlci5wbGF5KFNvdW5kTWFuYWdlci5TT1VORF9FRkZFQ1RTLkZBSUwpO1xyXG4gICAgdGhpcy5zb3VuZE1hbmFnZXIucGF1c2VCYWNrZ3JvdW5kTXVzaWMoKTtcclxuICAgIFxyXG4gICAgLy8gQWRkIHJlc3RhcnQgYnV0dG9uXHJcbiAgICBjb25zdCByZXN0YXJ0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICByZXN0YXJ0QnV0dG9uLmlkID0gRUxFTUVOVF9JRFMuUkVTVEFSVDtcclxuICAgIHJlc3RhcnRCdXR0b24uaW5uZXJIVE1MID0gJ1JFU1RBUlQnO1xyXG4gICAgcmVzdGFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5sZXZlbCA9IDE7XHJcbiAgICAgIHRoaXMuc3RhcnRMZXZlbCh0aGlzLmxldmVsKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5maWVsZC5hcHBlbmRDaGlsZChyZXN0YXJ0QnV0dG9uKTtcclxuICB9XHJcbiAgXHJcbiAgLyoqXHJcbiAgICogSGFuZGxlcyBsZXZlbCBjb21wbGV0ZSBzdGF0ZVxyXG4gICAqL1xyXG4gIHByaXZhdGUgaGFuZGxlTGV2ZWxDb21wbGV0ZSgpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmNvdW50ZG93bkludGVydmFsKSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jb3VudGRvd25JbnRlcnZhbCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnBhdXNlID0gdHJ1ZTtcclxuICAgIHRoaXMubGV2ZWwrKztcclxuICAgIHRoaXMuZmllbGQuaW5uZXJIVE1MID0gJ0xFVkVMIENPTVBMRVRFJztcclxuICAgIHRoaXMuc291bmRNYW5hZ2VyLnBsYXkoU291bmRNYW5hZ2VyLlNPVU5EX0VGRkVDVFMuWUVTKTtcclxuICAgIFxyXG4gICAgLy8gQWRkIG5leHQgbGV2ZWwgYnV0dG9uXHJcbiAgICBjb25zdCBuZXh0TGV2ZWxCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIG5leHRMZXZlbEJ1dHRvbi5pZCA9IEVMRU1FTlRfSURTLlJFU1RBUlQ7XHJcbiAgICBuZXh0TGV2ZWxCdXR0b24uaW5uZXJIVE1MID0gJ05FWFQgTEVWRUwnO1xyXG4gICAgbmV4dExldmVsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnN0YXJ0TGV2ZWwodGhpcy5sZXZlbCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZmllbGQuYXBwZW5kQ2hpbGQobmV4dExldmVsQnV0dG9uKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZXMgbWF0Y2hlZCBnZW1zIGFuZCB1cGRhdGVzIHNjb3JlXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBraWxsKGNsdXN0ZXI6IEdlbVBvc2l0aW9uW10pOiB2b2lkIHtcclxuICAgIHRoaXMucGF1c2UgPSB0cnVlO1xyXG4gICAgXHJcbiAgICAvLyBVcGRhdGUgc2NvcmUgYmFzZWQgb24gbWF0Y2hlc1xyXG4gICAgdGhpcy51cGRhdGVTY29yZUZvck1hdGNoZXMoY2x1c3Rlcik7XHJcbiAgICBcclxuICAgIC8vIFByb2Nlc3MgbWF0Y2hlZCBnZW1zIGluIGJhdGNoZXMgZm9yIGJldHRlciBwZXJmb3JtYW5jZVxyXG4gICAgdGhpcy5wcm9jZXNzTWF0Y2hlZEdlbXMoY2x1c3Rlcik7XHJcbiAgfVxyXG4gIFxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZXMgc2NvcmUgYmFzZWQgb24gbWF0Y2hlZCBnZW1zXHJcbiAgICovXHJcbiAgcHJpdmF0ZSB1cGRhdGVTY29yZUZvck1hdGNoZXMoY2x1c3RlcjogR2VtUG9zaXRpb25bXSk6IHZvaWQge1xyXG4gICAgLy8gQXBwbHkgYm9udXMgbXVsdGlwbGllciBmb3IgbGFyZ2VyIG1hdGNoZXNcclxuICAgIGNvbnN0IHNpemVNdWx0aXBsaWVyID0gY2x1c3Rlci5sZW5ndGggPiA0ID8gMS41IDogMTtcclxuICAgIHRoaXMuc2NvcmUgKz0gTWF0aC5mbG9vcihjbHVzdGVyLmxlbmd0aCAqIERFRkFVTFRfU0VUVElOR1MuU0NPUkVfTVVMVElQTElFUiAqIHNpemVNdWx0aXBsaWVyKTtcclxuICAgIHRoaXMudXBkYXRlU2NvcmVib2FyZCgpO1xyXG4gICAgXHJcbiAgICAvLyBQbGF5IGV4cGxvc2lvbiBzb3VuZCBiYXNlZCBvbiBjbHVzdGVyIHNpemVcclxuICAgIGlmIChjbHVzdGVyLmxlbmd0aCA+PSA1KSB7XHJcbiAgICAgIHRoaXMuc291bmRNYW5hZ2VyLnBsYXkoU291bmRNYW5hZ2VyLlNPVU5EX0VGRkVDVFMuRVhQTE9TSU9OX0JJRyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNvdW5kTWFuYWdlci5wbGF5KFNvdW5kTWFuYWdlci5TT1VORF9FRkZFQ1RTLkVYUExPU0lPTik7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIC8qKlxyXG4gICAqIFByb2Nlc3NlcyBtYXRjaGVkIGdlbXMgKGtpbGxpbmcgdGhlbSBhbmQgY2hlY2tpbmcgZm9yIG5ldyBtYXRjaGVzKVxyXG4gICAqL1xyXG4gIHByaXZhdGUgcHJvY2Vzc01hdGNoZWRHZW1zKGNsdXN0ZXI6IEdlbVBvc2l0aW9uW10pOiB2b2lkIHtcclxuICAgIC8vIEtpbGwgYWxsIGdlbXMgaW4gdGhlIGNsdXN0ZXIgc2ltdWx0YW5lb3VzbHlcclxuICAgIGNvbnN0IGJhdGNoU2l6ZSA9IDU7XHJcbiAgICBjb25zdCBwcm9jZXNzQmF0Y2ggPSAoc3RhcnRJbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgIGNvbnN0IGVuZEluZGV4ID0gTWF0aC5taW4oc3RhcnRJbmRleCArIGJhdGNoU2l6ZSwgY2x1c3Rlci5sZW5ndGgpO1xyXG4gICAgICBcclxuICAgICAgLy8gUHJvY2VzcyBjdXJyZW50IGJhdGNoXHJcbiAgICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDwgZW5kSW5kZXg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHBvcyA9IGNsdXN0ZXJbaV07XHJcbiAgICAgICAgLy8gS2lsbCB0aGUgZ2VtICh0aGlzIHRyaWdnZXJzIHRoZSBleGl0IGFuaW1hdGlvbilcclxuICAgICAgICB0aGlzLmJvYXJkLmdldEdlbShwb3MuaiwgcG9zLmspLmtpbGwoKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gUHJvY2VzcyBuZXh0IGJhdGNoIG9yIG1vdmUgdG8gbmV4dCBzdGVwXHJcbiAgICAgIGlmIChlbmRJbmRleCA8IGNsdXN0ZXIubGVuZ3RoKSB7XHJcbiAgICAgICAgLy8gUHJvY2VzcyBuZXh0IGJhdGNoIGFmdGVyIGEgdmVyeSBzaG9ydCBkZWxheVxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcHJvY2Vzc0JhdGNoKGVuZEluZGV4KSwgMTApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEFsbCBnZW1zIHByb2Nlc3NlZCwgd2FpdCBmb3Iga2lsbCBhbmltYXRpb24gdG8gY29tcGxldGVcclxuICAgICAgICAvLyB0aGVuIHNoaWZ0IGdlbXMgZG93blxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zaGlmdERvd24oKSwgREVGQVVMVF9TRVRUSU5HUy5LSUxMX0RFTEFZKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gU3RhcnQgcHJvY2Vzc2luZyB0aGUgZmlyc3QgYmF0Y2hcclxuICAgIHByb2Nlc3NCYXRjaCgwKTtcclxuICB9XHJcbiAgXHJcbiAgLyoqXHJcbiAgICogU2hpZnRzIGdlbXMgZG93biB0byBmaWxsIGVtcHR5IHNwYWNlc1xyXG4gICAqL1xyXG4gIHByaXZhdGUgc2hpZnREb3duKCk6IHZvaWQge1xyXG4gICAgbGV0IHNoaWZ0ZWQgPSBmYWxzZTtcclxuICAgIFxyXG4gICAgLy8gUHJvY2VzcyBhbGwgY29sdW1ucyBpbiBwYXJhbGxlbCBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXHJcbiAgICBmb3IgKGxldCBqID0gdGhpcy5ib2FyZC5zaXplIC0gMjsgaiA+PSAwOyBqLS0pIHtcclxuICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCB0aGlzLmJvYXJkLnNpemU7IGsrKykge1xyXG4gICAgICAgIC8vIElmIGN1cnJlbnQgZ2VtIGlzIGFsaXZlIGFuZCB0aGUgb25lIGJlbG93IGlzIGRlYWQsIHNoaWZ0IGRvd25cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICB0aGlzLmJvYXJkLmdldEdlbShqLCBrKS5zdGF0ZSA9PT0gR2VtU3RhdGUuQUxJVkUgJiYgXHJcbiAgICAgICAgICB0aGlzLmJvYXJkLmdldEdlbShqICsgMSwgaykuc3RhdGUgPT09IEdlbVN0YXRlLkRFQURcclxuICAgICAgICApIHtcclxuICAgICAgICAgIC8vIFN3YXAgdGhlIGdlbXNcclxuICAgICAgICAgIHRoaXMuYm9hcmQuc3dhcChqLCBrLCBqICsgMSwgayk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIEFkZCBhIHZlcnkgc21hbGwgZGVsYXkgYmFzZWQgb24gcm93IHBvc2l0aW9uIGZvciBhIHN1YnRsZSBjYXNjYWRpbmcgZWZmZWN0XHJcbiAgICAgICAgICBjb25zdCBkZWxheSA9ICh0aGlzLmJvYXJkLnNpemUgLSBqKSAqIDU7IC8vIFJlZHVjZWQgZnJvbSAxMG1zIHRvIDVtcyBmb3Igc21vb3RoZXIgYW5pbWF0aW9uXHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ib2FyZC5nZXRHZW0oaiArIDEsIGspLnBsYWNlKCk7IC8vIFBsYWNlIG9ubHkgdGhlIG1vdmVkIGdlbSBmb3IgZWZmaWNpZW5jeVxyXG4gICAgICAgICAgfSwgZGVsYXkpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBzaGlmdGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gSWYgYW55IGdlbXMgd2VyZSBzaGlmdGVkLCBjb250aW51ZSBjaGVja2luZyB3aXRoIGEgZGVsYXlcclxuICAgIGlmIChzaGlmdGVkKSB7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zaGlmdERvd24oKSwgREVGQVVMVF9TRVRUSU5HUy5BTklNQVRJT05fREVMQVkgLyAyKTsgLy8gUmVkdWNlZCBkZWxheSBmb3IgZmFzdGVyIGFuaW1hdGlvblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gTm8gbW9yZSBzaGlmdHMgbmVlZGVkLCBmaWxsIGVtcHR5IHNwYWNlcyBhbmQgY2hlY2sgZm9yIG5ldyBtYXRjaGVzXHJcbiAgICAgIHRoaXMuYm9hcmQuZmlsbE1hcCgpO1xyXG4gICAgICAvLyBXYWl0IGZvciBmaWxsIGFuaW1hdGlvbiB0byBjb21wbGV0ZSBiZWZvcmUgY2hlY2tpbmcgZm9yIG5ldyBtYXRjaGVzXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5maW5kQW5kUHJvY2Vzc05ld01hdGNoZXMoKSwgREVGQVVMVF9TRVRUSU5HUy5BTklNQVRJT05fREVMQVkgLyAyKTsgLy8gUmVkdWNlZCBkZWxheVxyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICAvKipcclxuICAgKiBGaW5kcyBhbmQgcHJvY2Vzc2VzIG5ldyBtYXRjaGVzIGFmdGVyIHNoaWZ0aW5nXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBmaW5kQW5kUHJvY2Vzc05ld01hdGNoZXMoKTogdm9pZCB7XHJcbiAgICAvLyBBZGQgYSBkZWxheSB0byBhbGxvdyB0aGUgZmFsbGluZyBhbmltYXRpb24gdG8gY29tcGxldGVcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBsZXQgbmV3Q2x1c3RlcjogR2VtUG9zaXRpb25bXSA9IFtdO1xyXG4gICAgICBcclxuICAgICAgLy8gQ2hlY2sgdGhlIGVudGlyZSBib2FyZCBmb3IgbWF0Y2hlc1xyXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuYm9hcmQuc2l6ZTsgaisrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCB0aGlzLmJvYXJkLnNpemU7IGsrKykge1xyXG4gICAgICAgICAgY29uc3QgZ2VtID0gdGhpcy5ib2FyZC5nZXRHZW0oaiwgayk7XHJcbiAgICAgICAgICBpZiAoZ2VtLnN0YXRlID09PSBHZW1TdGF0ZS5BTElWRSkge1xyXG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gdGhpcy5ib2FyZC5tYXRjaENoYWluKGosIGspO1xyXG4gICAgICAgICAgICBpZiAobWF0Y2hlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgLy8gQWRkIHVuaXF1ZSBtYXRjaGVzIHRvIHRoZSBjbHVzdGVyXHJcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBtYXRjaCBvZiBtYXRjaGVzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIHBvc2l0aW9uIGlzIGFscmVhZHkgaW4gdGhlIGNsdXN0ZXJcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzRHVwbGljYXRlID0gbmV3Q2x1c3Rlci5zb21lKFxyXG4gICAgICAgICAgICAgICAgICBwb3MgPT4gcG9zLmogPT09IG1hdGNoLmogJiYgcG9zLmsgPT09IG1hdGNoLmtcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmICghaXNEdXBsaWNhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgbmV3Q2x1c3Rlci5wdXNoKG1hdGNoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIElmIG5ldyBtYXRjaGVzIGZvdW5kLCBraWxsIHRoZW0gYW5kIGNvbnRpbnVlIHRoZSBjYXNjYWRlXHJcbiAgICAgIGlmIChuZXdDbHVzdGVyLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgRm91bmQgJHtuZXdDbHVzdGVyLmxlbmd0aH0gbmV3IG1hdGNoZXMgaW4gY2FzY2FkZWApO1xyXG4gICAgICAgIC8vIFByb2Nlc3MgdGhlc2UgbWF0Y2hlcywgd2hpY2ggd2lsbCB0cmlnZ2VyIGFub3RoZXIgcm91bmQgb2ZcclxuICAgICAgICAvLyBzaGlmdERvd24gYW5kIGZpbmRBbmRQcm9jZXNzTmV3TWF0Y2hlcyB3aGVuIGNvbXBsZXRlXHJcbiAgICAgICAgdGhpcy5raWxsKG5ld0NsdXN0ZXIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIE5vIG5ldyBtYXRjaGVzLCByZXN1bWUgZ2FtZXBsYXlcclxuICAgICAgICB0aGlzLnBhdXNlID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0sIERFRkFVTFRfU0VUVElOR1MuRkFMTF9BTklNQVRJT05fRFVSQVRJT04gKyA1MCk7IC8vIFJlZHVjZWQgZnJvbSAxMDBtcyB0byA1MG1zIGZvciBmYXN0ZXIgYW5pbWF0aW9uXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEdhbWUgfSBmcm9tICcuL0dhbWUnO1xyXG5pbXBvcnQgeyBFTEVNRU5UX0lEUyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuXHJcbi8qKlxyXG4gKiBNYWluIGVudHJ5IHBvaW50IGZvciB0aGUgTWF0Y2gzIGdhbWVcclxuICogSW5pdGlhbGl6ZXMgdGhlIGdhbWUgd2hlbiB0aGUgRE9NIGlzIGZ1bGx5IGxvYWRlZFxyXG4gKi9cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuICAvLyBJbml0aWFsaXplIHRoZSBnYW1lXHJcbiAgY29uc3QgZ2FtZSA9IG5ldyBHYW1lKCk7XHJcbn0pO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///56\n")}},__webpack_exports__={};__webpack_modules__[56]()})();