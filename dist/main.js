(()=>{"use strict";var __webpack_modules__={56:()=>{eval("\n;// ./ts/constants.ts\n/**\n * Game Constants\n */\n// Element IDs\nvar ELEMENT_IDS = {\n    FIELD: 'field',\n    SCOREBOARD: 'scoreboard',\n    LEVELINFO: 'levelinfo',\n    WRAPPER: 'wrapper',\n    RESTART: 'restart'\n};\n// CSS Classes\nvar CSS_CLASSES = {\n    GEM: 'gem',\n    CHOSEN: 'chosen',\n    DEAD: 'dead',\n    DRAGGING: 'dragging',\n    DRAG_TARGET: 'drag-target'\n};\n// Game States\nvar GemState;\n(function (GemState) {\n    GemState[\"ALIVE\"] = \"alive\";\n    GemState[\"DEAD\"] = \"dead\";\n})(GemState || (GemState = {}));\n// Data Attributes\nvar DATA_ATTRIBUTES = {\n    J: 'data-j',\n    K: 'data-k',\n    COLOR: 'data-color'\n};\n// Game Settings\nvar DEFAULT_SETTINGS = {\n    INITIAL_SIZE: 12, // Fixed grid size to 10x10 for better gameplay\n    MIN_LINE: 3,\n    INITIAL_COLORS: 4,\n    INITIAL_TIME: 180,\n    FIELD_SIZE: 500, // pixels\n    ANIMATION_DELAY: 150, // milliseconds - reduced from 200ms\n    SWAP_DELAY: 150, // milliseconds - reduced from 200ms\n    KILL_DELAY: 300, // milliseconds - reduced from 450ms\n    LEVEL_START_DELAY: 500, // milliseconds\n    COUNTDOWN_INTERVAL: 1000, // milliseconds\n    SCORE_MULTIPLIER: 36,\n    // Animation settings\n    FALL_DELAY_PER_ROW: 15, // milliseconds delay per row - reduced from 30ms\n    FALL_ANIMATION_DURATION: 250, // milliseconds - reduced from 400ms\n    BOUNCE_DELAY: 100, // milliseconds - reduced from 150ms (though no longer used)\n    // Target score calculation constants\n    TARGET_SCORE_BASE: 10000,\n    TARGET_SCORE_FACTOR: Math.sqrt, // Function to apply to level number\n    // Time settings\n    TIME_INCREASE_PER_LEVEL: 2.5 // Additional seconds per level (level * 5 / 2)\n};\n// Gem Symbols\nvar GEM_SYMBOLS = ['⚜', '☣', '♗', '♆', '♞', '♙', '☄', '❦', '♨', '♟'];\n// Match Chain Actions\nvar MatchAction;\n(function (MatchAction) {\n    MatchAction[\"CHECK\"] = \"check\";\n})(MatchAction || (MatchAction = {}));\n\n;// ./ts/Gem.ts\n\n/**\n * Represents a gem in the Match3 game\n */\nvar Gem = /** @class */ (function () {\n    function Gem(element, boardSize) {\n        this._elem = element;\n        this._state = GemState.DEAD;\n        this._color = 0;\n        this._boardSize = boardSize;\n        // Add CSS transition for smoother animations\n        this._elem.style.transition = 'top 0.3s cubic-bezier(0.215, 0.610, 0.355, 1.000), left 0.15s ease-in, transform 0.2s ease-out, opacity 0.15s ease-out';\n    }\n    Object.defineProperty(Gem.prototype, \"elem\", {\n        /**\n         * Gets the HTML element representing the gem\n         */\n        get: function () {\n            return this._elem;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Gem.prototype, \"state\", {\n        /**\n         * Gets the current state of the gem\n         */\n        get: function () {\n            return this._state;\n        },\n        /**\n         * Sets the current state of the gem\n         */\n        set: function (value) {\n            this._state = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Gem.prototype, \"color\", {\n        /**\n         * Gets the color of the gem\n         */\n        get: function () {\n            return this._color;\n        },\n        /**\n         * Sets the color of the gem\n         */\n        set: function (value) {\n            this._color = value;\n            this._elem.innerHTML = value >= 0 ? \"\".concat(value) : '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Updates the board size reference\n     */\n    Gem.prototype.updateBoardSize = function (size) {\n        this._boardSize = size;\n    };\n    /**\n     * Kills the gem (marks it as dead and animates it off the board)\n     */\n    Gem.prototype.kill = function () {\n        // Mark the gem as dead\n        this._state = GemState.DEAD;\n        // Add the dead class to apply CSS styles\n        this._elem.classList.add(CSS_CLASSES.DEAD);\n        // Make sure transitions are reset\n        this._elem.style.transition = 'none';\n        this._elem.style.transform = 'none';\n        this._elem.style.opacity = '1';\n        // Force a reflow to ensure the reset is applied\n        void this._elem.offsetWidth;\n        // Set up the animation - make it faster (0.4s instead of 0.6s)\n        this._elem.style.transition = 'transform 0.4s ease-in, opacity 0.4s ease-in';\n        // Direct falling down animation\n        this._elem.style.transform = 'translateY(100%) scale(0.8)';\n        this._elem.style.opacity = '0';\n    };\n    /**\n     * Places the gem at its correct position on the board\n     */\n    Gem.prototype.place = function () {\n        var j = parseInt(this._elem.getAttribute(DATA_ATTRIBUTES.J) || '0', 10);\n        var k = parseInt(this._elem.getAttribute(DATA_ATTRIBUTES.K) || '0', 10);\n        // Use linear transition for smoother falling\n        this._elem.style.transition = \"top \".concat(DEFAULT_SETTINGS.FALL_ANIMATION_DURATION / 1000, \"s linear, left 0.15s linear, transform 0.15s ease-out, opacity 0.15s ease-out\");\n        // Simplify the transform - no bounce effect for smoother animation\n        this._elem.style.transform = 'scale(1)';\n        this._elem.style.opacity = '1';\n        // Position the gem\n        this._elem.style.top = \"\".concat(j * (100 / this._boardSize), \"%\");\n        this._elem.style.left = \"\".concat(k * (100 / this._boardSize), \"%\");\n    };\n    return Gem;\n}());\n\n\n;// ./ts/SoundManager.ts\n/**\n * Sound manager for the Match3 game\n * Handles loading and playing sound effects\n */\nvar SoundManager = /** @class */ (function () {\n    /**\n     * Private constructor to enforce singleton pattern\n     */\n    function SoundManager() {\n        this.sounds = new Map();\n        this.enabled = true;\n        this.backgroundMusic = null;\n        this.audioContext = null;\n        this.hasUserInteraction = false;\n        this.loadSounds();\n        this.initBackgroundMusic();\n    }\n    /**\n     * Get the singleton instance\n     */\n    SoundManager.getInstance = function () {\n        if (!SoundManager.instance) {\n            SoundManager.instance = new SoundManager();\n        }\n        return SoundManager.instance;\n    };\n    /**\n     * Load all sound effects\n     */\n    SoundManager.prototype.loadSounds = function () {\n        this.loadSound(SoundManager.SOUND_EFFECTS.EXPLOSION, 'explosion.mp3');\n        this.loadSound(SoundManager.SOUND_EFFECTS.EXPLOSION_BIG, 'Explosion8.mp3');\n        this.loadSound(SoundManager.SOUND_EFFECTS.FAIL, 'fail.mp3');\n        this.loadSound(SoundManager.SOUND_EFFECTS.FILL, 'fill.mp3');\n        this.loadSound(SoundManager.SOUND_EFFECTS.SWAP, 'swap.mp3');\n        this.loadSound(SoundManager.SOUND_EFFECTS.TURN, 'turn.mp3');\n        this.loadSound(SoundManager.SOUND_EFFECTS.YES, 'yes.mp3');\n    };\n    /**\n     * Initialize background music\n     */\n    SoundManager.prototype.initBackgroundMusic = function () {\n        this.backgroundMusic = new Audio('audio/bg_theme.mp3');\n        this.backgroundMusic.loop = true;\n        this.backgroundMusic.volume = 0.3; // Lower volume for background music\n        // Create audio context for better control\n        try {\n            this.audioContext = new (window.AudioContext || window.webkitAudioContext)();\n        }\n        catch (e) {\n            console.warn('Web Audio API not supported in this browser');\n        }\n    };\n    /**\n     * Load a single sound effect\n     */\n    SoundManager.prototype.loadSound = function (name, filename) {\n        var audio = new Audio(\"audio/\".concat(filename));\n        audio.preload = 'auto';\n        this.sounds.set(name, audio);\n    };\n    /**\n     * Play a sound effect\n     */\n    SoundManager.prototype.play = function (name) {\n        if (!this.enabled)\n            return;\n        var sound = this.sounds.get(name);\n        if (sound) {\n            // Clone the audio element to allow overlapping sounds\n            var soundClone = sound.cloneNode();\n            soundClone.volume = 0.5; // Set volume to 50%\n            soundClone.play().catch(function (error) {\n                console.warn(\"Error playing sound \".concat(name, \":\"), error);\n            });\n        }\n    };\n    /**\n     * Start playing background music\n     */\n    SoundManager.prototype.playBackgroundMusic = function () {\n        if (!this.enabled || !this.backgroundMusic)\n            return;\n        // Only play if not already playing\n        if (this.backgroundMusic.paused) {\n            // Resume audio context if it exists and is suspended\n            if (this.audioContext && this.audioContext.state === 'suspended') {\n                this.audioContext.resume().catch(function (error) {\n                    console.warn('Error resuming AudioContext:', error);\n                });\n            }\n            // Play the background music\n            this.backgroundMusic.play().catch(function (error) {\n                // If autoplay was prevented, we'll wait for user interaction\n                console.warn('Error playing background music (likely autoplay restriction):', error);\n            });\n        }\n    };\n    /**\n     * Pause background music\n     */\n    SoundManager.prototype.pauseBackgroundMusic = function () {\n        if (this.backgroundMusic && !this.backgroundMusic.paused) {\n            this.backgroundMusic.pause();\n        }\n    };\n    /**\n     * Enable or disable all sounds\n     */\n    SoundManager.prototype.setEnabled = function (enabled) {\n        this.enabled = enabled;\n        // Handle background music based on enabled state\n        if (!enabled) {\n            this.pauseBackgroundMusic();\n        }\n        else if (this.backgroundMusic) {\n            this.playBackgroundMusic();\n        }\n    };\n    /**\n     * Toggle sound on/off\n     */\n    SoundManager.prototype.toggleSound = function () {\n        this.enabled = !this.enabled;\n        // Handle background music based on new enabled state\n        if (!this.enabled) {\n            this.pauseBackgroundMusic();\n        }\n        else {\n            this.playBackgroundMusic();\n        }\n        return this.enabled;\n    };\n    /**\n     * Check if sound is enabled\n     */\n    SoundManager.prototype.isEnabled = function () {\n        return this.enabled;\n    };\n    /**\n     * Mark that user interaction has occurred\n     */\n    SoundManager.prototype.userInteractionOccurred = function () {\n        this.hasUserInteraction = true;\n        // Resume audio context if it was suspended\n        if (this.audioContext && this.audioContext.state === 'suspended') {\n            this.audioContext.resume().catch(function (error) {\n                console.warn('Error resuming AudioContext:', error);\n            });\n        }\n        // Try to play background music now that we have user interaction\n        if (this.enabled) {\n            this.playBackgroundMusic();\n        }\n    };\n    // Sound effect names\n    SoundManager.SOUND_EFFECTS = {\n        EXPLOSION: 'explosion',\n        EXPLOSION_BIG: 'explosion_big',\n        FAIL: 'fail',\n        FILL: 'fill',\n        SWAP: 'swap',\n        TURN: 'turn',\n        YES: 'yes',\n        BG_THEME: 'bg_theme'\n    };\n    return SoundManager;\n}());\n\n\n;// ./ts/Board.ts\n\n\n\n/**\n * Represents the game board in the Match3 game\n */\nvar Board = /** @class */ (function () {\n    function Board(element, size, minLine, colors) {\n        this._gems = [];\n        this._element = element;\n        this._size = size;\n        this._minLine = minLine;\n        this._colors = colors;\n        this._soundManager = SoundManager.getInstance();\n        this.createMap(size, minLine, colors);\n    }\n    Object.defineProperty(Board.prototype, \"size\", {\n        /**\n         * Gets the size of the board\n         */\n        get: function () {\n            return this._size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Board.prototype, \"minLine\", {\n        /**\n         * Gets the minimum line length for matches\n         */\n        get: function () {\n            return this._minLine;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Board.prototype, \"colors\", {\n        /**\n         * Gets the number of colors used in the board\n         */\n        get: function () {\n            return this._colors;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Gets a gem at the specified position\n     */\n    Board.prototype.getGem = function (j, k) {\n        return this._gems[j][k];\n    };\n    /**\n     * Creates the game board with the specified parameters\n     */\n    Board.prototype.createMap = function (size, minLine, colors) {\n        // Validate game configuration\n        if (!this.isValidGameConfiguration(size, colors)) {\n            this.displayInvalidConfigurationMessage(size, colors);\n            return false;\n        }\n        // Clear the field\n        this.clearField();\n        // Initialize gems array\n        this.initializeGemsArray(size);\n        // Create gem elements\n        this.createGemElements();\n        // Set gem sizes\n        this.setGemElementSizes();\n        // Fill the board with gems\n        this.fillMap();\n        return true;\n    };\n    /**\n     * Checks if the game configuration is valid\n     */\n    Board.prototype.isValidGameConfiguration = function (size, colors) {\n        return size > 1 && colors > 1 && this._minLine > 1;\n    };\n    /**\n     * Displays an error message when configuration is invalid\n     */\n    Board.prototype.displayInvalidConfigurationMessage = function (size, colors) {\n        this._element.innerHTML = \"A field with the following parameters: size: \".concat(size, \", colors: \").concat(colors, \", min. line length: \").concat(this._minLine, \", cannot be generated.\");\n    };\n    /**\n     * Clears the field element\n     */\n    Board.prototype.clearField = function () {\n        this._element.innerHTML = '';\n    };\n    /**\n     * Initializes the gems array with the given size\n     */\n    Board.prototype.initializeGemsArray = function (size) {\n        this._gems = [];\n        for (var i = 0; i < size; i++) {\n            this._gems[i] = [];\n        }\n    };\n    /**\n     * Creates gem elements and adds them to the board\n     */\n    Board.prototype.createGemElements = function () {\n        for (var j = 0; j < this._size; j++) {\n            for (var k = 0; k < this._size; k++) {\n                var gemElement = document.createElement('div');\n                gemElement.className = CSS_CLASSES.GEM;\n                gemElement.setAttribute(DATA_ATTRIBUTES.J, j.toString());\n                gemElement.setAttribute(DATA_ATTRIBUTES.K, k.toString());\n                gemElement.setAttribute(DATA_ATTRIBUTES.COLOR, '');\n                this._element.appendChild(gemElement);\n                this._gems[j][k] = new Gem(gemElement, this._size);\n            }\n        }\n    };\n    /**\n     * Sets the size of gem elements\n     */\n    Board.prototype.setGemElementSizes = function () {\n        var gemElements = document.querySelectorAll(\".\".concat(CSS_CLASSES.GEM));\n        gemElements.forEach(function (gemElem) {\n            var gem = gemElem;\n            gem.style.width = \"\".concat(100 / DEFAULT_SETTINGS.INITIAL_SIZE, \"%\");\n            gem.style.height = \"\".concat(100 / DEFAULT_SETTINGS.INITIAL_SIZE, \"%\");\n            // gem.style.fontSize = DEFAULT_SETTINGS.FIELD_SIZE / (this._size * 2) + 'px';\n        });\n    };\n    /**\n     * Fills the board with gems\n     */\n    Board.prototype.fillMap = function () {\n        // Create new gems for each empty position\n        for (var j = 0; j < this._size; j++) {\n            var _loop_1 = function (k) {\n                if (this_1._gems[j][k].state === GemState.DEAD) {\n                    // Remove the old dead gem element after animation completes\n                    var deadGem_1 = this_1._gems[j][k].elem;\n                    setTimeout(function () {\n                        if (deadGem_1.parentNode) {\n                            deadGem_1.remove();\n                        }\n                    }, DEFAULT_SETTINGS.KILL_DELAY);\n                    // Create a completely new gem element\n                    this_1.createBrandNewGem(j, k);\n                }\n            };\n            var this_1 = this;\n            for (var k = 0; k < this._size; k++) {\n                _loop_1(k);\n            }\n        }\n        // Play fill sound\n        this._soundManager.play(SoundManager.SOUND_EFFECTS.FILL);\n        // Animate all gems into place\n        this.placeAll();\n    };\n    /**\n     * Creates a completely new gem element at the specified position\n     */\n    Board.prototype.createBrandNewGem = function (j, k) {\n        // Create a new DOM element for the gem\n        var gemElement = document.createElement('div');\n        gemElement.className = CSS_CLASSES.GEM;\n        gemElement.setAttribute(DATA_ATTRIBUTES.J, String(j - 2));\n        gemElement.setAttribute(DATA_ATTRIBUTES.K, String(k));\n        // Set the gem size\n        gemElement.style.width = \"\".concat(100 / DEFAULT_SETTINGS.INITIAL_SIZE, \"%\");\n        gemElement.style.height = \"\".concat(100 / DEFAULT_SETTINGS.INITIAL_SIZE, \"%\");\n        // Calculate how far above the board this gem should start\n        var startingYPosition = -(2 * DEFAULT_SETTINGS.FIELD_SIZE / this._size);\n        // Position the gem initially above the board for animation\n        gemElement.style.top = \"\".concat(startingYPosition, \"px\");\n        gemElement.style.left = \"\".concat(k * (100 / DEFAULT_SETTINGS.INITIAL_SIZE), \"%\");\n        // Add some initial transform for a more dynamic entrance\n        gemElement.style.transform = \"scale(0.8) rotate(\".concat(Math.random() * 20 - 10, \"deg)\");\n        gemElement.style.opacity = '0.9';\n        // Add the gem element to the board\n        this._element.appendChild(gemElement);\n        // Create a new Gem object\n        this._gems[j][k] = new Gem(gemElement, this._size);\n        // Set the gem to alive state\n        this._gems[j][k].state = GemState.ALIVE;\n        // Find a valid color that doesn't create matches\n        var color;\n        do {\n            color = Math.floor(Math.random() * this._colors);\n        } while (this.willCreateMatch(j, k, color));\n        // Set the gem color\n        this._gems[j][k].color = color;\n        gemElement.setAttribute(DATA_ATTRIBUTES.COLOR, String(color));\n        gemElement.innerHTML = GEM_SYMBOLS[color];\n        // Update the gem's position attributes to its final position\n        gemElement.setAttribute(DATA_ATTRIBUTES.J, String(j));\n    };\n    /**\n     * Creates a new gem at the specified position (deprecated, kept for reference)\n     */\n    Board.prototype.createNewGem = function (j, k) {\n        // This method is now deprecated in favor of createBrandNewGem\n        // which creates completely new DOM elements instead of reusing old ones\n        this.createBrandNewGem(j, k);\n    };\n    /**\n     * Checks if placing a gem with the given color at the specified position will create a match\n     */\n    Board.prototype.willCreateMatch = function (j, k, color) {\n        // Check horizontal matches\n        var count = 1;\n        var l = k - 1;\n        while (l >= 0 && this._gems[j][l].state === GemState.ALIVE && this._gems[j][l].color === color) {\n            count++;\n            l--;\n        }\n        l = k + 1;\n        while (l < this._size && this._gems[j][l].state === GemState.ALIVE && this._gems[j][l].color === color) {\n            count++;\n            l++;\n        }\n        if (count >= this._minLine)\n            return true;\n        // Check vertical matches\n        count = 1;\n        l = j - 1;\n        while (l >= 0 && this._gems[l][k].state === GemState.ALIVE && this._gems[l][k].color === color) {\n            count++;\n            l--;\n        }\n        l = j + 1;\n        while (l < this._size && this._gems[l][k].state === GemState.ALIVE && this._gems[l][k].color === color) {\n            count++;\n            l++;\n        }\n        if (count >= this._minLine)\n            return true;\n        return false;\n    };\n    /**\n     * Places all gems on the board\n     */\n    Board.prototype.placeAll = function () {\n        var _this = this;\n        var _loop_2 = function (j) {\n            var _loop_3 = function (k) {\n                // Delay the animation based on the row position\n                // Gems at the top of the board (smaller j) will fall later\n                var delay = (this_2._size - j) * DEFAULT_SETTINGS.FALL_DELAY_PER_ROW;\n                setTimeout(function () {\n                    _this._gems[j][k].place();\n                }, delay);\n            };\n            for (var k = 0; k < this_2._size; k++) {\n                _loop_3(k);\n            }\n        };\n        var this_2 = this;\n        // Stagger the animation for a cascading effect\n        for (var j = this._size - 1; j >= 0; j--) {\n            _loop_2(j);\n        }\n    };\n    /**\n     * Swaps two gems on the board\n     */\n    Board.prototype.swap = function (j1, k1, j2, k2) {\n        // Update gem positions in the DOM\n        this._gems[j1][k1].elem.setAttribute(DATA_ATTRIBUTES.J, j2.toString());\n        this._gems[j1][k1].elem.setAttribute(DATA_ATTRIBUTES.K, k2.toString());\n        this._gems[j2][k2].elem.setAttribute(DATA_ATTRIBUTES.J, j1.toString());\n        this._gems[j2][k2].elem.setAttribute(DATA_ATTRIBUTES.K, k1.toString());\n        // Swap gems in the array\n        var temp = this._gems[j1][k1];\n        this._gems[j1][k1] = this._gems[j2][k2];\n        this._gems[j2][k2] = temp;\n    };\n    /**\n     * Checks if a move between two positions is valid\n     */\n    Board.prototype.isCorrectTurn = function (j1, k1, j2, k2) {\n        // Check if both gems are alive\n        if (this._gems[j1][k1].state !== GemState.ALIVE || this._gems[j2][k2].state !== GemState.ALIVE) {\n            return false;\n        }\n        // Check if positions are adjacent\n        var rowDiff = Math.abs(j1 - j2);\n        var colDiff = Math.abs(k1 - k2);\n        // Orthogonal move (horizontal or vertical)\n        if ((rowDiff === 1 && colDiff === 0) || (rowDiff === 0 && colDiff === 1)) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Finds matches starting from the specified position\n     */\n    Board.prototype.matchChain = function (j, k) {\n        // Return empty array if the gem is dead\n        if (this._gems[j][k].state !== GemState.ALIVE) {\n            return [];\n        }\n        var color = this._gems[j][k].color;\n        var chain = [];\n        // Define directions to check (horizontal and vertical)\n        var directions = [\n            { dj: 0, dk: 1 }, // right\n            { dj: 1, dk: 0 }, // down\n        ];\n        // Check each direction for matches\n        for (var _i = 0, directions_1 = directions; _i < directions_1.length; _i++) {\n            var dir = directions_1[_i];\n            var currentChain = [{ j: j, k: k }];\n            // Check in positive direction\n            this.checkDirection(j, k, dir.dj, dir.dk, color, currentChain);\n            // Check in negative direction\n            this.checkDirection(j, k, -dir.dj, -dir.dk, color, currentChain);\n            // If we found a valid chain, add it to our results\n            if (currentChain.length >= this._minLine) {\n                chain = chain.concat(currentChain);\n            }\n        }\n        // Remove duplicates from the chain\n        return this.removeDuplicates(chain);\n    };\n    /**\n     * Checks for matches in a specific direction\n     */\n    Board.prototype.checkDirection = function (j, k, dj, dk, color, chain) {\n        var currentJ = j + dj;\n        var currentK = k + dk;\n        while (currentJ >= 0 && currentJ < this._size &&\n            currentK >= 0 && currentK < this._size &&\n            this._gems[currentJ][currentK].state === GemState.ALIVE &&\n            this._gems[currentJ][currentK].color === color) {\n            chain.push({ j: currentJ, k: currentK });\n            currentJ += dj;\n            currentK += dk;\n        }\n    };\n    /**\n     * Removes duplicate positions from a chain\n     */\n    Board.prototype.removeDuplicates = function (chain) {\n        var uniquePositions = [];\n        var seen = new Set();\n        for (var _i = 0, chain_1 = chain; _i < chain_1.length; _i++) {\n            var pos = chain_1[_i];\n            var key = \"\".concat(pos.j, \",\").concat(pos.k);\n            if (!seen.has(key)) {\n                seen.add(key);\n                uniquePositions.push(pos);\n            }\n        }\n        return uniquePositions;\n    };\n    return Board;\n}());\n\n\n;// ./ts/Game.ts\n\n\n\nvar Game = /** @class */ (function () {\n    function Game() {\n        this.cluster = [];\n        this.chosen = false;\n        this.pause = true;\n        this.score = 0;\n        this.target = 0;\n        this.time = DEFAULT_SETTINGS.INITIAL_TIME;\n        this.level = 1;\n        this.chosenJ = -1;\n        this.chosenK = -1;\n        this.countdownInterval = null;\n        this.field = document.getElementById(ELEMENT_IDS.FIELD);\n        this.scoreboard = document.getElementById(ELEMENT_IDS.SCOREBOARD);\n        this.soundManager = SoundManager.getInstance();\n        // Initialize the board with default settings - always use 10x10 grid\n        this.board = new Board(this.field, DEFAULT_SETTINGS.INITIAL_SIZE, DEFAULT_SETTINGS.MIN_LINE, DEFAULT_SETTINGS.INITIAL_COLORS);\n        this.initEventListeners();\n        this.setupAudioContext();\n        this.startLevel(this.level);\n    }\n    Game.prototype.initEventListeners = function () {\n        var _this = this;\n        // Variables to track drag operations\n        var isDragging = false;\n        var startGem = null;\n        var startJ = -1;\n        var startK = -1;\n        var dragThreshold = 10; // Minimum pixels to consider a drag\n        var startX = 0;\n        var startY = 0;\n        // Handle touch start and mouse down\n        var handleStart = function (event) {\n            // Game must not be paused\n            if (_this.pause)\n                return;\n            // Get the target element\n            var target = event.target;\n            // Only process events on gem elements\n            if (!target.classList.contains(CSS_CLASSES.GEM))\n                return;\n            // Get the starting coordinates\n            if (event instanceof MouseEvent) {\n                startX = event.clientX;\n                startY = event.clientY;\n            }\n            else {\n                // Touch event\n                startX = event.touches[0].clientX;\n                startY = event.touches[0].clientY;\n            }\n            // Record the starting gem\n            startGem = target;\n            startJ = parseInt(target.getAttribute(DATA_ATTRIBUTES.J) || '0', 10);\n            startK = parseInt(target.getAttribute(DATA_ATTRIBUTES.K) || '0', 10);\n            // Add visual feedback\n            _this.board.getGem(startJ, startK).elem.classList.add(CSS_CLASSES.CHOSEN);\n            _this.soundManager.play(SoundManager.SOUND_EFFECTS.TURN);\n            // Start dragging\n            isDragging = true;\n        };\n        // Handle touch move and mouse move\n        var handleMove = function (event) {\n            // Only process if we're dragging\n            if (!isDragging || !startGem)\n                return;\n            // Prevent default behavior (scrolling, etc.)\n            event.preventDefault();\n            // Get current coordinates\n            var currentX, currentY;\n            if (event instanceof MouseEvent) {\n                currentX = event.clientX;\n                currentY = event.clientY;\n            }\n            else {\n                // Touch event\n                currentX = event.touches[0].clientX;\n                currentY = event.touches[0].clientY;\n            }\n            // Calculate the distance moved\n            var deltaX = currentX - startX;\n            var deltaY = currentY - startY;\n            var distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n            // Add dragging class for visual feedback\n            if (distance > dragThreshold / 2) {\n                startGem.classList.add(CSS_CLASSES.DRAGGING);\n            }\n            // If we've moved enough to consider it a drag\n            if (distance > dragThreshold) {\n                // Determine the predominant direction (horizontal or vertical)\n                var isHorizontal = Math.abs(deltaX) > Math.abs(deltaY);\n                // Calculate the target position based on direction\n                var targetJ_1 = startJ;\n                var targetK_1 = startK;\n                if (isHorizontal) {\n                    // Horizontal movement\n                    targetK_1 = startK + (deltaX > 0 ? 1 : -1);\n                }\n                else {\n                    // Vertical movement\n                    targetJ_1 = startJ + (deltaY > 0 ? 1 : -1);\n                }\n                // Check if the target position is valid\n                if (targetJ_1 >= 0 && targetJ_1 < _this.board.size &&\n                    targetK_1 >= 0 && targetK_1 < _this.board.size &&\n                    _this.board.isCorrectTurn(startJ, startK, targetJ_1, targetK_1)) {\n                    // End the drag operation\n                    isDragging = false;\n                    // Remove visual feedback classes\n                    startGem.classList.remove(CSS_CLASSES.DRAGGING);\n                    _this.board.getGem(startJ, startK).elem.classList.remove(CSS_CLASSES.CHOSEN);\n                    // Temporarily disable further interactions\n                    _this.pause = true;\n                    // Swap the gems\n                    _this.board.swap(startJ, startK, targetJ_1, targetK_1);\n                    // Place gems immediately for visual feedback\n                    _this.board.getGem(startJ, startK).place();\n                    _this.board.getGem(targetJ_1, targetK_1).place();\n                    _this.soundManager.play(SoundManager.SOUND_EFFECTS.SWAP);\n                    // Check for matches\n                    _this.cluster = _this.board.matchChain(startJ, startK);\n                    _this.cluster = _this.cluster.concat(_this.board.matchChain(targetJ_1, targetK_1));\n                    if (_this.cluster.length === 0) {\n                        // No matches found, swap back with shorter delay\n                        setTimeout(function () {\n                            _this.board.swap(targetJ_1, targetK_1, startJ, startK);\n                            _this.board.getGem(startJ, startK).place();\n                            _this.board.getGem(targetJ_1, targetK_1).place();\n                            // Re-enable interactions\n                            _this.pause = false;\n                        }, DEFAULT_SETTINGS.SWAP_DELAY / 2);\n                    }\n                    else {\n                        // Matches found, remove them\n                        _this.kill(_this.cluster);\n                    }\n                }\n            }\n        };\n        // Handle touch end and mouse up\n        var handleEnd = function () {\n            // Only process if we were dragging\n            if (!isDragging || !startGem)\n                return;\n            // End the drag operation\n            isDragging = false;\n            // Remove visual feedback classes\n            startGem.classList.remove(CSS_CLASSES.DRAGGING);\n            // Remove highlight if we didn't complete a swap\n            if (_this.board.getGem(startJ, startK).elem.classList.contains(CSS_CLASSES.CHOSEN)) {\n                _this.board.getGem(startJ, startK).elem.classList.remove(CSS_CLASSES.CHOSEN);\n            }\n            // Reset starting values\n            startGem = null;\n            startJ = -1;\n            startK = -1;\n        };\n        // Add event listeners for mouse interactions\n        this.field.addEventListener('mousedown', handleStart);\n        document.addEventListener('mousemove', handleMove);\n        document.addEventListener('mouseup', handleEnd);\n        // Add event listeners for touch interactions\n        this.field.addEventListener('touchstart', handleStart, { passive: false });\n        document.addEventListener('touchmove', handleMove, { passive: false });\n        document.addEventListener('touchend', handleEnd);\n        // Keep the original click handler for backward compatibility\n        // but with modified behavior to work with the new drag system\n        this.field.addEventListener('click', function (event) {\n            var target = event.target;\n            // Only process clicks on gem elements\n            if (!target.classList.contains(CSS_CLASSES.GEM))\n                return;\n            // Game must not be paused\n            if (_this.pause)\n                return;\n            // Get gem coordinates\n            var j = parseInt(target.getAttribute(DATA_ATTRIBUTES.J) || '0', 10);\n            var k = parseInt(target.getAttribute(DATA_ATTRIBUTES.K) || '0', 10);\n            if (!_this.chosen) {\n                // First gem selection\n                _this.chosen = true;\n                _this.chosenJ = j;\n                _this.chosenK = k;\n                _this.board.getGem(j, k).elem.classList.add(CSS_CLASSES.CHOSEN);\n                _this.soundManager.play(SoundManager.SOUND_EFFECTS.TURN);\n            }\n            else {\n                // Second gem selection (attempting to swap)\n                _this.chosen = false;\n                // Remove highlight from first gem\n                _this.board.getGem(_this.chosenJ, _this.chosenK).elem.classList.remove(CSS_CLASSES.CHOSEN);\n                // Try to swap gems if it's a valid move\n                if (_this.board.isCorrectTurn(_this.chosenJ, _this.chosenK, j, k)) {\n                    // Temporarily disable further clicks to prevent multiple swaps\n                    _this.pause = true;\n                    // Swap the gems\n                    _this.board.swap(_this.chosenJ, _this.chosenK, j, k);\n                    // Place gems immediately for visual feedback\n                    _this.board.getGem(_this.chosenJ, _this.chosenK).place();\n                    _this.board.getGem(j, k).place();\n                    _this.soundManager.play(SoundManager.SOUND_EFFECTS.SWAP);\n                    // Check for matches immediately\n                    _this.cluster = _this.board.matchChain(_this.chosenJ, _this.chosenK);\n                    _this.cluster = _this.cluster.concat(_this.board.matchChain(j, k));\n                    if (_this.cluster.length === 0) {\n                        // No matches found, swap back with shorter delay\n                        setTimeout(function () {\n                            _this.board.swap(j, k, _this.chosenJ, _this.chosenK);\n                            _this.board.getGem(_this.chosenJ, _this.chosenK).place();\n                            _this.board.getGem(j, k).place();\n                            // Re-enable clicks\n                            _this.pause = false;\n                        }, DEFAULT_SETTINGS.SWAP_DELAY / 2);\n                    }\n                    else {\n                        // Matches found, remove them\n                        _this.kill(_this.cluster);\n                    }\n                }\n            }\n        });\n    };\n    /**\n     * Sets up audio context after user interaction\n     */\n    Game.prototype.setupAudioContext = function () {\n        var _this = this;\n        // Add a one-time event listener to enable audio after first user interaction\n        var enableAudio = function () {\n            // Notify sound manager that user interaction has occurred\n            _this.soundManager.userInteractionOccurred();\n            // Remove event listeners after first interaction\n            document.removeEventListener('click', enableAudio);\n            document.removeEventListener('touchstart', enableAudio);\n            document.removeEventListener('keydown', enableAudio);\n        };\n        // Add event listeners for common user interactions\n        document.addEventListener('click', enableAudio);\n        document.addEventListener('touchstart', enableAudio);\n        document.addEventListener('keydown', enableAudio);\n    };\n    Game.prototype.startLevel = function (level) {\n        var _this = this;\n        // Skip if board is not initialized\n        if (!this.board)\n            return;\n        // Calculate target score based on level using constants\n        this.target = Math.floor(DEFAULT_SETTINGS.TARGET_SCORE_FACTOR(level) * DEFAULT_SETTINGS.TARGET_SCORE_BASE);\n        // Always use 10x10 grid\n        var size = DEFAULT_SETTINGS.INITIAL_SIZE;\n        // Increase color variety as levels progress (max 10)\n        var colors = Math.min(DEFAULT_SETTINGS.INITIAL_COLORS + level - 1, 10);\n        // Determine game mode features based on level\n        this.determineGameModeForLevel(level);\n        // Display level information\n        this.displayLevelInfo(level);\n        // Set time limit based on level using constants\n        this.time = DEFAULT_SETTINGS.INITIAL_TIME + Math.floor(level * DEFAULT_SETTINGS.TIME_INCREASE_PER_LEVEL);\n        // Try to play background music (will only work after user interaction)\n        this.soundManager.playBackgroundMusic();\n        // Initialize the game board after a delay\n        setTimeout(function () {\n            // Create a new board with the fixed 10x10 size and settings\n            _this.board = new Board(_this.field, size, DEFAULT_SETTINGS.MIN_LINE, colors);\n            // Reset game state\n            _this.pause = false;\n            _this.score = 0;\n            _this.updateScoreboard();\n        }, DEFAULT_SETTINGS.LEVEL_START_DELAY);\n        // Start the countdown timer\n        this.startCountdownTimer();\n    };\n    /**\n     * Determines game mode features based on level\n     */\n    Game.prototype.determineGameModeForLevel = function (level) {\n        // No special game modes - only horizontal and vertical matches\n    };\n    /**\n     * Displays level information in the field element\n     */\n    Game.prototype.displayLevelInfo = function (level) {\n        this.field.innerHTML = \"Level \".concat(level);\n    };\n    /**\n     * Starts or restarts the countdown timer\n     */\n    Game.prototype.startCountdownTimer = function () {\n        var _this = this;\n        // Clear any existing timer\n        if (this.countdownInterval) {\n            clearInterval(this.countdownInterval);\n        }\n        // Set up the new timer\n        this.countdownInterval = window.setInterval(function () {\n            if (_this.time === 0) {\n                if (_this.score < _this.target) {\n                    // Game over - player didn't reach target score\n                    _this.handleGameOver();\n                }\n                else {\n                    // Level completed - advance to next level\n                    _this.handleLevelComplete();\n                }\n            }\n            else {\n                // Update time and display\n                _this.time -= 1;\n                _this.updateScoreboard();\n            }\n        }, DEFAULT_SETTINGS.COUNTDOWN_INTERVAL);\n    };\n    /**\n     * Updates the scoreboard with current score and time\n     */\n    Game.prototype.updateScoreboard = function () {\n        this.scoreboard.innerHTML = \"\".concat(this.score, \"/\").concat(this.target, \" | \").concat(this.time);\n    };\n    /**\n     * Handles game over state\n     */\n    Game.prototype.handleGameOver = function () {\n        var _this = this;\n        if (this.countdownInterval) {\n            clearInterval(this.countdownInterval);\n        }\n        this.pause = true;\n        this.field.innerHTML = 'GAME OVER';\n        this.soundManager.play(SoundManager.SOUND_EFFECTS.FAIL);\n        this.soundManager.pauseBackgroundMusic();\n        // Add restart button\n        var restartButton = document.createElement('div');\n        restartButton.id = ELEMENT_IDS.RESTART;\n        restartButton.innerHTML = 'RESTART';\n        restartButton.addEventListener('click', function () {\n            _this.level = 1;\n            _this.startLevel(_this.level);\n        });\n        this.field.appendChild(restartButton);\n    };\n    /**\n     * Handles level complete state\n     */\n    Game.prototype.handleLevelComplete = function () {\n        var _this = this;\n        if (this.countdownInterval) {\n            clearInterval(this.countdownInterval);\n        }\n        this.pause = true;\n        this.level++;\n        this.field.innerHTML = 'LEVEL COMPLETE';\n        this.soundManager.play(SoundManager.SOUND_EFFECTS.YES);\n        // Add next level button\n        var nextLevelButton = document.createElement('div');\n        nextLevelButton.id = ELEMENT_IDS.RESTART;\n        nextLevelButton.innerHTML = 'NEXT LEVEL';\n        nextLevelButton.addEventListener('click', function () {\n            _this.startLevel(_this.level);\n        });\n        this.field.appendChild(nextLevelButton);\n    };\n    /**\n     * Removes matched gems and updates score\n     */\n    Game.prototype.kill = function (cluster) {\n        this.pause = true;\n        // Update score based on matches\n        this.updateScoreForMatches(cluster);\n        // Process matched gems in batches for better performance\n        this.processMatchedGems(cluster);\n    };\n    /**\n     * Updates score based on matched gems\n     */\n    Game.prototype.updateScoreForMatches = function (cluster) {\n        // Apply bonus multiplier for larger matches\n        var sizeMultiplier = cluster.length > 4 ? 1.5 : 1;\n        this.score += Math.floor(cluster.length * DEFAULT_SETTINGS.SCORE_MULTIPLIER * sizeMultiplier);\n        this.updateScoreboard();\n        // Play explosion sound based on cluster size\n        if (cluster.length >= 5) {\n            this.soundManager.play(SoundManager.SOUND_EFFECTS.EXPLOSION_BIG);\n        }\n        else {\n            this.soundManager.play(SoundManager.SOUND_EFFECTS.EXPLOSION);\n        }\n    };\n    /**\n     * Processes matched gems (killing them and checking for new matches)\n     */\n    Game.prototype.processMatchedGems = function (cluster) {\n        var _this = this;\n        // Kill all gems in the cluster simultaneously\n        var batchSize = 5;\n        var processBatch = function (startIndex) {\n            var endIndex = Math.min(startIndex + batchSize, cluster.length);\n            // Process current batch\n            for (var i = startIndex; i < endIndex; i++) {\n                var pos = cluster[i];\n                // Kill the gem (this triggers the exit animation)\n                _this.board.getGem(pos.j, pos.k).kill();\n            }\n            // Process next batch or move to next step\n            if (endIndex < cluster.length) {\n                // Process next batch after a very short delay\n                setTimeout(function () { return processBatch(endIndex); }, 10);\n            }\n            else {\n                // All gems processed, wait for kill animation to complete\n                // then shift gems down\n                setTimeout(function () { return _this.shiftDown(); }, DEFAULT_SETTINGS.KILL_DELAY);\n            }\n        };\n        // Start processing the first batch\n        processBatch(0);\n    };\n    /**\n     * Shifts gems down to fill empty spaces\n     */\n    Game.prototype.shiftDown = function () {\n        var _this = this;\n        var shifted = false;\n        var _loop_1 = function (j) {\n            var _loop_2 = function (k) {\n                // If current gem is alive and the one below is dead, shift down\n                if (this_1.board.getGem(j, k).state === GemState.ALIVE &&\n                    this_1.board.getGem(j + 1, k).state === GemState.DEAD) {\n                    // Swap the gems\n                    this_1.board.swap(j, k, j + 1, k);\n                    // Add a very small delay based on row position for a subtle cascading effect\n                    var delay = (this_1.board.size - j) * 5; // Reduced from 10ms to 5ms for smoother animation\n                    setTimeout(function () {\n                        _this.board.getGem(j + 1, k).place(); // Place only the moved gem for efficiency\n                    }, delay);\n                    shifted = true;\n                }\n            };\n            for (var k = 0; k < this_1.board.size; k++) {\n                _loop_2(k);\n            }\n        };\n        var this_1 = this;\n        // Process all columns in parallel for better performance\n        for (var j = this.board.size - 2; j >= 0; j--) {\n            _loop_1(j);\n        }\n        // If any gems were shifted, continue checking with a delay\n        if (shifted) {\n            setTimeout(function () { return _this.shiftDown(); }, DEFAULT_SETTINGS.ANIMATION_DELAY / 2); // Reduced delay for faster animation\n        }\n        else {\n            // No more shifts needed, fill empty spaces and check for new matches\n            this.board.fillMap();\n            // Wait for fill animation to complete before checking for new matches\n            setTimeout(function () { return _this.findAndProcessNewMatches(); }, DEFAULT_SETTINGS.ANIMATION_DELAY / 2); // Reduced delay\n        }\n    };\n    /**\n     * Finds and processes new matches after shifting\n     */\n    Game.prototype.findAndProcessNewMatches = function () {\n        var _this = this;\n        // Add a delay to allow the falling animation to complete\n        setTimeout(function () {\n            var newCluster = [];\n            // Check the entire board for matches\n            for (var j = 0; j < _this.board.size; j++) {\n                for (var k = 0; k < _this.board.size; k++) {\n                    var gem = _this.board.getGem(j, k);\n                    if (gem.state === GemState.ALIVE) {\n                        var matches = _this.board.matchChain(j, k);\n                        if (matches.length > 0) {\n                            var _loop_3 = function (match) {\n                                // Check if this position is already in the cluster\n                                var isDuplicate = newCluster.some(function (pos) { return pos.j === match.j && pos.k === match.k; });\n                                if (!isDuplicate) {\n                                    newCluster.push(match);\n                                }\n                            };\n                            // Add unique matches to the cluster\n                            for (var _i = 0, matches_1 = matches; _i < matches_1.length; _i++) {\n                                var match = matches_1[_i];\n                                _loop_3(match);\n                            }\n                        }\n                    }\n                }\n            }\n            // If new matches found, kill them and continue the cascade\n            if (newCluster.length > 0) {\n                console.log(\"Found \".concat(newCluster.length, \" new matches in cascade\"));\n                // Process these matches, which will trigger another round of\n                // shiftDown and findAndProcessNewMatches when complete\n                _this.kill(newCluster);\n            }\n            else {\n                // No new matches, resume gameplay\n                _this.pause = false;\n            }\n        }, DEFAULT_SETTINGS.FALL_ANIMATION_DURATION + 50); // Reduced from 100ms to 50ms for faster animation\n    };\n    return Game;\n}());\n\n\n;// ./ts/main.ts\n\n/**\n * Main entry point for the Match3 game\n * Initializes the game when the DOM is fully loaded\n */\ndocument.addEventListener('DOMContentLoaded', function () {\n    // Initialize the game\n    var game = new Game();\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0gsUUFBUSxDQUFDLGdCQUFnQixDQUFDLGtCQUFrQixFQUFFO0lBQzVDLHNCQUFzQjtJQUN0QixJQUFNLElBQUksR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO0FBQzFCLENBQUMsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWF0Y2gzLy4vdHMvY29uc3RhbnRzLnRzP2Y3ZDgiLCJ3ZWJwYWNrOi8vbWF0Y2gzLy4vdHMvR2VtLnRzP2E3NWQiLCJ3ZWJwYWNrOi8vbWF0Y2gzLy4vdHMvU291bmRNYW5hZ2VyLnRzPzQzZmUiLCJ3ZWJwYWNrOi8vbWF0Y2gzLy4vdHMvQm9hcmQudHM/MGFlMSIsIndlYnBhY2s6Ly9tYXRjaDMvLi90cy9HYW1lLnRzPzRjNjMiLCJ3ZWJwYWNrOi8vbWF0Y2gzLy4vdHMvbWFpbi50cz9mNzY4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2FtZSBDb25zdGFudHNcbiAqL1xuXG4vLyBFbGVtZW50IElEc1xuZXhwb3J0IGNvbnN0IEVMRU1FTlRfSURTID0ge1xuICBGSUVMRDogJ2ZpZWxkJyxcbiAgU0NPUkVCT0FSRDogJ3Njb3JlYm9hcmQnLFxuICBMRVZFTElORk86ICdsZXZlbGluZm8nLFxuICBXUkFQUEVSOiAnd3JhcHBlcicsXG4gIFJFU1RBUlQ6ICdyZXN0YXJ0J1xufTtcblxuLy8gQ1NTIENsYXNzZXNcbmV4cG9ydCBjb25zdCBDU1NfQ0xBU1NFUyA9IHtcbiAgR0VNOiAnZ2VtJyxcbiAgQ0hPU0VOOiAnY2hvc2VuJyxcbiAgREVBRDogJ2RlYWQnLFxuICBEUkFHR0lORzogJ2RyYWdnaW5nJyxcbiAgRFJBR19UQVJHRVQ6ICdkcmFnLXRhcmdldCdcbn07XG5cbi8vIEdhbWUgU3RhdGVzXG5leHBvcnQgZW51bSBHZW1TdGF0ZSB7XG4gIEFMSVZFID0gJ2FsaXZlJyxcbiAgREVBRCA9ICdkZWFkJ1xufVxuXG4vLyBEYXRhIEF0dHJpYnV0ZXNcbmV4cG9ydCBjb25zdCBEQVRBX0FUVFJJQlVURVMgPSB7XG4gIEo6ICdkYXRhLWonLFxuICBLOiAnZGF0YS1rJyxcbiAgQ09MT1I6ICdkYXRhLWNvbG9yJ1xufTtcblxuLy8gR2FtZSBTZXR0aW5nc1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1MgPSB7XG4gIElOSVRJQUxfU0laRTogMTIsIC8vIEZpeGVkIGdyaWQgc2l6ZSB0byAxMHgxMCBmb3IgYmV0dGVyIGdhbWVwbGF5XG4gIE1JTl9MSU5FOiAzLFxuICBJTklUSUFMX0NPTE9SUzogNCxcbiAgSU5JVElBTF9USU1FOiAxODAsXG4gIEZJRUxEX1NJWkU6IDUwMCwgLy8gcGl4ZWxzXG4gIEFOSU1BVElPTl9ERUxBWTogMTUwLCAvLyBtaWxsaXNlY29uZHMgLSByZWR1Y2VkIGZyb20gMjAwbXNcbiAgU1dBUF9ERUxBWTogMTUwLCAvLyBtaWxsaXNlY29uZHMgLSByZWR1Y2VkIGZyb20gMjAwbXNcbiAgS0lMTF9ERUxBWTogMzAwLCAvLyBtaWxsaXNlY29uZHMgLSByZWR1Y2VkIGZyb20gNDUwbXNcbiAgTEVWRUxfU1RBUlRfREVMQVk6IDUwMCwgLy8gbWlsbGlzZWNvbmRzXG4gIENPVU5URE9XTl9JTlRFUlZBTDogMTAwMCwgLy8gbWlsbGlzZWNvbmRzXG4gIFNDT1JFX01VTFRJUExJRVI6IDM2LFxuICAvLyBBbmltYXRpb24gc2V0dGluZ3NcbiAgRkFMTF9ERUxBWV9QRVJfUk9XOiAxNSwgLy8gbWlsbGlzZWNvbmRzIGRlbGF5IHBlciByb3cgLSByZWR1Y2VkIGZyb20gMzBtc1xuICBGQUxMX0FOSU1BVElPTl9EVVJBVElPTjogMjUwLCAvLyBtaWxsaXNlY29uZHMgLSByZWR1Y2VkIGZyb20gNDAwbXNcbiAgQk9VTkNFX0RFTEFZOiAxMDAsIC8vIG1pbGxpc2Vjb25kcyAtIHJlZHVjZWQgZnJvbSAxNTBtcyAodGhvdWdoIG5vIGxvbmdlciB1c2VkKVxuICAvLyBUYXJnZXQgc2NvcmUgY2FsY3VsYXRpb24gY29uc3RhbnRzXG4gIFRBUkdFVF9TQ09SRV9CQVNFOiAxMDAwMCxcbiAgVEFSR0VUX1NDT1JFX0ZBQ1RPUjogTWF0aC5zcXJ0LCAvLyBGdW5jdGlvbiB0byBhcHBseSB0byBsZXZlbCBudW1iZXJcbiAgLy8gVGltZSBzZXR0aW5nc1xuICBUSU1FX0lOQ1JFQVNFX1BFUl9MRVZFTDogMi41IC8vIEFkZGl0aW9uYWwgc2Vjb25kcyBwZXIgbGV2ZWwgKGxldmVsICogNSAvIDIpXG59O1xuXG4vLyBHZW0gU3ltYm9sc1xuZXhwb3J0IGNvbnN0IEdFTV9TWU1CT0xTID0gWyfimpwnLCAn4pijJywgJ+KZlycsICfimYYnLCAn4pmeJywgJ+KZmScsICfimIQnLCAn4p2mJywgJ+KZqCcsICfimZ8nXTtcblxuLy8gTWF0Y2ggQ2hhaW4gQWN0aW9uc1xuZXhwb3J0IGVudW0gTWF0Y2hBY3Rpb24ge1xuICBDSEVDSyA9ICdjaGVjaydcbn1cbiIsImltcG9ydCB7IENTU19DTEFTU0VTLCBEQVRBX0FUVFJJQlVURVMsIERFRkFVTFRfU0VUVElOR1MsIEdlbVN0YXRlIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBnZW0gaW4gdGhlIE1hdGNoMyBnYW1lXG4gKi9cbmV4cG9ydCBjbGFzcyBHZW0ge1xuICBwcml2YXRlIF9lbGVtOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBfc3RhdGU6IEdlbVN0YXRlO1xuICBwcml2YXRlIF9jb2xvcjogbnVtYmVyO1xuICBwcml2YXRlIF9ib2FyZFNpemU6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBIVE1MRWxlbWVudCwgYm9hcmRTaXplOiBudW1iZXIpIHtcbiAgICB0aGlzLl9lbGVtID0gZWxlbWVudDtcbiAgICB0aGlzLl9zdGF0ZSA9IEdlbVN0YXRlLkRFQUQ7XG4gICAgdGhpcy5fY29sb3IgPSAwO1xuICAgIHRoaXMuX2JvYXJkU2l6ZSA9IGJvYXJkU2l6ZTtcbiAgICBcbiAgICAvLyBBZGQgQ1NTIHRyYW5zaXRpb24gZm9yIHNtb290aGVyIGFuaW1hdGlvbnNcbiAgICB0aGlzLl9lbGVtLnN0eWxlLnRyYW5zaXRpb24gPSAndG9wIDAuM3MgY3ViaWMtYmV6aWVyKDAuMjE1LCAwLjYxMCwgMC4zNTUsIDEuMDAwKSwgbGVmdCAwLjE1cyBlYXNlLWluLCB0cmFuc2Zvcm0gMC4ycyBlYXNlLW91dCwgb3BhY2l0eSAwLjE1cyBlYXNlLW91dCc7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgSFRNTCBlbGVtZW50IHJlcHJlc2VudGluZyB0aGUgZ2VtXG4gICAqL1xuICBnZXQgZWxlbSgpOiBIVE1MRWxlbWVudCB7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW07XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgZ2VtXG4gICAqL1xuICBnZXQgc3RhdGUoKTogR2VtU3RhdGUge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBnZW1cbiAgICovXG4gIHNldCBzdGF0ZSh2YWx1ZTogR2VtU3RhdGUpIHtcbiAgICB0aGlzLl9zdGF0ZSA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGNvbG9yIG9mIHRoZSBnZW1cbiAgICovXG4gIGdldCBjb2xvcigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9jb2xvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjb2xvciBvZiB0aGUgZ2VtXG4gICAqL1xuICBzZXQgY29sb3IodmFsdWU6IG51bWJlcikge1xuICAgIHRoaXMuX2NvbG9yID0gdmFsdWU7XG4gICAgdGhpcy5fZWxlbS5pbm5lckhUTUwgPSB2YWx1ZSA+PSAwID8gYCR7dmFsdWV9YCA6ICcnO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGJvYXJkIHNpemUgcmVmZXJlbmNlXG4gICAqL1xuICB1cGRhdGVCb2FyZFNpemUoc2l6ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5fYm9hcmRTaXplID0gc2l6ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBLaWxscyB0aGUgZ2VtIChtYXJrcyBpdCBhcyBkZWFkIGFuZCBhbmltYXRlcyBpdCBvZmYgdGhlIGJvYXJkKVxuICAgKi9cbiAga2lsbCgpOiB2b2lkIHtcbiAgICAvLyBNYXJrIHRoZSBnZW0gYXMgZGVhZFxuICAgIHRoaXMuX3N0YXRlID0gR2VtU3RhdGUuREVBRDtcbiAgICBcbiAgICAvLyBBZGQgdGhlIGRlYWQgY2xhc3MgdG8gYXBwbHkgQ1NTIHN0eWxlc1xuICAgIHRoaXMuX2VsZW0uY2xhc3NMaXN0LmFkZChDU1NfQ0xBU1NFUy5ERUFEKTtcbiAgICBcbiAgICAvLyBNYWtlIHN1cmUgdHJhbnNpdGlvbnMgYXJlIHJlc2V0XG4gICAgdGhpcy5fZWxlbS5zdHlsZS50cmFuc2l0aW9uID0gJ25vbmUnO1xuICAgIHRoaXMuX2VsZW0uc3R5bGUudHJhbnNmb3JtID0gJ25vbmUnO1xuICAgIHRoaXMuX2VsZW0uc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICBcbiAgICAvLyBGb3JjZSBhIHJlZmxvdyB0byBlbnN1cmUgdGhlIHJlc2V0IGlzIGFwcGxpZWRcbiAgICB2b2lkIHRoaXMuX2VsZW0ub2Zmc2V0V2lkdGg7XG4gICAgXG4gICAgLy8gU2V0IHVwIHRoZSBhbmltYXRpb24gLSBtYWtlIGl0IGZhc3RlciAoMC40cyBpbnN0ZWFkIG9mIDAuNnMpXG4gICAgdGhpcy5fZWxlbS5zdHlsZS50cmFuc2l0aW9uID0gJ3RyYW5zZm9ybSAwLjRzIGVhc2UtaW4sIG9wYWNpdHkgMC40cyBlYXNlLWluJztcbiAgICBcbiAgICAvLyBEaXJlY3QgZmFsbGluZyBkb3duIGFuaW1hdGlvblxuICAgIHRoaXMuX2VsZW0uc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoMTAwJSkgc2NhbGUoMC44KSc7XG4gICAgdGhpcy5fZWxlbS5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuICB9XG5cbiAgLyoqXG4gICAqIFBsYWNlcyB0aGUgZ2VtIGF0IGl0cyBjb3JyZWN0IHBvc2l0aW9uIG9uIHRoZSBib2FyZFxuICAgKi9cbiAgcGxhY2UoKTogdm9pZCB7XG4gICAgY29uc3QgaiA9IHBhcnNlSW50KHRoaXMuX2VsZW0uZ2V0QXR0cmlidXRlKERBVEFfQVRUUklCVVRFUy5KKSB8fCAnMCcsIDEwKTtcbiAgICBjb25zdCBrID0gcGFyc2VJbnQodGhpcy5fZWxlbS5nZXRBdHRyaWJ1dGUoREFUQV9BVFRSSUJVVEVTLkspIHx8ICcwJywgMTApO1xuICAgIFxuICAgIC8vIFVzZSBsaW5lYXIgdHJhbnNpdGlvbiBmb3Igc21vb3RoZXIgZmFsbGluZ1xuICAgIHRoaXMuX2VsZW0uc3R5bGUudHJhbnNpdGlvbiA9IGB0b3AgJHtERUZBVUxUX1NFVFRJTkdTLkZBTExfQU5JTUFUSU9OX0RVUkFUSU9OLzEwMDB9cyBsaW5lYXIsIGxlZnQgMC4xNXMgbGluZWFyLCB0cmFuc2Zvcm0gMC4xNXMgZWFzZS1vdXQsIG9wYWNpdHkgMC4xNXMgZWFzZS1vdXRgO1xuICAgIFxuICAgIC8vIFNpbXBsaWZ5IHRoZSB0cmFuc2Zvcm0gLSBubyBib3VuY2UgZWZmZWN0IGZvciBzbW9vdGhlciBhbmltYXRpb25cbiAgICB0aGlzLl9lbGVtLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgxKSc7XG4gICAgdGhpcy5fZWxlbS5zdHlsZS5vcGFjaXR5ID0gJzEnO1xuICAgIFxuICAgIC8vIFBvc2l0aW9uIHRoZSBnZW1cbiAgICB0aGlzLl9lbGVtLnN0eWxlLnRvcCA9IGAke2ogKiAoMTAwL3RoaXMuX2JvYXJkU2l6ZSl9JWA7XG4gICAgdGhpcy5fZWxlbS5zdHlsZS5sZWZ0ID0gYCR7ayAqICgxMDAvdGhpcy5fYm9hcmRTaXplKX0lYDtcbiAgfVxufVxuIiwiLyoqXG4gKiBTb3VuZCBtYW5hZ2VyIGZvciB0aGUgTWF0Y2gzIGdhbWVcbiAqIEhhbmRsZXMgbG9hZGluZyBhbmQgcGxheWluZyBzb3VuZCBlZmZlY3RzXG4gKi9cbmV4cG9ydCBjbGFzcyBTb3VuZE1hbmFnZXIge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogU291bmRNYW5hZ2VyO1xuICBwcml2YXRlIHNvdW5kczogTWFwPHN0cmluZywgSFRNTEF1ZGlvRWxlbWVudD4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgZW5hYmxlZDogYm9vbGVhbiA9IHRydWU7XG4gIHByaXZhdGUgYmFja2dyb3VuZE11c2ljOiBIVE1MQXVkaW9FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgYXVkaW9Db250ZXh0OiBBdWRpb0NvbnRleHQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBoYXNVc2VySW50ZXJhY3Rpb246IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvLyBTb3VuZCBlZmZlY3QgbmFtZXNcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBTT1VORF9FRkZFQ1RTID0ge1xuICAgIEVYUExPU0lPTjogJ2V4cGxvc2lvbicsXG4gICAgRVhQTE9TSU9OX0JJRzogJ2V4cGxvc2lvbl9iaWcnLFxuICAgIEZBSUw6ICdmYWlsJyxcbiAgICBGSUxMOiAnZmlsbCcsXG4gICAgU1dBUDogJ3N3YXAnLFxuICAgIFRVUk46ICd0dXJuJyxcbiAgICBZRVM6ICd5ZXMnLFxuICAgIEJHX1RIRU1FOiAnYmdfdGhlbWUnXG4gIH07XG5cbiAgLyoqXG4gICAqIFByaXZhdGUgY29uc3RydWN0b3IgdG8gZW5mb3JjZSBzaW5nbGV0b24gcGF0dGVyblxuICAgKi9cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmxvYWRTb3VuZHMoKTtcbiAgICB0aGlzLmluaXRCYWNrZ3JvdW5kTXVzaWMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHNpbmdsZXRvbiBpbnN0YW5jZVxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBTb3VuZE1hbmFnZXIge1xuICAgIGlmICghU291bmRNYW5hZ2VyLmluc3RhbmNlKSB7XG4gICAgICBTb3VuZE1hbmFnZXIuaW5zdGFuY2UgPSBuZXcgU291bmRNYW5hZ2VyKCk7XG4gICAgfVxuICAgIHJldHVybiBTb3VuZE1hbmFnZXIuaW5zdGFuY2U7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBhbGwgc291bmQgZWZmZWN0c1xuICAgKi9cbiAgcHJpdmF0ZSBsb2FkU291bmRzKCk6IHZvaWQge1xuICAgIHRoaXMubG9hZFNvdW5kKFNvdW5kTWFuYWdlci5TT1VORF9FRkZFQ1RTLkVYUExPU0lPTiwgJ2V4cGxvc2lvbi5tcDMnKTtcbiAgICB0aGlzLmxvYWRTb3VuZChTb3VuZE1hbmFnZXIuU09VTkRfRUZGRUNUUy5FWFBMT1NJT05fQklHLCAnRXhwbG9zaW9uOC5tcDMnKTtcbiAgICB0aGlzLmxvYWRTb3VuZChTb3VuZE1hbmFnZXIuU09VTkRfRUZGRUNUUy5GQUlMLCAnZmFpbC5tcDMnKTtcbiAgICB0aGlzLmxvYWRTb3VuZChTb3VuZE1hbmFnZXIuU09VTkRfRUZGRUNUUy5GSUxMLCAnZmlsbC5tcDMnKTtcbiAgICB0aGlzLmxvYWRTb3VuZChTb3VuZE1hbmFnZXIuU09VTkRfRUZGRUNUUy5TV0FQLCAnc3dhcC5tcDMnKTtcbiAgICB0aGlzLmxvYWRTb3VuZChTb3VuZE1hbmFnZXIuU09VTkRfRUZGRUNUUy5UVVJOLCAndHVybi5tcDMnKTtcbiAgICB0aGlzLmxvYWRTb3VuZChTb3VuZE1hbmFnZXIuU09VTkRfRUZGRUNUUy5ZRVMsICd5ZXMubXAzJyk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBiYWNrZ3JvdW5kIG11c2ljXG4gICAqL1xuICBwcml2YXRlIGluaXRCYWNrZ3JvdW5kTXVzaWMoKTogdm9pZCB7XG4gICAgdGhpcy5iYWNrZ3JvdW5kTXVzaWMgPSBuZXcgQXVkaW8oJ2F1ZGlvL2JnX3RoZW1lLm1wMycpO1xuICAgIHRoaXMuYmFja2dyb3VuZE11c2ljLmxvb3AgPSB0cnVlO1xuICAgIHRoaXMuYmFja2dyb3VuZE11c2ljLnZvbHVtZSA9IDAuMzsgLy8gTG93ZXIgdm9sdW1lIGZvciBiYWNrZ3JvdW5kIG11c2ljXG4gICAgXG4gICAgLy8gQ3JlYXRlIGF1ZGlvIGNvbnRleHQgZm9yIGJldHRlciBjb250cm9sXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuYXVkaW9Db250ZXh0ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8ICh3aW5kb3cgYXMgYW55KS53ZWJraXRBdWRpb0NvbnRleHQpKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS53YXJuKCdXZWIgQXVkaW8gQVBJIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgYSBzaW5nbGUgc291bmQgZWZmZWN0XG4gICAqL1xuICBwcml2YXRlIGxvYWRTb3VuZChuYW1lOiBzdHJpbmcsIGZpbGVuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpbyhgYXVkaW8vJHtmaWxlbmFtZX1gKTtcbiAgICBhdWRpby5wcmVsb2FkID0gJ2F1dG8nO1xuICAgIHRoaXMuc291bmRzLnNldChuYW1lLCBhdWRpbyk7XG4gIH1cblxuICAvKipcbiAgICogUGxheSBhIHNvdW5kIGVmZmVjdFxuICAgKi9cbiAgcHVibGljIHBsYXkobmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBzb3VuZCA9IHRoaXMuc291bmRzLmdldChuYW1lKTtcbiAgICBpZiAoc291bmQpIHtcbiAgICAgIC8vIENsb25lIHRoZSBhdWRpbyBlbGVtZW50IHRvIGFsbG93IG92ZXJsYXBwaW5nIHNvdW5kc1xuICAgICAgY29uc3Qgc291bmRDbG9uZSA9IHNvdW5kLmNsb25lTm9kZSgpIGFzIEhUTUxBdWRpb0VsZW1lbnQ7XG4gICAgICBzb3VuZENsb25lLnZvbHVtZSA9IDAuNTsgLy8gU2V0IHZvbHVtZSB0byA1MCVcbiAgICAgIHNvdW5kQ2xvbmUucGxheSgpLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgY29uc29sZS53YXJuKGBFcnJvciBwbGF5aW5nIHNvdW5kICR7bmFtZX06YCwgZXJyb3IpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IHBsYXlpbmcgYmFja2dyb3VuZCBtdXNpY1xuICAgKi9cbiAgcHVibGljIHBsYXlCYWNrZ3JvdW5kTXVzaWMoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQgfHwgIXRoaXMuYmFja2dyb3VuZE11c2ljKSByZXR1cm47XG4gICAgXG4gICAgLy8gT25seSBwbGF5IGlmIG5vdCBhbHJlYWR5IHBsYXlpbmdcbiAgICBpZiAodGhpcy5iYWNrZ3JvdW5kTXVzaWMucGF1c2VkKSB7XG4gICAgICAvLyBSZXN1bWUgYXVkaW8gY29udGV4dCBpZiBpdCBleGlzdHMgYW5kIGlzIHN1c3BlbmRlZFxuICAgICAgaWYgKHRoaXMuYXVkaW9Db250ZXh0ICYmIHRoaXMuYXVkaW9Db250ZXh0LnN0YXRlID09PSAnc3VzcGVuZGVkJykge1xuICAgICAgICB0aGlzLmF1ZGlvQ29udGV4dC5yZXN1bWUoKS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdFcnJvciByZXN1bWluZyBBdWRpb0NvbnRleHQ6JywgZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gUGxheSB0aGUgYmFja2dyb3VuZCBtdXNpY1xuICAgICAgdGhpcy5iYWNrZ3JvdW5kTXVzaWMucGxheSgpLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgLy8gSWYgYXV0b3BsYXkgd2FzIHByZXZlbnRlZCwgd2UnbGwgd2FpdCBmb3IgdXNlciBpbnRlcmFjdGlvblxuICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIHBsYXlpbmcgYmFja2dyb3VuZCBtdXNpYyAobGlrZWx5IGF1dG9wbGF5IHJlc3RyaWN0aW9uKTonLCBlcnJvcik7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUGF1c2UgYmFja2dyb3VuZCBtdXNpY1xuICAgKi9cbiAgcHVibGljIHBhdXNlQmFja2dyb3VuZE11c2ljKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmJhY2tncm91bmRNdXNpYyAmJiAhdGhpcy5iYWNrZ3JvdW5kTXVzaWMucGF1c2VkKSB7XG4gICAgICB0aGlzLmJhY2tncm91bmRNdXNpYy5wYXVzZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgb3IgZGlzYWJsZSBhbGwgc291bmRzXG4gICAqL1xuICBwdWJsaWMgc2V0RW5hYmxlZChlbmFibGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5lbmFibGVkID0gZW5hYmxlZDtcbiAgICBcbiAgICAvLyBIYW5kbGUgYmFja2dyb3VuZCBtdXNpYyBiYXNlZCBvbiBlbmFibGVkIHN0YXRlXG4gICAgaWYgKCFlbmFibGVkKSB7XG4gICAgICB0aGlzLnBhdXNlQmFja2dyb3VuZE11c2ljKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmJhY2tncm91bmRNdXNpYykge1xuICAgICAgdGhpcy5wbGF5QmFja2dyb3VuZE11c2ljKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZSBzb3VuZCBvbi9vZmZcbiAgICovXG4gIHB1YmxpYyB0b2dnbGVTb3VuZCgpOiBib29sZWFuIHtcbiAgICB0aGlzLmVuYWJsZWQgPSAhdGhpcy5lbmFibGVkO1xuICAgIFxuICAgIC8vIEhhbmRsZSBiYWNrZ3JvdW5kIG11c2ljIGJhc2VkIG9uIG5ldyBlbmFibGVkIHN0YXRlXG4gICAgaWYgKCF0aGlzLmVuYWJsZWQpIHtcbiAgICAgIHRoaXMucGF1c2VCYWNrZ3JvdW5kTXVzaWMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wbGF5QmFja2dyb3VuZE11c2ljKCk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB0aGlzLmVuYWJsZWQ7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgc291bmQgaXMgZW5hYmxlZFxuICAgKi9cbiAgcHVibGljIGlzRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5lbmFibGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcmsgdGhhdCB1c2VyIGludGVyYWN0aW9uIGhhcyBvY2N1cnJlZFxuICAgKi9cbiAgcHVibGljIHVzZXJJbnRlcmFjdGlvbk9jY3VycmVkKCk6IHZvaWQge1xuICAgIHRoaXMuaGFzVXNlckludGVyYWN0aW9uID0gdHJ1ZTtcbiAgICBcbiAgICAvLyBSZXN1bWUgYXVkaW8gY29udGV4dCBpZiBpdCB3YXMgc3VzcGVuZGVkXG4gICAgaWYgKHRoaXMuYXVkaW9Db250ZXh0ICYmIHRoaXMuYXVkaW9Db250ZXh0LnN0YXRlID09PSAnc3VzcGVuZGVkJykge1xuICAgICAgdGhpcy5hdWRpb0NvbnRleHQucmVzdW1lKCkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIHJlc3VtaW5nIEF1ZGlvQ29udGV4dDonLCBlcnJvcik7XG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gVHJ5IHRvIHBsYXkgYmFja2dyb3VuZCBtdXNpYyBub3cgdGhhdCB3ZSBoYXZlIHVzZXIgaW50ZXJhY3Rpb25cbiAgICBpZiAodGhpcy5lbmFibGVkKSB7XG4gICAgICB0aGlzLnBsYXlCYWNrZ3JvdW5kTXVzaWMoKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IENTU19DTEFTU0VTLCBEQVRBX0FUVFJJQlVURVMsIERFRkFVTFRfU0VUVElOR1MsIEdlbVN0YXRlLCBHRU1fU1lNQk9MUyB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IEdlbSB9IGZyb20gJy4vR2VtJztcbmltcG9ydCB7IEdlbVBvc2l0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBTb3VuZE1hbmFnZXIgfSBmcm9tICcuL1NvdW5kTWFuYWdlcic7XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgZ2FtZSBib2FyZCBpbiB0aGUgTWF0Y2gzIGdhbWVcbiAqL1xuZXhwb3J0IGNsYXNzIEJvYXJkIHtcbiAgcHJpdmF0ZSBfZ2VtczogR2VtW11bXSA9IFtdO1xuICBwcml2YXRlIF9zaXplOiBudW1iZXI7XG4gIHByaXZhdGUgX2VsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIF9taW5MaW5lOiBudW1iZXI7XG4gIHByaXZhdGUgX2NvbG9yczogbnVtYmVyO1xuICBwcml2YXRlIF9zb3VuZE1hbmFnZXI6IFNvdW5kTWFuYWdlcjtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBIVE1MRWxlbWVudCwgc2l6ZTogbnVtYmVyLCBtaW5MaW5lOiBudW1iZXIsIGNvbG9yczogbnVtYmVyKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5fc2l6ZSA9IHNpemU7XG4gICAgdGhpcy5fbWluTGluZSA9IG1pbkxpbmU7XG4gICAgdGhpcy5fY29sb3JzID0gY29sb3JzO1xuICAgIHRoaXMuX3NvdW5kTWFuYWdlciA9IFNvdW5kTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIFxuICAgIHRoaXMuY3JlYXRlTWFwKHNpemUsIG1pbkxpbmUsIGNvbG9ycyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiB0aGUgYm9hcmRcbiAgICovXG4gIGdldCBzaXplKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbWluaW11bSBsaW5lIGxlbmd0aCBmb3IgbWF0Y2hlc1xuICAgKi9cbiAgZ2V0IG1pbkxpbmUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fbWluTGluZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBudW1iZXIgb2YgY29sb3JzIHVzZWQgaW4gdGhlIGJvYXJkXG4gICAqL1xuICBnZXQgY29sb3JzKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbG9ycztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgZ2VtIGF0IHRoZSBzcGVjaWZpZWQgcG9zaXRpb25cbiAgICovXG4gIGdldEdlbShqOiBudW1iZXIsIGs6IG51bWJlcik6IEdlbSB7XG4gICAgcmV0dXJuIHRoaXMuX2dlbXNbal1ba107XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyB0aGUgZ2FtZSBib2FyZCB3aXRoIHRoZSBzcGVjaWZpZWQgcGFyYW1ldGVyc1xuICAgKi9cbiAgY3JlYXRlTWFwKHNpemU6IG51bWJlciwgbWluTGluZTogbnVtYmVyLCBjb2xvcnM6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIC8vIFZhbGlkYXRlIGdhbWUgY29uZmlndXJhdGlvblxuICAgIGlmICghdGhpcy5pc1ZhbGlkR2FtZUNvbmZpZ3VyYXRpb24oc2l6ZSwgY29sb3JzKSkge1xuICAgICAgdGhpcy5kaXNwbGF5SW52YWxpZENvbmZpZ3VyYXRpb25NZXNzYWdlKHNpemUsIGNvbG9ycyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIC8vIENsZWFyIHRoZSBmaWVsZFxuICAgIHRoaXMuY2xlYXJGaWVsZCgpO1xuICAgIFxuICAgIC8vIEluaXRpYWxpemUgZ2VtcyBhcnJheVxuICAgIHRoaXMuaW5pdGlhbGl6ZUdlbXNBcnJheShzaXplKTtcbiAgICBcbiAgICAvLyBDcmVhdGUgZ2VtIGVsZW1lbnRzXG4gICAgdGhpcy5jcmVhdGVHZW1FbGVtZW50cygpO1xuICAgIFxuICAgIC8vIFNldCBnZW0gc2l6ZXNcbiAgICB0aGlzLnNldEdlbUVsZW1lbnRTaXplcygpO1xuICAgIFxuICAgIC8vIEZpbGwgdGhlIGJvYXJkIHdpdGggZ2Vtc1xuICAgIHRoaXMuZmlsbE1hcCgpO1xuICAgIFxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgZ2FtZSBjb25maWd1cmF0aW9uIGlzIHZhbGlkXG4gICAqL1xuICBwcml2YXRlIGlzVmFsaWRHYW1lQ29uZmlndXJhdGlvbihzaXplOiBudW1iZXIsIGNvbG9yczogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHNpemUgPiAxICYmIGNvbG9ycyA+IDEgJiYgdGhpcy5fbWluTGluZSA+IDE7XG4gIH1cblxuICAvKipcbiAgICogRGlzcGxheXMgYW4gZXJyb3IgbWVzc2FnZSB3aGVuIGNvbmZpZ3VyYXRpb24gaXMgaW52YWxpZFxuICAgKi9cbiAgcHJpdmF0ZSBkaXNwbGF5SW52YWxpZENvbmZpZ3VyYXRpb25NZXNzYWdlKHNpemU6IG51bWJlciwgY29sb3JzOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl9lbGVtZW50LmlubmVySFRNTCA9IGBBIGZpZWxkIHdpdGggdGhlIGZvbGxvd2luZyBwYXJhbWV0ZXJzOiBzaXplOiAke3NpemV9LCBjb2xvcnM6ICR7Y29sb3JzfSwgbWluLiBsaW5lIGxlbmd0aDogJHt0aGlzLl9taW5MaW5lfSwgY2Fubm90IGJlIGdlbmVyYXRlZC5gO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgZmllbGQgZWxlbWVudFxuICAgKi9cbiAgcHJpdmF0ZSBjbGVhckZpZWxkKCk6IHZvaWQge1xuICAgIHRoaXMuX2VsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIGdlbXMgYXJyYXkgd2l0aCB0aGUgZ2l2ZW4gc2l6ZVxuICAgKi9cbiAgcHJpdmF0ZSBpbml0aWFsaXplR2Vtc0FycmF5KHNpemU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuX2dlbXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgdGhpcy5fZ2Vtc1tpXSA9IFtdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGdlbSBlbGVtZW50cyBhbmQgYWRkcyB0aGVtIHRvIHRoZSBib2FyZFxuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVHZW1FbGVtZW50cygpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuX3NpemU7IGorKykge1xuICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCB0aGlzLl9zaXplOyBrKyspIHtcbiAgICAgICAgY29uc3QgZ2VtRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBnZW1FbGVtZW50LmNsYXNzTmFtZSA9IENTU19DTEFTU0VTLkdFTTtcbiAgICAgICAgZ2VtRWxlbWVudC5zZXRBdHRyaWJ1dGUoREFUQV9BVFRSSUJVVEVTLkosIGoudG9TdHJpbmcoKSk7XG4gICAgICAgIGdlbUVsZW1lbnQuc2V0QXR0cmlidXRlKERBVEFfQVRUUklCVVRFUy5LLCBrLnRvU3RyaW5nKCkpO1xuICAgICAgICBnZW1FbGVtZW50LnNldEF0dHJpYnV0ZShEQVRBX0FUVFJJQlVURVMuQ09MT1IsICcnKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuYXBwZW5kQ2hpbGQoZ2VtRWxlbWVudCk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLl9nZW1zW2pdW2tdID0gbmV3IEdlbShnZW1FbGVtZW50LCB0aGlzLl9zaXplKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgc2l6ZSBvZiBnZW0gZWxlbWVudHNcbiAgICovXG4gIHByaXZhdGUgc2V0R2VtRWxlbWVudFNpemVzKCk6IHZvaWQge1xuICAgIGNvbnN0IGdlbUVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLiR7Q1NTX0NMQVNTRVMuR0VNfWApO1xuICAgIGdlbUVsZW1lbnRzLmZvckVhY2goZ2VtRWxlbSA9PiB7XG4gICAgICBjb25zdCBnZW0gPSBnZW1FbGVtIGFzIEhUTUxFbGVtZW50O1xuICAgICAgZ2VtLnN0eWxlLndpZHRoID0gYCR7MTAwL0RFRkFVTFRfU0VUVElOR1MuSU5JVElBTF9TSVpFfSVgO1xuICAgICAgZ2VtLnN0eWxlLmhlaWdodCA9IGAkezEwMC9ERUZBVUxUX1NFVFRJTkdTLklOSVRJQUxfU0laRX0lYDtcbiAgICAgIC8vIGdlbS5zdHlsZS5mb250U2l6ZSA9IERFRkFVTFRfU0VUVElOR1MuRklFTERfU0laRSAvICh0aGlzLl9zaXplICogMikgKyAncHgnO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbGxzIHRoZSBib2FyZCB3aXRoIGdlbXNcbiAgICovXG4gIGZpbGxNYXAoKTogdm9pZCB7XG4gICAgLy8gQ3JlYXRlIG5ldyBnZW1zIGZvciBlYWNoIGVtcHR5IHBvc2l0aW9uXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9zaXplOyBqKyspIHtcbiAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgdGhpcy5fc2l6ZTsgaysrKSB7XG4gICAgICAgIGlmICh0aGlzLl9nZW1zW2pdW2tdLnN0YXRlID09PSBHZW1TdGF0ZS5ERUFEKSB7XG4gICAgICAgICAgLy8gUmVtb3ZlIHRoZSBvbGQgZGVhZCBnZW0gZWxlbWVudCBhZnRlciBhbmltYXRpb24gY29tcGxldGVzXG4gICAgICAgICAgY29uc3QgZGVhZEdlbSA9IHRoaXMuX2dlbXNbal1ba10uZWxlbTtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChkZWFkR2VtLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgZGVhZEdlbS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBERUZBVUxUX1NFVFRJTkdTLktJTExfREVMQVkpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENyZWF0ZSBhIGNvbXBsZXRlbHkgbmV3IGdlbSBlbGVtZW50XG4gICAgICAgICAgdGhpcy5jcmVhdGVCcmFuZE5ld0dlbShqLCBrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBQbGF5IGZpbGwgc291bmRcbiAgICB0aGlzLl9zb3VuZE1hbmFnZXIucGxheShTb3VuZE1hbmFnZXIuU09VTkRfRUZGRUNUUy5GSUxMKTtcbiAgICBcbiAgICAvLyBBbmltYXRlIGFsbCBnZW1zIGludG8gcGxhY2VcbiAgICB0aGlzLnBsYWNlQWxsKCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNvbXBsZXRlbHkgbmV3IGdlbSBlbGVtZW50IGF0IHRoZSBzcGVjaWZpZWQgcG9zaXRpb25cbiAgICovXG4gIHByaXZhdGUgY3JlYXRlQnJhbmROZXdHZW0oajogbnVtYmVyLCBrOiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyBDcmVhdGUgYSBuZXcgRE9NIGVsZW1lbnQgZm9yIHRoZSBnZW1cbiAgICBjb25zdCBnZW1FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZ2VtRWxlbWVudC5jbGFzc05hbWUgPSBDU1NfQ0xBU1NFUy5HRU07XG4gICAgZ2VtRWxlbWVudC5zZXRBdHRyaWJ1dGUoREFUQV9BVFRSSUJVVEVTLkosIFN0cmluZyhqIC0gMikpOyBcbiAgICBnZW1FbGVtZW50LnNldEF0dHJpYnV0ZShEQVRBX0FUVFJJQlVURVMuSywgU3RyaW5nKGspKTtcbiAgICBcbiAgICAvLyBTZXQgdGhlIGdlbSBzaXplXG4gICAgZ2VtRWxlbWVudC5zdHlsZS53aWR0aCA9IGAkezEwMC9ERUZBVUxUX1NFVFRJTkdTLklOSVRJQUxfU0laRX0lYDtcbiAgICBnZW1FbGVtZW50LnN0eWxlLmhlaWdodCA9IGAkezEwMC9ERUZBVUxUX1NFVFRJTkdTLklOSVRJQUxfU0laRX0lYDtcbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgaG93IGZhciBhYm92ZSB0aGUgYm9hcmQgdGhpcyBnZW0gc2hvdWxkIHN0YXJ0XG4gICAgY29uc3Qgc3RhcnRpbmdZUG9zaXRpb24gPSAtKDIgKiBERUZBVUxUX1NFVFRJTkdTLkZJRUxEX1NJWkUgLyB0aGlzLl9zaXplKTtcbiAgICBcbiAgICAvLyBQb3NpdGlvbiB0aGUgZ2VtIGluaXRpYWxseSBhYm92ZSB0aGUgYm9hcmQgZm9yIGFuaW1hdGlvblxuICAgIGdlbUVsZW1lbnQuc3R5bGUudG9wID0gYCR7c3RhcnRpbmdZUG9zaXRpb259cHhgO1xuICAgIGdlbUVsZW1lbnQuc3R5bGUubGVmdCA9IGAke2sgKiAoMTAwL0RFRkFVTFRfU0VUVElOR1MuSU5JVElBTF9TSVpFKX0lYDtcbiAgICBcbiAgICAvLyBBZGQgc29tZSBpbml0aWFsIHRyYW5zZm9ybSBmb3IgYSBtb3JlIGR5bmFtaWMgZW50cmFuY2VcbiAgICBnZW1FbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgwLjgpIHJvdGF0ZSgke01hdGgucmFuZG9tKCkgKiAyMCAtIDEwfWRlZylgO1xuICAgIGdlbUVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcwLjknO1xuICAgIFxuICAgIC8vIEFkZCB0aGUgZ2VtIGVsZW1lbnQgdG8gdGhlIGJvYXJkXG4gICAgdGhpcy5fZWxlbWVudC5hcHBlbmRDaGlsZChnZW1FbGVtZW50KTtcbiAgICBcbiAgICAvLyBDcmVhdGUgYSBuZXcgR2VtIG9iamVjdFxuICAgIHRoaXMuX2dlbXNbal1ba10gPSBuZXcgR2VtKGdlbUVsZW1lbnQsIHRoaXMuX3NpemUpO1xuICAgIFxuICAgIC8vIFNldCB0aGUgZ2VtIHRvIGFsaXZlIHN0YXRlXG4gICAgdGhpcy5fZ2Vtc1tqXVtrXS5zdGF0ZSA9IEdlbVN0YXRlLkFMSVZFO1xuICAgIFxuICAgIC8vIEZpbmQgYSB2YWxpZCBjb2xvciB0aGF0IGRvZXNuJ3QgY3JlYXRlIG1hdGNoZXNcbiAgICBsZXQgY29sb3I7XG4gICAgZG8ge1xuICAgICAgY29sb3IgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLl9jb2xvcnMpO1xuICAgIH0gd2hpbGUgKHRoaXMud2lsbENyZWF0ZU1hdGNoKGosIGssIGNvbG9yKSk7XG4gICAgXG4gICAgLy8gU2V0IHRoZSBnZW0gY29sb3JcbiAgICB0aGlzLl9nZW1zW2pdW2tdLmNvbG9yID0gY29sb3I7XG4gICAgZ2VtRWxlbWVudC5zZXRBdHRyaWJ1dGUoREFUQV9BVFRSSUJVVEVTLkNPTE9SLCBTdHJpbmcoY29sb3IpKTtcbiAgICBnZW1FbGVtZW50LmlubmVySFRNTCA9IEdFTV9TWU1CT0xTW2NvbG9yXTtcbiAgICBcbiAgICAvLyBVcGRhdGUgdGhlIGdlbSdzIHBvc2l0aW9uIGF0dHJpYnV0ZXMgdG8gaXRzIGZpbmFsIHBvc2l0aW9uXG4gICAgZ2VtRWxlbWVudC5zZXRBdHRyaWJ1dGUoREFUQV9BVFRSSUJVVEVTLkosIFN0cmluZyhqKSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBnZW0gYXQgdGhlIHNwZWNpZmllZCBwb3NpdGlvbiAoZGVwcmVjYXRlZCwga2VwdCBmb3IgcmVmZXJlbmNlKVxuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVOZXdHZW0oajogbnVtYmVyLCBrOiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyBUaGlzIG1ldGhvZCBpcyBub3cgZGVwcmVjYXRlZCBpbiBmYXZvciBvZiBjcmVhdGVCcmFuZE5ld0dlbVxuICAgIC8vIHdoaWNoIGNyZWF0ZXMgY29tcGxldGVseSBuZXcgRE9NIGVsZW1lbnRzIGluc3RlYWQgb2YgcmV1c2luZyBvbGQgb25lc1xuICAgIHRoaXMuY3JlYXRlQnJhbmROZXdHZW0oaiwgayk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHBsYWNpbmcgYSBnZW0gd2l0aCB0aGUgZ2l2ZW4gY29sb3IgYXQgdGhlIHNwZWNpZmllZCBwb3NpdGlvbiB3aWxsIGNyZWF0ZSBhIG1hdGNoXG4gICAqL1xuICBwcml2YXRlIHdpbGxDcmVhdGVNYXRjaChqOiBudW1iZXIsIGs6IG51bWJlciwgY29sb3I6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIC8vIENoZWNrIGhvcml6b250YWwgbWF0Y2hlc1xuICAgIGxldCBjb3VudCA9IDE7XG4gICAgbGV0IGwgPSBrIC0gMTtcbiAgICB3aGlsZSAobCA+PSAwICYmIHRoaXMuX2dlbXNbal1bbF0uc3RhdGUgPT09IEdlbVN0YXRlLkFMSVZFICYmIHRoaXMuX2dlbXNbal1bbF0uY29sb3IgPT09IGNvbG9yKSB7XG4gICAgICBjb3VudCsrO1xuICAgICAgbC0tO1xuICAgIH1cbiAgICBsID0gayArIDE7XG4gICAgd2hpbGUgKGwgPCB0aGlzLl9zaXplICYmIHRoaXMuX2dlbXNbal1bbF0uc3RhdGUgPT09IEdlbVN0YXRlLkFMSVZFICYmIHRoaXMuX2dlbXNbal1bbF0uY29sb3IgPT09IGNvbG9yKSB7XG4gICAgICBjb3VudCsrO1xuICAgICAgbCsrO1xuICAgIH1cbiAgICBpZiAoY291bnQgPj0gdGhpcy5fbWluTGluZSkgcmV0dXJuIHRydWU7XG4gICAgXG4gICAgLy8gQ2hlY2sgdmVydGljYWwgbWF0Y2hlc1xuICAgIGNvdW50ID0gMTtcbiAgICBsID0gaiAtIDE7XG4gICAgd2hpbGUgKGwgPj0gMCAmJiB0aGlzLl9nZW1zW2xdW2tdLnN0YXRlID09PSBHZW1TdGF0ZS5BTElWRSAmJiB0aGlzLl9nZW1zW2xdW2tdLmNvbG9yID09PSBjb2xvcikge1xuICAgICAgY291bnQrKztcbiAgICAgIGwtLTtcbiAgICB9XG4gICAgbCA9IGogKyAxO1xuICAgIHdoaWxlIChsIDwgdGhpcy5fc2l6ZSAmJiB0aGlzLl9nZW1zW2xdW2tdLnN0YXRlID09PSBHZW1TdGF0ZS5BTElWRSAmJiB0aGlzLl9nZW1zW2xdW2tdLmNvbG9yID09PSBjb2xvcikge1xuICAgICAgY291bnQrKztcbiAgICAgIGwrKztcbiAgICB9XG4gICAgaWYgKGNvdW50ID49IHRoaXMuX21pbkxpbmUpIHJldHVybiB0cnVlO1xuICAgIFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQbGFjZXMgYWxsIGdlbXMgb24gdGhlIGJvYXJkXG4gICAqL1xuICBwbGFjZUFsbCgpOiB2b2lkIHtcbiAgICAvLyBTdGFnZ2VyIHRoZSBhbmltYXRpb24gZm9yIGEgY2FzY2FkaW5nIGVmZmVjdFxuICAgIGZvciAobGV0IGogPSB0aGlzLl9zaXplIC0gMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgdGhpcy5fc2l6ZTsgaysrKSB7XG4gICAgICAgIC8vIERlbGF5IHRoZSBhbmltYXRpb24gYmFzZWQgb24gdGhlIHJvdyBwb3NpdGlvblxuICAgICAgICAvLyBHZW1zIGF0IHRoZSB0b3Agb2YgdGhlIGJvYXJkIChzbWFsbGVyIGopIHdpbGwgZmFsbCBsYXRlclxuICAgICAgICBjb25zdCBkZWxheSA9ICh0aGlzLl9zaXplIC0gaikgKiBERUZBVUxUX1NFVFRJTkdTLkZBTExfREVMQVlfUEVSX1JPVztcbiAgICAgICAgXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuX2dlbXNbal1ba10ucGxhY2UoKTtcbiAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTd2FwcyB0d28gZ2VtcyBvbiB0aGUgYm9hcmRcbiAgICovXG4gIHN3YXAoajE6IG51bWJlciwgazE6IG51bWJlciwgajI6IG51bWJlciwgazI6IG51bWJlcik6IHZvaWQge1xuICAgIC8vIFVwZGF0ZSBnZW0gcG9zaXRpb25zIGluIHRoZSBET01cbiAgICB0aGlzLl9nZW1zW2oxXVtrMV0uZWxlbS5zZXRBdHRyaWJ1dGUoREFUQV9BVFRSSUJVVEVTLkosIGoyLnRvU3RyaW5nKCkpO1xuICAgIHRoaXMuX2dlbXNbajFdW2sxXS5lbGVtLnNldEF0dHJpYnV0ZShEQVRBX0FUVFJJQlVURVMuSywgazIudG9TdHJpbmcoKSk7XG4gICAgdGhpcy5fZ2Vtc1tqMl1bazJdLmVsZW0uc2V0QXR0cmlidXRlKERBVEFfQVRUUklCVVRFUy5KLCBqMS50b1N0cmluZygpKTtcbiAgICB0aGlzLl9nZW1zW2oyXVtrMl0uZWxlbS5zZXRBdHRyaWJ1dGUoREFUQV9BVFRSSUJVVEVTLkssIGsxLnRvU3RyaW5nKCkpO1xuICAgIFxuICAgIC8vIFN3YXAgZ2VtcyBpbiB0aGUgYXJyYXlcbiAgICBjb25zdCB0ZW1wID0gdGhpcy5fZ2Vtc1tqMV1bazFdO1xuICAgIHRoaXMuX2dlbXNbajFdW2sxXSA9IHRoaXMuX2dlbXNbajJdW2syXTtcbiAgICB0aGlzLl9nZW1zW2oyXVtrMl0gPSB0ZW1wO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIG1vdmUgYmV0d2VlbiB0d28gcG9zaXRpb25zIGlzIHZhbGlkXG4gICAqL1xuICBpc0NvcnJlY3RUdXJuKGoxOiBudW1iZXIsIGsxOiBudW1iZXIsIGoyOiBudW1iZXIsIGsyOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAvLyBDaGVjayBpZiBib3RoIGdlbXMgYXJlIGFsaXZlXG4gICAgaWYgKHRoaXMuX2dlbXNbajFdW2sxXS5zdGF0ZSAhPT0gR2VtU3RhdGUuQUxJVkUgfHwgdGhpcy5fZ2Vtc1tqMl1bazJdLnN0YXRlICE9PSBHZW1TdGF0ZS5BTElWRSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBpZiBwb3NpdGlvbnMgYXJlIGFkamFjZW50XG4gICAgY29uc3Qgcm93RGlmZiA9IE1hdGguYWJzKGoxIC0gajIpO1xuICAgIGNvbnN0IGNvbERpZmYgPSBNYXRoLmFicyhrMSAtIGsyKTtcbiAgICBcbiAgICAvLyBPcnRob2dvbmFsIG1vdmUgKGhvcml6b250YWwgb3IgdmVydGljYWwpXG4gICAgaWYgKChyb3dEaWZmID09PSAxICYmIGNvbERpZmYgPT09IDApIHx8IChyb3dEaWZmID09PSAwICYmIGNvbERpZmYgPT09IDEpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmRzIG1hdGNoZXMgc3RhcnRpbmcgZnJvbSB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uXG4gICAqL1xuICBtYXRjaENoYWluKGo6IG51bWJlciwgazogbnVtYmVyKTogR2VtUG9zaXRpb25bXSB7XG4gICAgLy8gUmV0dXJuIGVtcHR5IGFycmF5IGlmIHRoZSBnZW0gaXMgZGVhZFxuICAgIGlmICh0aGlzLl9nZW1zW2pdW2tdLnN0YXRlICE9PSBHZW1TdGF0ZS5BTElWRSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBjb2xvciA9IHRoaXMuX2dlbXNbal1ba10uY29sb3I7XG4gICAgbGV0IGNoYWluOiBHZW1Qb3NpdGlvbltdID0gW107XG4gICAgXG4gICAgLy8gRGVmaW5lIGRpcmVjdGlvbnMgdG8gY2hlY2sgKGhvcml6b250YWwgYW5kIHZlcnRpY2FsKVxuICAgIGNvbnN0IGRpcmVjdGlvbnMgPSBbXG4gICAgICB7IGRqOiAwLCBkazogMSB9LCAgLy8gcmlnaHRcbiAgICAgIHsgZGo6IDEsIGRrOiAwIH0sICAvLyBkb3duXG4gICAgXTtcbiAgICBcbiAgICAvLyBDaGVjayBlYWNoIGRpcmVjdGlvbiBmb3IgbWF0Y2hlc1xuICAgIGZvciAoY29uc3QgZGlyIG9mIGRpcmVjdGlvbnMpIHtcbiAgICAgIGxldCBjdXJyZW50Q2hhaW46IEdlbVBvc2l0aW9uW10gPSBbeyBqLCBrIH1dO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpbiBwb3NpdGl2ZSBkaXJlY3Rpb25cbiAgICAgIHRoaXMuY2hlY2tEaXJlY3Rpb24oaiwgaywgZGlyLmRqLCBkaXIuZGssIGNvbG9yLCBjdXJyZW50Q2hhaW4pO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpbiBuZWdhdGl2ZSBkaXJlY3Rpb25cbiAgICAgIHRoaXMuY2hlY2tEaXJlY3Rpb24oaiwgaywgLWRpci5kaiwgLWRpci5kaywgY29sb3IsIGN1cnJlbnRDaGFpbik7XG4gICAgICBcbiAgICAgIC8vIElmIHdlIGZvdW5kIGEgdmFsaWQgY2hhaW4sIGFkZCBpdCB0byBvdXIgcmVzdWx0c1xuICAgICAgaWYgKGN1cnJlbnRDaGFpbi5sZW5ndGggPj0gdGhpcy5fbWluTGluZSkge1xuICAgICAgICBjaGFpbiA9IGNoYWluLmNvbmNhdChjdXJyZW50Q2hhaW4pO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBSZW1vdmUgZHVwbGljYXRlcyBmcm9tIHRoZSBjaGFpblxuICAgIHJldHVybiB0aGlzLnJlbW92ZUR1cGxpY2F0ZXMoY2hhaW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBmb3IgbWF0Y2hlcyBpbiBhIHNwZWNpZmljIGRpcmVjdGlvblxuICAgKi9cbiAgcHJpdmF0ZSBjaGVja0RpcmVjdGlvbihqOiBudW1iZXIsIGs6IG51bWJlciwgZGo6IG51bWJlciwgZGs6IG51bWJlciwgY29sb3I6IG51bWJlciwgY2hhaW46IEdlbVBvc2l0aW9uW10pOiB2b2lkIHtcbiAgICBsZXQgY3VycmVudEogPSBqICsgZGo7XG4gICAgbGV0IGN1cnJlbnRLID0gayArIGRrO1xuICAgIFxuICAgIHdoaWxlIChcbiAgICAgIGN1cnJlbnRKID49IDAgJiYgY3VycmVudEogPCB0aGlzLl9zaXplICYmXG4gICAgICBjdXJyZW50SyA+PSAwICYmIGN1cnJlbnRLIDwgdGhpcy5fc2l6ZSAmJlxuICAgICAgdGhpcy5fZ2Vtc1tjdXJyZW50Sl1bY3VycmVudEtdLnN0YXRlID09PSBHZW1TdGF0ZS5BTElWRSAmJlxuICAgICAgdGhpcy5fZ2Vtc1tjdXJyZW50Sl1bY3VycmVudEtdLmNvbG9yID09PSBjb2xvclxuICAgICkge1xuICAgICAgY2hhaW4ucHVzaCh7IGo6IGN1cnJlbnRKLCBrOiBjdXJyZW50SyB9KTtcbiAgICAgIGN1cnJlbnRKICs9IGRqO1xuICAgICAgY3VycmVudEsgKz0gZGs7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgZHVwbGljYXRlIHBvc2l0aW9ucyBmcm9tIGEgY2hhaW5cbiAgICovXG4gIHByaXZhdGUgcmVtb3ZlRHVwbGljYXRlcyhjaGFpbjogR2VtUG9zaXRpb25bXSk6IEdlbVBvc2l0aW9uW10ge1xuICAgIGNvbnN0IHVuaXF1ZVBvc2l0aW9uczogR2VtUG9zaXRpb25bXSA9IFtdO1xuICAgIGNvbnN0IHNlZW4gPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IHBvcyBvZiBjaGFpbikge1xuICAgICAgY29uc3Qga2V5ID0gYCR7cG9zLmp9LCR7cG9zLmt9YDtcbiAgICAgIGlmICghc2Vlbi5oYXMoa2V5KSkge1xuICAgICAgICBzZWVuLmFkZChrZXkpO1xuICAgICAgICB1bmlxdWVQb3NpdGlvbnMucHVzaChwb3MpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gdW5pcXVlUG9zaXRpb25zO1xuICB9XG59XG4iLCJpbXBvcnQgeyBHZW1Qb3NpdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgXG4gIEVMRU1FTlRfSURTLCBcbiAgQ1NTX0NMQVNTRVMsIFxuICBHZW1TdGF0ZSwgXG4gIERBVEFfQVRUUklCVVRFUywgXG4gIERFRkFVTFRfU0VUVElOR1MsXG4gIEdFTV9TWU1CT0xTLFxuICBNYXRjaEFjdGlvblxufSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBCb2FyZCB9IGZyb20gJy4vQm9hcmQnO1xuaW1wb3J0IHsgR2VtIH0gZnJvbSAnLi9HZW0nO1xuaW1wb3J0IHsgU291bmRNYW5hZ2VyIH0gZnJvbSAnLi9Tb3VuZE1hbmFnZXInO1xuXG5leHBvcnQgY2xhc3MgR2FtZSB7XG4gIHByaXZhdGUgYm9hcmQ6IEJvYXJkO1xuICBwcml2YXRlIGNsdXN0ZXI6IEdlbVBvc2l0aW9uW10gPSBbXTtcbiAgcHJpdmF0ZSBjaG9zZW46IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBmaWVsZDogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgcGF1c2U6IGJvb2xlYW4gPSB0cnVlO1xuICBwcml2YXRlIHNjb3JlOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIHRhcmdldDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSB0aW1lOiBudW1iZXIgPSBERUZBVUxUX1NFVFRJTkdTLklOSVRJQUxfVElNRTtcbiAgcHJpdmF0ZSBzY29yZWJvYXJkOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBsZXZlbDogbnVtYmVyID0gMTtcbiAgcHJpdmF0ZSBjaG9zZW5KOiBudW1iZXIgPSAtMTtcbiAgcHJpdmF0ZSBjaG9zZW5LOiBudW1iZXIgPSAtMTtcbiAgcHJpdmF0ZSBjb3VudGRvd25JbnRlcnZhbDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgc291bmRNYW5hZ2VyOiBTb3VuZE1hbmFnZXI7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5maWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKEVMRU1FTlRfSURTLkZJRUxEKSBhcyBIVE1MRWxlbWVudDtcbiAgICB0aGlzLnNjb3JlYm9hcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChFTEVNRU5UX0lEUy5TQ09SRUJPQVJEKSBhcyBIVE1MRWxlbWVudDtcbiAgICB0aGlzLnNvdW5kTWFuYWdlciA9IFNvdW5kTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgYm9hcmQgd2l0aCBkZWZhdWx0IHNldHRpbmdzIC0gYWx3YXlzIHVzZSAxMHgxMCBncmlkXG4gICAgdGhpcy5ib2FyZCA9IG5ldyBCb2FyZChcbiAgICAgIHRoaXMuZmllbGQsIFxuICAgICAgREVGQVVMVF9TRVRUSU5HUy5JTklUSUFMX1NJWkUsIFxuICAgICAgREVGQVVMVF9TRVRUSU5HUy5NSU5fTElORSwgXG4gICAgICBERUZBVUxUX1NFVFRJTkdTLklOSVRJQUxfQ09MT1JTXG4gICAgKTtcblxuICAgIHRoaXMuaW5pdEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5zZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgIHRoaXMuc3RhcnRMZXZlbCh0aGlzLmxldmVsKTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdEV2ZW50TGlzdGVuZXJzKCk6IHZvaWQge1xuICAgIC8vIFZhcmlhYmxlcyB0byB0cmFjayBkcmFnIG9wZXJhdGlvbnNcbiAgICBsZXQgaXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgIGxldCBzdGFydEdlbTogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgc3RhcnRKID0gLTE7XG4gICAgbGV0IHN0YXJ0SyA9IC0xO1xuICAgIGxldCBkcmFnVGhyZXNob2xkID0gMTA7IC8vIE1pbmltdW0gcGl4ZWxzIHRvIGNvbnNpZGVyIGEgZHJhZ1xuICAgIGxldCBzdGFydFggPSAwO1xuICAgIGxldCBzdGFydFkgPSAwO1xuICAgIFxuICAgIC8vIEhhbmRsZSB0b3VjaCBzdGFydCBhbmQgbW91c2UgZG93blxuICAgIGNvbnN0IGhhbmRsZVN0YXJ0ID0gKGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkgPT4ge1xuICAgICAgLy8gR2FtZSBtdXN0IG5vdCBiZSBwYXVzZWRcbiAgICAgIGlmICh0aGlzLnBhdXNlKSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIEdldCB0aGUgdGFyZ2V0IGVsZW1lbnRcbiAgICAgIGNvbnN0IHRhcmdldCA9IChldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpO1xuICAgICAgXG4gICAgICAvLyBPbmx5IHByb2Nlc3MgZXZlbnRzIG9uIGdlbSBlbGVtZW50c1xuICAgICAgaWYgKCF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKENTU19DTEFTU0VTLkdFTSkpIHJldHVybjtcbiAgICAgIFxuICAgICAgLy8gR2V0IHRoZSBzdGFydGluZyBjb29yZGluYXRlc1xuICAgICAgaWYgKGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCkge1xuICAgICAgICBzdGFydFggPSBldmVudC5jbGllbnRYO1xuICAgICAgICBzdGFydFkgPSBldmVudC5jbGllbnRZO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVG91Y2ggZXZlbnRcbiAgICAgICAgc3RhcnRYID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgICBzdGFydFkgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFJlY29yZCB0aGUgc3RhcnRpbmcgZ2VtXG4gICAgICBzdGFydEdlbSA9IHRhcmdldDtcbiAgICAgIHN0YXJ0SiA9IHBhcnNlSW50KHRhcmdldC5nZXRBdHRyaWJ1dGUoREFUQV9BVFRSSUJVVEVTLkopIHx8ICcwJywgMTApO1xuICAgICAgc3RhcnRLID0gcGFyc2VJbnQodGFyZ2V0LmdldEF0dHJpYnV0ZShEQVRBX0FUVFJJQlVURVMuSykgfHwgJzAnLCAxMCk7XG4gICAgICBcbiAgICAgIC8vIEFkZCB2aXN1YWwgZmVlZGJhY2tcbiAgICAgIHRoaXMuYm9hcmQuZ2V0R2VtKHN0YXJ0Siwgc3RhcnRLKS5lbGVtLmNsYXNzTGlzdC5hZGQoQ1NTX0NMQVNTRVMuQ0hPU0VOKTtcbiAgICAgIHRoaXMuc291bmRNYW5hZ2VyLnBsYXkoU291bmRNYW5hZ2VyLlNPVU5EX0VGRkVDVFMuVFVSTik7XG4gICAgICBcbiAgICAgIC8vIFN0YXJ0IGRyYWdnaW5nXG4gICAgICBpc0RyYWdnaW5nID0gdHJ1ZTtcbiAgICB9O1xuICAgIFxuICAgIC8vIEhhbmRsZSB0b3VjaCBtb3ZlIGFuZCBtb3VzZSBtb3ZlXG4gICAgY29uc3QgaGFuZGxlTW92ZSA9IChldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpID0+IHtcbiAgICAgIC8vIE9ubHkgcHJvY2VzcyBpZiB3ZSdyZSBkcmFnZ2luZ1xuICAgICAgaWYgKCFpc0RyYWdnaW5nIHx8ICFzdGFydEdlbSkgcmV0dXJuO1xuICAgICAgXG4gICAgICAvLyBQcmV2ZW50IGRlZmF1bHQgYmVoYXZpb3IgKHNjcm9sbGluZywgZXRjLilcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBcbiAgICAgIC8vIEdldCBjdXJyZW50IGNvb3JkaW5hdGVzXG4gICAgICBsZXQgY3VycmVudFg6IG51bWJlciwgY3VycmVudFk6IG51bWJlcjtcbiAgICAgIFxuICAgICAgaWYgKGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCkge1xuICAgICAgICBjdXJyZW50WCA9IGV2ZW50LmNsaWVudFg7XG4gICAgICAgIGN1cnJlbnRZID0gZXZlbnQuY2xpZW50WTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRvdWNoIGV2ZW50XG4gICAgICAgIGN1cnJlbnRYID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgICBjdXJyZW50WSA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBtb3ZlZFxuICAgICAgY29uc3QgZGVsdGFYID0gY3VycmVudFggLSBzdGFydFg7XG4gICAgICBjb25zdCBkZWx0YVkgPSBjdXJyZW50WSAtIHN0YXJ0WTtcbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KGRlbHRhWCAqIGRlbHRhWCArIGRlbHRhWSAqIGRlbHRhWSk7XG4gICAgICBcbiAgICAgIC8vIEFkZCBkcmFnZ2luZyBjbGFzcyBmb3IgdmlzdWFsIGZlZWRiYWNrXG4gICAgICBpZiAoZGlzdGFuY2UgPiBkcmFnVGhyZXNob2xkIC8gMikge1xuICAgICAgICBzdGFydEdlbS5jbGFzc0xpc3QuYWRkKENTU19DTEFTU0VTLkRSQUdHSU5HKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gSWYgd2UndmUgbW92ZWQgZW5vdWdoIHRvIGNvbnNpZGVyIGl0IGEgZHJhZ1xuICAgICAgaWYgKGRpc3RhbmNlID4gZHJhZ1RocmVzaG9sZCkge1xuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIHByZWRvbWluYW50IGRpcmVjdGlvbiAoaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbClcbiAgICAgICAgY29uc3QgaXNIb3Jpem9udGFsID0gTWF0aC5hYnMoZGVsdGFYKSA+IE1hdGguYWJzKGRlbHRhWSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHRhcmdldCBwb3NpdGlvbiBiYXNlZCBvbiBkaXJlY3Rpb25cbiAgICAgICAgbGV0IHRhcmdldEogPSBzdGFydEo7XG4gICAgICAgIGxldCB0YXJnZXRLID0gc3RhcnRLO1xuICAgICAgICBcbiAgICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICAgIC8vIEhvcml6b250YWwgbW92ZW1lbnRcbiAgICAgICAgICB0YXJnZXRLID0gc3RhcnRLICsgKGRlbHRhWCA+IDAgPyAxIDogLTEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFZlcnRpY2FsIG1vdmVtZW50XG4gICAgICAgICAgdGFyZ2V0SiA9IHN0YXJ0SiArIChkZWx0YVkgPiAwID8gMSA6IC0xKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHRhcmdldCBwb3NpdGlvbiBpcyB2YWxpZFxuICAgICAgICBpZiAoXG4gICAgICAgICAgdGFyZ2V0SiA+PSAwICYmIHRhcmdldEogPCB0aGlzLmJvYXJkLnNpemUgJiZcbiAgICAgICAgICB0YXJnZXRLID49IDAgJiYgdGFyZ2V0SyA8IHRoaXMuYm9hcmQuc2l6ZSAmJlxuICAgICAgICAgIHRoaXMuYm9hcmQuaXNDb3JyZWN0VHVybihzdGFydEosIHN0YXJ0SywgdGFyZ2V0SiwgdGFyZ2V0SylcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gRW5kIHRoZSBkcmFnIG9wZXJhdGlvblxuICAgICAgICAgIGlzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZW1vdmUgdmlzdWFsIGZlZWRiYWNrIGNsYXNzZXNcbiAgICAgICAgICBzdGFydEdlbS5jbGFzc0xpc3QucmVtb3ZlKENTU19DTEFTU0VTLkRSQUdHSU5HKTtcbiAgICAgICAgICB0aGlzLmJvYXJkLmdldEdlbShzdGFydEosIHN0YXJ0SykuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKENTU19DTEFTU0VTLkNIT1NFTik7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVGVtcG9yYXJpbHkgZGlzYWJsZSBmdXJ0aGVyIGludGVyYWN0aW9uc1xuICAgICAgICAgIHRoaXMucGF1c2UgPSB0cnVlO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN3YXAgdGhlIGdlbXNcbiAgICAgICAgICB0aGlzLmJvYXJkLnN3YXAoc3RhcnRKLCBzdGFydEssIHRhcmdldEosIHRhcmdldEspO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFBsYWNlIGdlbXMgaW1tZWRpYXRlbHkgZm9yIHZpc3VhbCBmZWVkYmFja1xuICAgICAgICAgIHRoaXMuYm9hcmQuZ2V0R2VtKHN0YXJ0Siwgc3RhcnRLKS5wbGFjZSgpO1xuICAgICAgICAgIHRoaXMuYm9hcmQuZ2V0R2VtKHRhcmdldEosIHRhcmdldEspLnBsYWNlKCk7XG4gICAgICAgICAgdGhpcy5zb3VuZE1hbmFnZXIucGxheShTb3VuZE1hbmFnZXIuU09VTkRfRUZGRUNUUy5TV0FQKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDaGVjayBmb3IgbWF0Y2hlc1xuICAgICAgICAgIHRoaXMuY2x1c3RlciA9IHRoaXMuYm9hcmQubWF0Y2hDaGFpbihzdGFydEosIHN0YXJ0Syk7XG4gICAgICAgICAgdGhpcy5jbHVzdGVyID0gdGhpcy5jbHVzdGVyLmNvbmNhdCh0aGlzLmJvYXJkLm1hdGNoQ2hhaW4odGFyZ2V0SiwgdGFyZ2V0SykpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICh0aGlzLmNsdXN0ZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBObyBtYXRjaGVzIGZvdW5kLCBzd2FwIGJhY2sgd2l0aCBzaG9ydGVyIGRlbGF5XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5ib2FyZC5zd2FwKHRhcmdldEosIHRhcmdldEssIHN0YXJ0Siwgc3RhcnRLKTtcbiAgICAgICAgICAgICAgdGhpcy5ib2FyZC5nZXRHZW0oc3RhcnRKLCBzdGFydEspLnBsYWNlKCk7XG4gICAgICAgICAgICAgIHRoaXMuYm9hcmQuZ2V0R2VtKHRhcmdldEosIHRhcmdldEspLnBsYWNlKCk7XG4gICAgICAgICAgICAgIC8vIFJlLWVuYWJsZSBpbnRlcmFjdGlvbnNcbiAgICAgICAgICAgICAgdGhpcy5wYXVzZSA9IGZhbHNlO1xuICAgICAgICAgICAgfSwgREVGQVVMVF9TRVRUSU5HUy5TV0FQX0RFTEFZIC8gMik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE1hdGNoZXMgZm91bmQsIHJlbW92ZSB0aGVtXG4gICAgICAgICAgICB0aGlzLmtpbGwodGhpcy5jbHVzdGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIEhhbmRsZSB0b3VjaCBlbmQgYW5kIG1vdXNlIHVwXG4gICAgY29uc3QgaGFuZGxlRW5kID0gKCkgPT4ge1xuICAgICAgLy8gT25seSBwcm9jZXNzIGlmIHdlIHdlcmUgZHJhZ2dpbmdcbiAgICAgIGlmICghaXNEcmFnZ2luZyB8fCAhc3RhcnRHZW0pIHJldHVybjtcbiAgICAgIFxuICAgICAgLy8gRW5kIHRoZSBkcmFnIG9wZXJhdGlvblxuICAgICAgaXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgXG4gICAgICAvLyBSZW1vdmUgdmlzdWFsIGZlZWRiYWNrIGNsYXNzZXNcbiAgICAgIHN0YXJ0R2VtLmNsYXNzTGlzdC5yZW1vdmUoQ1NTX0NMQVNTRVMuRFJBR0dJTkcpO1xuICAgICAgXG4gICAgICAvLyBSZW1vdmUgaGlnaGxpZ2h0IGlmIHdlIGRpZG4ndCBjb21wbGV0ZSBhIHN3YXBcbiAgICAgIGlmICh0aGlzLmJvYXJkLmdldEdlbShzdGFydEosIHN0YXJ0SykuZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoQ1NTX0NMQVNTRVMuQ0hPU0VOKSkge1xuICAgICAgICB0aGlzLmJvYXJkLmdldEdlbShzdGFydEosIHN0YXJ0SykuZWxlbS5jbGFzc0xpc3QucmVtb3ZlKENTU19DTEFTU0VTLkNIT1NFTik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFJlc2V0IHN0YXJ0aW5nIHZhbHVlc1xuICAgICAgc3RhcnRHZW0gPSBudWxsO1xuICAgICAgc3RhcnRKID0gLTE7XG4gICAgICBzdGFydEsgPSAtMTtcbiAgICB9O1xuICAgIFxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnMgZm9yIG1vdXNlIGludGVyYWN0aW9uc1xuICAgIHRoaXMuZmllbGQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlU3RhcnQpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZU1vdmUpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVFbmQpO1xuICAgIFxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnMgZm9yIHRvdWNoIGludGVyYWN0aW9uc1xuICAgIHRoaXMuZmllbGQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGhhbmRsZVN0YXJ0LCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGhhbmRsZU1vdmUsIHsgcGFzc2l2ZTogZmFsc2UgfSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBoYW5kbGVFbmQpO1xuICAgIFxuICAgIC8vIEtlZXAgdGhlIG9yaWdpbmFsIGNsaWNrIGhhbmRsZXIgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICAvLyBidXQgd2l0aCBtb2RpZmllZCBiZWhhdmlvciB0byB3b3JrIHdpdGggdGhlIG5ldyBkcmFnIHN5c3RlbVxuICAgIHRoaXMuZmllbGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgIFxuICAgICAgLy8gT25seSBwcm9jZXNzIGNsaWNrcyBvbiBnZW0gZWxlbWVudHNcbiAgICAgIGlmICghdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhDU1NfQ0xBU1NFUy5HRU0pKSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIEdhbWUgbXVzdCBub3QgYmUgcGF1c2VkXG4gICAgICBpZiAodGhpcy5wYXVzZSkgcmV0dXJuO1xuICAgICAgXG4gICAgICAvLyBHZXQgZ2VtIGNvb3JkaW5hdGVzXG4gICAgICBjb25zdCBqID0gcGFyc2VJbnQodGFyZ2V0LmdldEF0dHJpYnV0ZShEQVRBX0FUVFJJQlVURVMuSikgfHwgJzAnLCAxMCk7XG4gICAgICBjb25zdCBrID0gcGFyc2VJbnQodGFyZ2V0LmdldEF0dHJpYnV0ZShEQVRBX0FUVFJJQlVURVMuSykgfHwgJzAnLCAxMCk7XG4gICAgICBcbiAgICAgIGlmICghdGhpcy5jaG9zZW4pIHtcbiAgICAgICAgLy8gRmlyc3QgZ2VtIHNlbGVjdGlvblxuICAgICAgICB0aGlzLmNob3NlbiA9IHRydWU7XG4gICAgICAgIHRoaXMuY2hvc2VuSiA9IGo7XG4gICAgICAgIHRoaXMuY2hvc2VuSyA9IGs7XG4gICAgICAgIHRoaXMuYm9hcmQuZ2V0R2VtKGosIGspLmVsZW0uY2xhc3NMaXN0LmFkZChDU1NfQ0xBU1NFUy5DSE9TRU4pO1xuICAgICAgICB0aGlzLnNvdW5kTWFuYWdlci5wbGF5KFNvdW5kTWFuYWdlci5TT1VORF9FRkZFQ1RTLlRVUk4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU2Vjb25kIGdlbSBzZWxlY3Rpb24gKGF0dGVtcHRpbmcgdG8gc3dhcClcbiAgICAgICAgdGhpcy5jaG9zZW4gPSBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlbW92ZSBoaWdobGlnaHQgZnJvbSBmaXJzdCBnZW1cbiAgICAgICAgdGhpcy5ib2FyZC5nZXRHZW0odGhpcy5jaG9zZW5KLCB0aGlzLmNob3NlbkspLmVsZW0uY2xhc3NMaXN0LnJlbW92ZShDU1NfQ0xBU1NFUy5DSE9TRU4pO1xuICAgICAgICBcbiAgICAgICAgLy8gVHJ5IHRvIHN3YXAgZ2VtcyBpZiBpdCdzIGEgdmFsaWQgbW92ZVxuICAgICAgICBpZiAodGhpcy5ib2FyZC5pc0NvcnJlY3RUdXJuKHRoaXMuY2hvc2VuSiwgdGhpcy5jaG9zZW5LLCBqLCBrKSkge1xuICAgICAgICAgIC8vIFRlbXBvcmFyaWx5IGRpc2FibGUgZnVydGhlciBjbGlja3MgdG8gcHJldmVudCBtdWx0aXBsZSBzd2Fwc1xuICAgICAgICAgIHRoaXMucGF1c2UgPSB0cnVlO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN3YXAgdGhlIGdlbXNcbiAgICAgICAgICB0aGlzLmJvYXJkLnN3YXAodGhpcy5jaG9zZW5KLCB0aGlzLmNob3NlbkssIGosIGspO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFBsYWNlIGdlbXMgaW1tZWRpYXRlbHkgZm9yIHZpc3VhbCBmZWVkYmFja1xuICAgICAgICAgIHRoaXMuYm9hcmQuZ2V0R2VtKHRoaXMuY2hvc2VuSiwgdGhpcy5jaG9zZW5LKS5wbGFjZSgpO1xuICAgICAgICAgIHRoaXMuYm9hcmQuZ2V0R2VtKGosIGspLnBsYWNlKCk7XG4gICAgICAgICAgdGhpcy5zb3VuZE1hbmFnZXIucGxheShTb3VuZE1hbmFnZXIuU09VTkRfRUZGRUNUUy5TV0FQKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDaGVjayBmb3IgbWF0Y2hlcyBpbW1lZGlhdGVseVxuICAgICAgICAgIHRoaXMuY2x1c3RlciA9IHRoaXMuYm9hcmQubWF0Y2hDaGFpbih0aGlzLmNob3NlbkosIHRoaXMuY2hvc2VuSyk7XG4gICAgICAgICAgdGhpcy5jbHVzdGVyID0gdGhpcy5jbHVzdGVyLmNvbmNhdCh0aGlzLmJvYXJkLm1hdGNoQ2hhaW4oaiwgaykpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICh0aGlzLmNsdXN0ZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBObyBtYXRjaGVzIGZvdW5kLCBzd2FwIGJhY2sgd2l0aCBzaG9ydGVyIGRlbGF5XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5ib2FyZC5zd2FwKGosIGssIHRoaXMuY2hvc2VuSiwgdGhpcy5jaG9zZW5LKTtcbiAgICAgICAgICAgICAgdGhpcy5ib2FyZC5nZXRHZW0odGhpcy5jaG9zZW5KLCB0aGlzLmNob3NlbkspLnBsYWNlKCk7XG4gICAgICAgICAgICAgIHRoaXMuYm9hcmQuZ2V0R2VtKGosIGspLnBsYWNlKCk7XG4gICAgICAgICAgICAgIC8vIFJlLWVuYWJsZSBjbGlja3NcbiAgICAgICAgICAgICAgdGhpcy5wYXVzZSA9IGZhbHNlO1xuICAgICAgICAgICAgfSwgREVGQVVMVF9TRVRUSU5HUy5TV0FQX0RFTEFZIC8gMik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE1hdGNoZXMgZm91bmQsIHJlbW92ZSB0aGVtXG4gICAgICAgICAgICB0aGlzLmtpbGwodGhpcy5jbHVzdGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHVwIGF1ZGlvIGNvbnRleHQgYWZ0ZXIgdXNlciBpbnRlcmFjdGlvblxuICAgKi9cbiAgcHJpdmF0ZSBzZXR1cEF1ZGlvQ29udGV4dCgpOiB2b2lkIHtcbiAgICAvLyBBZGQgYSBvbmUtdGltZSBldmVudCBsaXN0ZW5lciB0byBlbmFibGUgYXVkaW8gYWZ0ZXIgZmlyc3QgdXNlciBpbnRlcmFjdGlvblxuICAgIGNvbnN0IGVuYWJsZUF1ZGlvID0gKCkgPT4ge1xuICAgICAgLy8gTm90aWZ5IHNvdW5kIG1hbmFnZXIgdGhhdCB1c2VyIGludGVyYWN0aW9uIGhhcyBvY2N1cnJlZFxuICAgICAgdGhpcy5zb3VuZE1hbmFnZXIudXNlckludGVyYWN0aW9uT2NjdXJyZWQoKTtcbiAgICAgIFxuICAgICAgLy8gUmVtb3ZlIGV2ZW50IGxpc3RlbmVycyBhZnRlciBmaXJzdCBpbnRlcmFjdGlvblxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlbmFibGVBdWRpbyk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZW5hYmxlQXVkaW8pO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGVuYWJsZUF1ZGlvKTtcbiAgICB9O1xuICAgIFxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnMgZm9yIGNvbW1vbiB1c2VyIGludGVyYWN0aW9uc1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZW5hYmxlQXVkaW8pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBlbmFibGVBdWRpbyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGVuYWJsZUF1ZGlvKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGFydExldmVsKGxldmVsOiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyBTa2lwIGlmIGJvYXJkIGlzIG5vdCBpbml0aWFsaXplZFxuICAgIGlmICghdGhpcy5ib2FyZCkgcmV0dXJuO1xuICAgIFxuICAgIC8vIENhbGN1bGF0ZSB0YXJnZXQgc2NvcmUgYmFzZWQgb24gbGV2ZWwgdXNpbmcgY29uc3RhbnRzXG4gICAgdGhpcy50YXJnZXQgPSBNYXRoLmZsb29yKERFRkFVTFRfU0VUVElOR1MuVEFSR0VUX1NDT1JFX0ZBQ1RPUihsZXZlbCkgKiBERUZBVUxUX1NFVFRJTkdTLlRBUkdFVF9TQ09SRV9CQVNFKTtcbiAgICBcbiAgICAvLyBBbHdheXMgdXNlIDEweDEwIGdyaWRcbiAgICBjb25zdCBzaXplID0gREVGQVVMVF9TRVRUSU5HUy5JTklUSUFMX1NJWkU7XG4gICAgXG4gICAgLy8gSW5jcmVhc2UgY29sb3IgdmFyaWV0eSBhcyBsZXZlbHMgcHJvZ3Jlc3MgKG1heCAxMClcbiAgICBjb25zdCBjb2xvcnMgPSBNYXRoLm1pbihERUZBVUxUX1NFVFRJTkdTLklOSVRJQUxfQ09MT1JTICsgbGV2ZWwgLSAxLCAxMCk7XG4gICAgXG4gICAgLy8gRGV0ZXJtaW5lIGdhbWUgbW9kZSBmZWF0dXJlcyBiYXNlZCBvbiBsZXZlbFxuICAgIHRoaXMuZGV0ZXJtaW5lR2FtZU1vZGVGb3JMZXZlbChsZXZlbCk7XG4gICAgXG4gICAgLy8gRGlzcGxheSBsZXZlbCBpbmZvcm1hdGlvblxuICAgIHRoaXMuZGlzcGxheUxldmVsSW5mbyhsZXZlbCk7XG4gICAgXG4gICAgLy8gU2V0IHRpbWUgbGltaXQgYmFzZWQgb24gbGV2ZWwgdXNpbmcgY29uc3RhbnRzXG4gICAgdGhpcy50aW1lID0gREVGQVVMVF9TRVRUSU5HUy5JTklUSUFMX1RJTUUgKyBNYXRoLmZsb29yKGxldmVsICogREVGQVVMVF9TRVRUSU5HUy5USU1FX0lOQ1JFQVNFX1BFUl9MRVZFTCk7XG4gICAgXG4gICAgLy8gVHJ5IHRvIHBsYXkgYmFja2dyb3VuZCBtdXNpYyAod2lsbCBvbmx5IHdvcmsgYWZ0ZXIgdXNlciBpbnRlcmFjdGlvbilcbiAgICB0aGlzLnNvdW5kTWFuYWdlci5wbGF5QmFja2dyb3VuZE11c2ljKCk7XG4gICAgXG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgZ2FtZSBib2FyZCBhZnRlciBhIGRlbGF5XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAvLyBDcmVhdGUgYSBuZXcgYm9hcmQgd2l0aCB0aGUgZml4ZWQgMTB4MTAgc2l6ZSBhbmQgc2V0dGluZ3NcbiAgICAgIHRoaXMuYm9hcmQgPSBuZXcgQm9hcmQodGhpcy5maWVsZCwgc2l6ZSwgREVGQVVMVF9TRVRUSU5HUy5NSU5fTElORSwgY29sb3JzKTtcbiAgICAgIFxuICAgICAgLy8gUmVzZXQgZ2FtZSBzdGF0ZVxuICAgICAgdGhpcy5wYXVzZSA9IGZhbHNlO1xuICAgICAgdGhpcy5zY29yZSA9IDA7XG4gICAgICB0aGlzLnVwZGF0ZVNjb3JlYm9hcmQoKTtcbiAgICB9LCBERUZBVUxUX1NFVFRJTkdTLkxFVkVMX1NUQVJUX0RFTEFZKTtcbiAgICBcbiAgICAvLyBTdGFydCB0aGUgY291bnRkb3duIHRpbWVyXG4gICAgdGhpcy5zdGFydENvdW50ZG93blRpbWVyKCk7XG4gIH1cbiAgXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGdhbWUgbW9kZSBmZWF0dXJlcyBiYXNlZCBvbiBsZXZlbFxuICAgKi9cbiAgcHJpdmF0ZSBkZXRlcm1pbmVHYW1lTW9kZUZvckxldmVsKGxldmVsOiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyBObyBzcGVjaWFsIGdhbWUgbW9kZXMgLSBvbmx5IGhvcml6b250YWwgYW5kIHZlcnRpY2FsIG1hdGNoZXNcbiAgfVxuICBcbiAgLyoqXG4gICAqIERpc3BsYXlzIGxldmVsIGluZm9ybWF0aW9uIGluIHRoZSBmaWVsZCBlbGVtZW50XG4gICAqL1xuICBwcml2YXRlIGRpc3BsYXlMZXZlbEluZm8obGV2ZWw6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuZmllbGQuaW5uZXJIVE1MID0gYExldmVsICR7bGV2ZWx9YDtcbiAgfVxuICBcbiAgLyoqXG4gICAqIFN0YXJ0cyBvciByZXN0YXJ0cyB0aGUgY291bnRkb3duIHRpbWVyXG4gICAqL1xuICBwcml2YXRlIHN0YXJ0Q291bnRkb3duVGltZXIoKTogdm9pZCB7XG4gICAgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIHRpbWVyXG4gICAgaWYgKHRoaXMuY291bnRkb3duSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jb3VudGRvd25JbnRlcnZhbCk7XG4gICAgfVxuICAgIFxuICAgIC8vIFNldCB1cCB0aGUgbmV3IHRpbWVyXG4gICAgdGhpcy5jb3VudGRvd25JbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy50aW1lID09PSAwKSB7XG4gICAgICAgIGlmICh0aGlzLnNjb3JlIDwgdGhpcy50YXJnZXQpIHtcbiAgICAgICAgICAvLyBHYW1lIG92ZXIgLSBwbGF5ZXIgZGlkbid0IHJlYWNoIHRhcmdldCBzY29yZVxuICAgICAgICAgIHRoaXMuaGFuZGxlR2FtZU92ZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBMZXZlbCBjb21wbGV0ZWQgLSBhZHZhbmNlIHRvIG5leHQgbGV2ZWxcbiAgICAgICAgICB0aGlzLmhhbmRsZUxldmVsQ29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVXBkYXRlIHRpbWUgYW5kIGRpc3BsYXlcbiAgICAgICAgdGhpcy50aW1lIC09IDE7XG4gICAgICAgIHRoaXMudXBkYXRlU2NvcmVib2FyZCgpO1xuICAgICAgfVxuICAgIH0sIERFRkFVTFRfU0VUVElOR1MuQ09VTlRET1dOX0lOVEVSVkFMKTtcbiAgfVxuICBcbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHNjb3JlYm9hcmQgd2l0aCBjdXJyZW50IHNjb3JlIGFuZCB0aW1lXG4gICAqL1xuICBwcml2YXRlIHVwZGF0ZVNjb3JlYm9hcmQoKTogdm9pZCB7XG4gICAgdGhpcy5zY29yZWJvYXJkLmlubmVySFRNTCA9IGAke3RoaXMuc2NvcmV9LyR7dGhpcy50YXJnZXR9IHwgJHt0aGlzLnRpbWV9YDtcbiAgfVxuICBcbiAgLyoqXG4gICAqIEhhbmRsZXMgZ2FtZSBvdmVyIHN0YXRlXG4gICAqL1xuICBwcml2YXRlIGhhbmRsZUdhbWVPdmVyKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmNvdW50ZG93bkludGVydmFsKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuY291bnRkb3duSW50ZXJ2YWwpO1xuICAgIH1cbiAgICB0aGlzLnBhdXNlID0gdHJ1ZTtcbiAgICB0aGlzLmZpZWxkLmlubmVySFRNTCA9ICdHQU1FIE9WRVInO1xuICAgIHRoaXMuc291bmRNYW5hZ2VyLnBsYXkoU291bmRNYW5hZ2VyLlNPVU5EX0VGRkVDVFMuRkFJTCk7XG4gICAgdGhpcy5zb3VuZE1hbmFnZXIucGF1c2VCYWNrZ3JvdW5kTXVzaWMoKTtcbiAgICBcbiAgICAvLyBBZGQgcmVzdGFydCBidXR0b25cbiAgICBjb25zdCByZXN0YXJ0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcmVzdGFydEJ1dHRvbi5pZCA9IEVMRU1FTlRfSURTLlJFU1RBUlQ7XG4gICAgcmVzdGFydEJ1dHRvbi5pbm5lckhUTUwgPSAnUkVTVEFSVCc7XG4gICAgcmVzdGFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMubGV2ZWwgPSAxO1xuICAgICAgdGhpcy5zdGFydExldmVsKHRoaXMubGV2ZWwpO1xuICAgIH0pO1xuICAgIHRoaXMuZmllbGQuYXBwZW5kQ2hpbGQocmVzdGFydEJ1dHRvbik7XG4gIH1cbiAgXG4gIC8qKlxuICAgKiBIYW5kbGVzIGxldmVsIGNvbXBsZXRlIHN0YXRlXG4gICAqL1xuICBwcml2YXRlIGhhbmRsZUxldmVsQ29tcGxldGUoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY291bnRkb3duSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jb3VudGRvd25JbnRlcnZhbCk7XG4gICAgfVxuICAgIHRoaXMucGF1c2UgPSB0cnVlO1xuICAgIHRoaXMubGV2ZWwrKztcbiAgICB0aGlzLmZpZWxkLmlubmVySFRNTCA9ICdMRVZFTCBDT01QTEVURSc7XG4gICAgdGhpcy5zb3VuZE1hbmFnZXIucGxheShTb3VuZE1hbmFnZXIuU09VTkRfRUZGRUNUUy5ZRVMpO1xuICAgIFxuICAgIC8vIEFkZCBuZXh0IGxldmVsIGJ1dHRvblxuICAgIGNvbnN0IG5leHRMZXZlbEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG5leHRMZXZlbEJ1dHRvbi5pZCA9IEVMRU1FTlRfSURTLlJFU1RBUlQ7XG4gICAgbmV4dExldmVsQnV0dG9uLmlubmVySFRNTCA9ICdORVhUIExFVkVMJztcbiAgICBuZXh0TGV2ZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLnN0YXJ0TGV2ZWwodGhpcy5sZXZlbCk7XG4gICAgfSk7XG4gICAgdGhpcy5maWVsZC5hcHBlbmRDaGlsZChuZXh0TGV2ZWxCdXR0b24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgbWF0Y2hlZCBnZW1zIGFuZCB1cGRhdGVzIHNjb3JlXG4gICAqL1xuICBwcml2YXRlIGtpbGwoY2x1c3RlcjogR2VtUG9zaXRpb25bXSk6IHZvaWQge1xuICAgIHRoaXMucGF1c2UgPSB0cnVlO1xuICAgIFxuICAgIC8vIFVwZGF0ZSBzY29yZSBiYXNlZCBvbiBtYXRjaGVzXG4gICAgdGhpcy51cGRhdGVTY29yZUZvck1hdGNoZXMoY2x1c3Rlcik7XG4gICAgXG4gICAgLy8gUHJvY2VzcyBtYXRjaGVkIGdlbXMgaW4gYmF0Y2hlcyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gICAgdGhpcy5wcm9jZXNzTWF0Y2hlZEdlbXMoY2x1c3Rlcik7XG4gIH1cbiAgXG4gIC8qKlxuICAgKiBVcGRhdGVzIHNjb3JlIGJhc2VkIG9uIG1hdGNoZWQgZ2Vtc1xuICAgKi9cbiAgcHJpdmF0ZSB1cGRhdGVTY29yZUZvck1hdGNoZXMoY2x1c3RlcjogR2VtUG9zaXRpb25bXSk6IHZvaWQge1xuICAgIC8vIEFwcGx5IGJvbnVzIG11bHRpcGxpZXIgZm9yIGxhcmdlciBtYXRjaGVzXG4gICAgY29uc3Qgc2l6ZU11bHRpcGxpZXIgPSBjbHVzdGVyLmxlbmd0aCA+IDQgPyAxLjUgOiAxO1xuICAgIHRoaXMuc2NvcmUgKz0gTWF0aC5mbG9vcihjbHVzdGVyLmxlbmd0aCAqIERFRkFVTFRfU0VUVElOR1MuU0NPUkVfTVVMVElQTElFUiAqIHNpemVNdWx0aXBsaWVyKTtcbiAgICB0aGlzLnVwZGF0ZVNjb3JlYm9hcmQoKTtcbiAgICBcbiAgICAvLyBQbGF5IGV4cGxvc2lvbiBzb3VuZCBiYXNlZCBvbiBjbHVzdGVyIHNpemVcbiAgICBpZiAoY2x1c3Rlci5sZW5ndGggPj0gNSkge1xuICAgICAgdGhpcy5zb3VuZE1hbmFnZXIucGxheShTb3VuZE1hbmFnZXIuU09VTkRfRUZGRUNUUy5FWFBMT1NJT05fQklHKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zb3VuZE1hbmFnZXIucGxheShTb3VuZE1hbmFnZXIuU09VTkRfRUZGRUNUUy5FWFBMT1NJT04pO1xuICAgIH1cbiAgfVxuICBcbiAgLyoqXG4gICAqIFByb2Nlc3NlcyBtYXRjaGVkIGdlbXMgKGtpbGxpbmcgdGhlbSBhbmQgY2hlY2tpbmcgZm9yIG5ldyBtYXRjaGVzKVxuICAgKi9cbiAgcHJpdmF0ZSBwcm9jZXNzTWF0Y2hlZEdlbXMoY2x1c3RlcjogR2VtUG9zaXRpb25bXSk6IHZvaWQge1xuICAgIC8vIEtpbGwgYWxsIGdlbXMgaW4gdGhlIGNsdXN0ZXIgc2ltdWx0YW5lb3VzbHlcbiAgICBjb25zdCBiYXRjaFNpemUgPSA1O1xuICAgIGNvbnN0IHByb2Nlc3NCYXRjaCA9IChzdGFydEluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgIGNvbnN0IGVuZEluZGV4ID0gTWF0aC5taW4oc3RhcnRJbmRleCArIGJhdGNoU2l6ZSwgY2x1c3Rlci5sZW5ndGgpO1xuICAgICAgXG4gICAgICAvLyBQcm9jZXNzIGN1cnJlbnQgYmF0Y2hcbiAgICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDwgZW5kSW5kZXg7IGkrKykge1xuICAgICAgICBjb25zdCBwb3MgPSBjbHVzdGVyW2ldO1xuICAgICAgICAvLyBLaWxsIHRoZSBnZW0gKHRoaXMgdHJpZ2dlcnMgdGhlIGV4aXQgYW5pbWF0aW9uKVxuICAgICAgICB0aGlzLmJvYXJkLmdldEdlbShwb3MuaiwgcG9zLmspLmtpbGwoKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gUHJvY2VzcyBuZXh0IGJhdGNoIG9yIG1vdmUgdG8gbmV4dCBzdGVwXG4gICAgICBpZiAoZW5kSW5kZXggPCBjbHVzdGVyLmxlbmd0aCkge1xuICAgICAgICAvLyBQcm9jZXNzIG5leHQgYmF0Y2ggYWZ0ZXIgYSB2ZXJ5IHNob3J0IGRlbGF5XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcHJvY2Vzc0JhdGNoKGVuZEluZGV4KSwgMTApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQWxsIGdlbXMgcHJvY2Vzc2VkLCB3YWl0IGZvciBraWxsIGFuaW1hdGlvbiB0byBjb21wbGV0ZVxuICAgICAgICAvLyB0aGVuIHNoaWZ0IGdlbXMgZG93blxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc2hpZnREb3duKCksIERFRkFVTFRfU0VUVElOR1MuS0lMTF9ERUxBWSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBTdGFydCBwcm9jZXNzaW5nIHRoZSBmaXJzdCBiYXRjaFxuICAgIHByb2Nlc3NCYXRjaCgwKTtcbiAgfVxuICBcbiAgLyoqXG4gICAqIFNoaWZ0cyBnZW1zIGRvd24gdG8gZmlsbCBlbXB0eSBzcGFjZXNcbiAgICovXG4gIHByaXZhdGUgc2hpZnREb3duKCk6IHZvaWQge1xuICAgIGxldCBzaGlmdGVkID0gZmFsc2U7XG4gICAgXG4gICAgLy8gUHJvY2VzcyBhbGwgY29sdW1ucyBpbiBwYXJhbGxlbCBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gICAgZm9yIChsZXQgaiA9IHRoaXMuYm9hcmQuc2l6ZSAtIDI7IGogPj0gMDsgai0tKSB7XG4gICAgICBmb3IgKGxldCBrID0gMDsgayA8IHRoaXMuYm9hcmQuc2l6ZTsgaysrKSB7XG4gICAgICAgIC8vIElmIGN1cnJlbnQgZ2VtIGlzIGFsaXZlIGFuZCB0aGUgb25lIGJlbG93IGlzIGRlYWQsIHNoaWZ0IGRvd25cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMuYm9hcmQuZ2V0R2VtKGosIGspLnN0YXRlID09PSBHZW1TdGF0ZS5BTElWRSAmJiBcbiAgICAgICAgICB0aGlzLmJvYXJkLmdldEdlbShqICsgMSwgaykuc3RhdGUgPT09IEdlbVN0YXRlLkRFQURcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gU3dhcCB0aGUgZ2Vtc1xuICAgICAgICAgIHRoaXMuYm9hcmQuc3dhcChqLCBrLCBqICsgMSwgayk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWRkIGEgdmVyeSBzbWFsbCBkZWxheSBiYXNlZCBvbiByb3cgcG9zaXRpb24gZm9yIGEgc3VidGxlIGNhc2NhZGluZyBlZmZlY3RcbiAgICAgICAgICBjb25zdCBkZWxheSA9ICh0aGlzLmJvYXJkLnNpemUgLSBqKSAqIDU7IC8vIFJlZHVjZWQgZnJvbSAxMG1zIHRvIDVtcyBmb3Igc21vb3RoZXIgYW5pbWF0aW9uXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmJvYXJkLmdldEdlbShqICsgMSwgaykucGxhY2UoKTsgLy8gUGxhY2Ugb25seSB0aGUgbW92ZWQgZ2VtIGZvciBlZmZpY2llbmN5XG4gICAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgICAgIFxuICAgICAgICAgIHNoaWZ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIElmIGFueSBnZW1zIHdlcmUgc2hpZnRlZCwgY29udGludWUgY2hlY2tpbmcgd2l0aCBhIGRlbGF5XG4gICAgaWYgKHNoaWZ0ZWQpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zaGlmdERvd24oKSwgREVGQVVMVF9TRVRUSU5HUy5BTklNQVRJT05fREVMQVkgLyAyKTsgLy8gUmVkdWNlZCBkZWxheSBmb3IgZmFzdGVyIGFuaW1hdGlvblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBObyBtb3JlIHNoaWZ0cyBuZWVkZWQsIGZpbGwgZW1wdHkgc3BhY2VzIGFuZCBjaGVjayBmb3IgbmV3IG1hdGNoZXNcbiAgICAgIHRoaXMuYm9hcmQuZmlsbE1hcCgpO1xuICAgICAgLy8gV2FpdCBmb3IgZmlsbCBhbmltYXRpb24gdG8gY29tcGxldGUgYmVmb3JlIGNoZWNraW5nIGZvciBuZXcgbWF0Y2hlc1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmZpbmRBbmRQcm9jZXNzTmV3TWF0Y2hlcygpLCBERUZBVUxUX1NFVFRJTkdTLkFOSU1BVElPTl9ERUxBWSAvIDIpOyAvLyBSZWR1Y2VkIGRlbGF5XG4gICAgfVxuICB9XG4gIFxuICAvKipcbiAgICogRmluZHMgYW5kIHByb2Nlc3NlcyBuZXcgbWF0Y2hlcyBhZnRlciBzaGlmdGluZ1xuICAgKi9cbiAgcHJpdmF0ZSBmaW5kQW5kUHJvY2Vzc05ld01hdGNoZXMoKTogdm9pZCB7XG4gICAgLy8gQWRkIGEgZGVsYXkgdG8gYWxsb3cgdGhlIGZhbGxpbmcgYW5pbWF0aW9uIHRvIGNvbXBsZXRlXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBsZXQgbmV3Q2x1c3RlcjogR2VtUG9zaXRpb25bXSA9IFtdO1xuICAgICAgXG4gICAgICAvLyBDaGVjayB0aGUgZW50aXJlIGJvYXJkIGZvciBtYXRjaGVzXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuYm9hcmQuc2l6ZTsgaisrKSB7XG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgdGhpcy5ib2FyZC5zaXplOyBrKyspIHtcbiAgICAgICAgICBjb25zdCBnZW0gPSB0aGlzLmJvYXJkLmdldEdlbShqLCBrKTtcbiAgICAgICAgICBpZiAoZ2VtLnN0YXRlID09PSBHZW1TdGF0ZS5BTElWRSkge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hlcyA9IHRoaXMuYm9hcmQubWF0Y2hDaGFpbihqLCBrKTtcbiAgICAgICAgICAgIGlmIChtYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgLy8gQWRkIHVuaXF1ZSBtYXRjaGVzIHRvIHRoZSBjbHVzdGVyXG4gICAgICAgICAgICAgIGZvciAoY29uc3QgbWF0Y2ggb2YgbWF0Y2hlcykge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgcG9zaXRpb24gaXMgYWxyZWFkeSBpbiB0aGUgY2x1c3RlclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzRHVwbGljYXRlID0gbmV3Q2x1c3Rlci5zb21lKFxuICAgICAgICAgICAgICAgICAgcG9zID0+IHBvcy5qID09PSBtYXRjaC5qICYmIHBvcy5rID09PSBtYXRjaC5rXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoIWlzRHVwbGljYXRlKSB7XG4gICAgICAgICAgICAgICAgICBuZXdDbHVzdGVyLnB1c2gobWF0Y2gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBJZiBuZXcgbWF0Y2hlcyBmb3VuZCwga2lsbCB0aGVtIGFuZCBjb250aW51ZSB0aGUgY2FzY2FkZVxuICAgICAgaWYgKG5ld0NsdXN0ZXIubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zb2xlLmxvZyhgRm91bmQgJHtuZXdDbHVzdGVyLmxlbmd0aH0gbmV3IG1hdGNoZXMgaW4gY2FzY2FkZWApO1xuICAgICAgICAvLyBQcm9jZXNzIHRoZXNlIG1hdGNoZXMsIHdoaWNoIHdpbGwgdHJpZ2dlciBhbm90aGVyIHJvdW5kIG9mXG4gICAgICAgIC8vIHNoaWZ0RG93biBhbmQgZmluZEFuZFByb2Nlc3NOZXdNYXRjaGVzIHdoZW4gY29tcGxldGVcbiAgICAgICAgdGhpcy5raWxsKG5ld0NsdXN0ZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm8gbmV3IG1hdGNoZXMsIHJlc3VtZSBnYW1lcGxheVxuICAgICAgICB0aGlzLnBhdXNlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSwgREVGQVVMVF9TRVRUSU5HUy5GQUxMX0FOSU1BVElPTl9EVVJBVElPTiArIDUwKTsgLy8gUmVkdWNlZCBmcm9tIDEwMG1zIHRvIDUwbXMgZm9yIGZhc3RlciBhbmltYXRpb25cbiAgfVxufVxuIiwiaW1wb3J0IHsgR2FtZSB9IGZyb20gJy4vR2FtZSc7XHJcbmltcG9ydCB7IEVMRU1FTlRfSURTIH0gZnJvbSAnLi9jb25zdGFudHMnO1xyXG5cclxuLyoqXHJcbiAqIE1haW4gZW50cnkgcG9pbnQgZm9yIHRoZSBNYXRjaDMgZ2FtZVxyXG4gKiBJbml0aWFsaXplcyB0aGUgZ2FtZSB3aGVuIHRoZSBET00gaXMgZnVsbHkgbG9hZGVkXHJcbiAqL1xyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG4gIC8vIEluaXRpYWxpemUgdGhlIGdhbWVcclxuICBjb25zdCBnYW1lID0gbmV3IEdhbWUoKTtcclxufSk7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///56\n")}},__webpack_exports__={};__webpack_modules__[56]()})();